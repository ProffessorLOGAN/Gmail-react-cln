/*! For license information please see main.b6f639ce.js.LICENSE.txt */
!function(){var e={76:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,y=0,g=0,k=0,b="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return k=g>0?l(b,--g):0,m--,10===k&&(m=1,v--),k}function _(){return k=g<y?l(b,g++):0,m++,10===k&&(m=1,v++),k}function I(){return l(b,g)}function E(){return g}function T(e,t){return f(b,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return v=m=1,y=h(b=e),g=0,[]}function N(e){return b="",e}function O(e){return u(T(g-1,R(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(k=I())&&k<33;)_();return C(e)>2||C(k)>3?"":" "}function D(e,t){for(;--t&&_()&&!(k<48||k>102||k>57&&k<65||k>70&&k<97););return T(e,E()+(t<6&&32==I()&&32==_()))}function R(e){for(;_();)switch(k){case e:return g;case 34:case 39:34!==e&&39!==e&&R(k);break;case 40:41===e&&R(e);break;case 92:_()}return g}function L(e,t){for(;_()&&e+k!==57&&(e+k!==84||47!==I()););return"/*"+T(t,g-1)+"*"+a(47===e?e:_())}function M(e){for(;!C(I());)_();return T(e,g)}var F="-ms-",j="-moz-",V="-webkit-",U="comm",z="rule",Z="decl",B="@keyframes";function q(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@import":case Z:return e.return=e.return||e.value;case U:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case z:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function W(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return V+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return V+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return V+e+j+e+F+e+e;case 6828:case 4268:return V+e+F+e+e;case 6165:return V+e+F+"flex-"+e+e;case 5187:return V+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return V+e+F+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return V+e+F+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return V+e+F+s(e,"shrink","negative")+e;case 5292:return V+e+F+s(e,"basis","preferred-size")+e;case 6060:return V+"box-"+s(e,"-grow","")+V+e+F+s(e,"grow","positive")+e;case 4554:return V+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,V+"$1"),/(image-set)/,V+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,V+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+V+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,V+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+j+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?W(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+V)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+V+(45===l(e,14)?"inline-":"")+"box$3$1"+V+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return V+e+F+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return V+e+F+e+e}return e}function K(e){return N(G("",null,null,null,[""],e=A(e),0,[0],e))}function G(e,t,n,r,i,o,u,l,f){for(var d=0,v=0,m=u,y=0,g=0,k=0,b=1,w=1,x=1,T=0,C="",A=i,N=o,R=r,F=C;w;)switch(k=T,T=_()){case 40:if(108!=k&&58==F.charCodeAt(m-1)){-1!=c(F+=s(O(T),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:F+=O(T);break;case 9:case 10:case 13:case 32:F+=P(k);break;case 92:F+=D(E()-1,7);continue;case 47:switch(I()){case 42:case 47:p($(L(_(),E()),t,n),f);break;default:F+="/"}break;case 123*b:l[d++]=h(F)*x;case 125*b:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+v:g>0&&h(F)-m&&p(g>32?Y(F+";",r,n,m-1):Y(s(F," ","")+";",r,n,m-2),f);break;case 59:F+=";";default:if(p(R=Q(F,t,n,d,v,i,l,C,A=[],N=[],m),o),123===T)if(0===v)G(F,t,R,R,A,o,m,l,N);else switch(y){case 100:case 109:case 115:G(e,R,R,r&&p(Q(e,R,R,0,0,i,l,C,i,A=[],m),N),i,N,m,l,r?A:N);break;default:G(F,R,R,R,[""],N,0,l,N)}}d=v=g=0,b=x=1,C=F="",m=u;break;case 58:m=1+h(F),g=k;default:if(b<1)if(123==T)--b;else if(125==T&&0==b++&&125==S())continue;switch(F+=a(T),T*b){case 38:x=v>0?1:(F+="\f",-1);break;case 44:l[d++]=(h(F)-1)*x,x=1;break;case 64:45===I()&&(F+=O(_())),y=I(),v=m=h(C=F+=M(E())),T++;break;case 45:45===k&&2==h(F)&&(b=0)}}return o}function Q(e,t,n,r,a,o,c,l,h,p,v){for(var m=a-1,y=0===a?o:[""],g=d(y),k=0,b=0,x=0;k<r;++k)for(var S=0,_=f(e,m+1,m=i(b=c[k])),I=e;S<g;++S)(I=u(b>0?y[S]+" "+_:s(_,/&\f/g,y[S])))&&(h[x++]=I);return w(e,t,n,0===a?z:l,h,p,v)}function $(e,t,n){return w(e,t,n,U,a(k),f(e,2,-2),0)}function Y(e,t,n,r){return w(e,t,n,Z,f(e,0,r),f(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!C(i);)_();return T(e,g)},J=function(e,t){return N(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=X(g-1,t,n);break;case 2:e[n]+=O(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=_());return e}(A(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=J(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=W(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+V)})],r);case z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[H,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,q(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},9797:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},9140:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(9797),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:d}}},2561:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return o}});var i=n(2791),a=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,o=a||function(e){return e()};a||i.useLayoutEffect},9212:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)([(0,a.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,a.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime");t.Z=o},2419:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},1535:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M4 8h4V4H4v4zm6 12h4v-4h-4v4zm-6 0h4v-4H4v4zm0-6h4v-4H4v4zm6 0h4v-4h-4v4zm6-10v4h4V4h-4zm-6 4h4V4h-4v4zm6 6h4v-4h-4v4zm0 6h4v-4h-4v4z"}),"Apps");t.Z=o},7394:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}),"ArrowBack");t.Z=o},6759:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");t.Z=o},8384:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.Z=o},1009:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.Z=o},8996:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");t.Z=o},9823:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},7247:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o},4413:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 2h-8C6.38 2 2 6.66 2 12.28 2 17.5 6.49 22 11.72 22 17.39 22 22 17.62 22 12V4c0-1.1-.9-2-2-2zm-3 13-3-2v2H7V9h7v2l3-2v6z"}),"Duo");t.Z=o},4281:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");t.Z=o},9388:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");t.Z=o},7608:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");t.Z=o},1131:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=o},2041:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.89-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.11-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10z"}),"Inbox");t.Z=o},8638:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M20 3H4c-1.1 0-1.99.9-1.99 2L2 15c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-9 3h2v2h-2V6zm0 3h2v2h-2V9zM8 6h2v2H8V6zm0 3h2v2H8V9zm-1 2H5V9h2v2zm0-3H5V6h2v2zm9 7H8v-2h8v2zm0-4h-2V9h2v2zm0-3h-2V6h2v2zm3 3h-2V9h2v2zm0-3h-2V6h2v2zm-7 15 4-4H8l4 4z"}),"KeyboardHide");t.Z=o},332:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m3.5 18.99 11 .01c.67 0 1.27-.33 1.63-.84L20.5 12l-4.37-6.16c-.36-.51-.96-.84-1.63-.84l-11 .01L8.34 12 3.5 18.99z"}),"LabelImportant");t.Z=o},9990:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M4 18.99h11c.67 0 1.27-.32 1.63-.83L21 12l-4.37-6.16C16.27 5.33 15.67 5 15 5H4l5 7-5 6.99z"}),"LabelImportantOutlined");t.Z=o},1137:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"}),"LocalOffer");t.Z=o},8008:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},2898:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=o},8698:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 3H4.99c-1.11 0-1.98.9-1.98 2L3 19c0 1.1.88 2 1.99 2H19c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 12h-4c0 1.66-1.35 3-3 3s-3-1.34-3-3H4.99V5H19v10zm-3-5h-2V7h-4v3H8l4 4 4-4z"}),"MoveToInbox");t.Z=o},963:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M21 3 3 10.53v.98l6.84 2.65L12.48 21h.98L21 3z"}),"NearMe");t.Z=o},7015:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 10-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5 5.5 5.5H15V5.5z"}),"Note");t.Z=o},8128:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),"Notifications");t.Z=o},2216:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.Z=o},501:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");t.Z=o},2716:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone");t.Z=o},8014:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zm-3 11H8v-5h8v5zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm-1-9H6v4h12V3z"}),"Print");t.Z=o},492:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"Redo");t.Z=o},5403:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},7122:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},151:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");t.Z=o},7113:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorderOutlined");t.Z=o},2207:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"}),"UnfoldMore");t.Z=o},2686:function(e,t,n){"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"}),"WatchLater");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(1905)},5361:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(7462),i=n(3366),a=n(6189),o=n(2466),u=n(5080),s=n(4942);function c(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,s.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,s.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var l=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},k=["mode","contrastThreshold","tonalOffset"],b={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function S(e){var t=e.mode,n=void 0===t?"light":t,u=e.contrastThreshold,s=void 0===u?3:u,c=e.tonalOffset,S=void 0===c?.2:c,_=(0,i.Z)(e,k),I=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),N=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function O(e){return(0,l.mi)(e,w.text.primary)>=s?w.text.primary:b.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,o=void 0===i?500:i,u=e.lightShade,s=void 0===u?300:u,c=e.darkShade,l=void 0===c?700:c;if(!(t=(0,r.Z)({},t)).main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,a.Z)(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error((0,a.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",s,S),x(t,"dark",l,S),t.contrastText||(t.contrastText=O(t.main)),t},D={dark:w,light:b};return(0,o.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:P({color:I,name:"primary"}),secondary:P({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:N,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:A,name:"success"}),grey:h,contrastThreshold:s,getContrastText:O,augmentColor:P,tonalOffset:S},D[n]),_)}var _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var I={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,u=void 0===a?E:a,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,k=void 0===g?16:g,b=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,_);var S=c/14,T=w||function(e){return"".concat(e/k*S,"rem")},C=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,b);var o},A={h1:C(f,96,1.167,-1.5),h2:C(f,60,1.2,-.5),h3:C(d,48,1.167,0),h4:C(d,34,1.235,.25),h5:C(d,24,1.334,0),h6:C(v,20,1.6,.15),subtitle1:C(d,16,1.75,.15),subtitle2:C(v,14,1.57,.1),body1:C(d,16,1.5,.15),body2:C(d,14,1.43,.15),button:C(v,14,1.75,.4,I),caption:C(d,12,1.66,.4),overline:C(d,12,2.66,1,I)};return(0,o.Z)((0,r.Z)({htmlFontSize:k,pxToRem:T,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},A),x,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],N=["duration","easing","delay"],O={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(e){return"".concat(Math.round(e),"ms")}function R(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},O,e.easing),n=(0,r.Z)({},P,e.duration);return(0,r.Z)({getAutoHeightDuration:R,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,N);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:D(o)," ").concat(s," ").concat("string"===typeof l?l:D(l))})).join(",")}},e,{easing:t,duration:n})}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,s=e.palette,l=void 0===s?{}:s,f=e.transitions,h=void 0===f?{}:f,d=e.typography,p=void 0===d?{}:d,v=(0,i.Z)(e,F);if(e.vars)throw new Error((0,a.Z)(18));var m=S(l),y=(0,u.Z)(e),g=(0,o.Z)(y,{mixins:c(y.breakpoints,n),palette:m,shadows:A.slice(),typography:T(m,p),transitions:L(h),zIndex:(0,r.Z)({},M)});g=(0,o.Z)(g,v);for(var k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,o.Z)(e,t)}),g)}var V=j()},60:function(e,t,n){"use strict";n.d(t,{ZP:function(){return qe},FO:function(){return Ze}});var r=n(3433),i=n(9439),a=n(3366),o=n(7462),u=n(2791),s=n(9797),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=(0,s.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(76),h=n(9140),d=n(2561),p=(0,u.createContext)("undefined"!==typeof HTMLElement?(0,f.Z)({key:"css"}):null);p.Provider;var v=function(e){return(0,u.forwardRef)((function(t,n){var r=(0,u.useContext)(p);return e(t,r,n)}))},m=(0,u.createContext)({});function y(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var g=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},k=l,b=function(e){return"theme"!==e},w=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?k:b},x=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},S=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;g(t,n,r);(0,d.L)((function(){return function(e,t,n){g(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},_=function e(t,n){var r,i,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=x(t,n,a),l=c||w(s),f=!l("as");return function(){var d=arguments,p=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&p.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{0,p.push(d[0][0]);for(var g=d.length,k=1;k<g;k++)p.push(d[k],d[0][k])}var b=v((function(e,t,n){var r=f&&e.as||s,a="",o=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=(0,u.useContext)(m)}"string"===typeof e.className?a=y(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var g=(0,h.O)(p.concat(o),t.registered,d);a+=t.key+"-"+g.name,void 0!==i&&(a+=" "+i);var k=f&&void 0===c?w(r):l,b={};for(var x in e)f&&"as"===x||k(x)&&(b[x]=e[x]);return b.className=a,b.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(S,{cache:t,serialized:g,isStringTag:"string"===typeof r}),(0,u.createElement)(r,b))}));return b.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=s,b.__emotion_styles=p,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+i}}),b.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:x(b,r,!0)})).apply(void 0,p)},b}},I=_.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){I[e]=I(e)}));var E=I;function T(e,t){return E(e,t)}var C=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},A=n(5080),N=n(7312),O=["variant"];function P(e){return 0===e.length}function D(e){var t=e.variant,n=(0,a.Z)(e,O),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?P(r)?e[t]:(0,N.Z)(e[t]):"".concat(P(r)?t:(0,N.Z)(t)).concat((0,N.Z)(e[t].toString()))})),r}var R=n(4942),L=n(8247),M=n(8529);var F=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,L.Z)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},j=n(5682),V=n(1184);function U(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var z=(0,M.Z)({prop:"border",themeKey:"borders",transform:U}),Z=(0,M.Z)({prop:"borderTop",themeKey:"borders",transform:U}),B=(0,M.Z)({prop:"borderRight",themeKey:"borders",transform:U}),q=(0,M.Z)({prop:"borderBottom",themeKey:"borders",transform:U}),H=(0,M.Z)({prop:"borderLeft",themeKey:"borders",transform:U}),W=(0,M.Z)({prop:"borderColor",themeKey:"palette"}),K=(0,M.Z)({prop:"borderTopColor",themeKey:"palette"}),G=(0,M.Z)({prop:"borderRightColor",themeKey:"palette"}),Q=(0,M.Z)({prop:"borderBottomColor",themeKey:"palette"}),$=(0,M.Z)({prop:"borderLeftColor",themeKey:"palette"}),Y=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,j.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,V.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,j.NA)(t,e)}}))}return null};Y.propTypes={},Y.filterProps=["borderRadius"];var X=F(z,Z,B,q,H,W,K,G,Q,$,Y),J=F((0,M.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,M.Z)({prop:"display"}),(0,M.Z)({prop:"overflow"}),(0,M.Z)({prop:"textOverflow"}),(0,M.Z)({prop:"visibility"}),(0,M.Z)({prop:"whiteSpace"})),ee=F((0,M.Z)({prop:"flexBasis"}),(0,M.Z)({prop:"flexDirection"}),(0,M.Z)({prop:"flexWrap"}),(0,M.Z)({prop:"justifyContent"}),(0,M.Z)({prop:"alignItems"}),(0,M.Z)({prop:"alignContent"}),(0,M.Z)({prop:"order"}),(0,M.Z)({prop:"flex"}),(0,M.Z)({prop:"flexGrow"}),(0,M.Z)({prop:"flexShrink"}),(0,M.Z)({prop:"alignSelf"}),(0,M.Z)({prop:"justifyItems"}),(0,M.Z)({prop:"justifySelf"})),te=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,j.eI)(e.theme,"spacing",8,"gap");return(0,V.k9)(e,e.gap,(function(e){return{gap:(0,j.NA)(t,e)}}))}return null};te.propTypes={},te.filterProps=["gap"];var ne=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,j.eI)(e.theme,"spacing",8,"columnGap");return(0,V.k9)(e,e.columnGap,(function(e){return{columnGap:(0,j.NA)(t,e)}}))}return null};ne.propTypes={},ne.filterProps=["columnGap"];var re=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,j.eI)(e.theme,"spacing",8,"rowGap");return(0,V.k9)(e,e.rowGap,(function(e){return{rowGap:(0,j.NA)(t,e)}}))}return null};re.propTypes={},re.filterProps=["rowGap"];var ie=F(te,ne,re,(0,M.Z)({prop:"gridColumn"}),(0,M.Z)({prop:"gridRow"}),(0,M.Z)({prop:"gridAutoFlow"}),(0,M.Z)({prop:"gridAutoColumns"}),(0,M.Z)({prop:"gridAutoRows"}),(0,M.Z)({prop:"gridTemplateColumns"}),(0,M.Z)({prop:"gridTemplateRows"}),(0,M.Z)({prop:"gridTemplateAreas"}),(0,M.Z)({prop:"gridArea"})),ae=F((0,M.Z)({prop:"position"}),(0,M.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,M.Z)({prop:"top"}),(0,M.Z)({prop:"right"}),(0,M.Z)({prop:"bottom"}),(0,M.Z)({prop:"left"})),oe=F((0,M.Z)({prop:"color",themeKey:"palette"}),(0,M.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,M.Z)({prop:"backgroundColor",themeKey:"palette"})),ue=(0,M.Z)({prop:"boxShadow",themeKey:"shadows"});function se(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ce=(0,M.Z)({prop:"width",transform:se}),le=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,V.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||V.VO[t]||se(t)}}))}return null};le.filterProps=["maxWidth"];var fe=(0,M.Z)({prop:"minWidth",transform:se}),he=(0,M.Z)({prop:"height",transform:se}),de=(0,M.Z)({prop:"maxHeight",transform:se}),pe=(0,M.Z)({prop:"minHeight",transform:se}),ve=((0,M.Z)({prop:"size",cssProperty:"width",transform:se}),(0,M.Z)({prop:"size",cssProperty:"height",transform:se}),F(ce,le,fe,he,de,pe,(0,M.Z)({prop:"boxSizing"}))),me=(0,M.Z)({prop:"fontFamily",themeKey:"typography"}),ye=(0,M.Z)({prop:"fontSize",themeKey:"typography"}),ge=(0,M.Z)({prop:"fontStyle",themeKey:"typography"}),ke=(0,M.Z)({prop:"fontWeight",themeKey:"typography"}),be=(0,M.Z)({prop:"letterSpacing"}),we=(0,M.Z)({prop:"textTransform"}),xe=(0,M.Z)({prop:"lineHeight"}),Se=(0,M.Z)({prop:"textAlign"}),_e=F((0,M.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),me,ye,ge,ke,be,xe,Se,we),Ie={borders:X.filterProps,display:J.filterProps,flexbox:ee.filterProps,grid:ie.filterProps,positions:ae.filterProps,palette:oe.filterProps,shadows:ue.filterProps,sizing:ve.filterProps,spacing:j.ZP.filterProps,typography:_e.filterProps},Ee={borders:X,display:J,flexbox:ee,grid:ie,positions:ae,palette:oe,shadows:ue,sizing:ve,spacing:j.ZP,typography:_e};Object.keys(Ie).reduce((function(e,t){return Ie[t].forEach((function(n){e[n]=Ee[t]})),e}),{});function Te(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Ce(e,t){return"function"===typeof e?e(t):e}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,R.Z)(i,e,n),(0,R.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,R.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,V.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=Ce(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,L.Z)(s,n(e,a,u));else{var o=(0,V.k9)({theme:u},a,(function(t){return(0,R.Z)({},e,t)}));Te(o,a)?s[e]=r({sx:a,theme:u}):s=(0,L.Z)(s,o)}else s=(0,L.Z)(s,n(e,a,u))})),(0,V.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Ae.filterProps=["sx"];var Ne=Ae,Oe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Pe=["theme"],De=["theme"];function Re(e){return 0===Object.keys(e).length}function Le(e){return"string"===typeof e&&e.charCodeAt(0)>96}var Me=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Fe=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=D(e.props);r[t]=e.style})),r},je=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[D(n.props)])})),s};function Ve(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Ue=(0,A.Z)();var ze=n(5361),Ze=function(e){return Ve(e)&&"classes"!==e},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Ue:t,u=e.rootShouldForwardProp,s=void 0===u?Ve:u,c=e.slotShouldForwardProp,l=void 0===c?Ve:c,f=e.styleFunctionSx,h=void 0===f?Ne:f,d=function(e){var t=Re(e.theme)?n:e.theme;return h((0,o.Z)({},e,{theme:t}))};return d.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var u,c=t.name,f=t.slot,h=t.skipVariantsResolver,p=t.skipSx,v=t.overridesResolver,m=(0,a.Z)(t,Oe),y=void 0!==h?h:f&&"Root"!==f||!1,g=p||!1;var k=Ve;"Root"===f?k=s:f?k=l:Le(e)&&(k=void 0);var b=T(e,(0,o.Z)({shouldForwardProp:k,label:u},m)),w=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,a.Z)(t,Pe);return e((0,o.Z)({theme:Re(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=Re(e.theme)?n:e.theme,r=Me(c,t);if(r){var a={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];a[u]="function"===typeof s?s((0,o.Z)({},e,{theme:t})):s})),v(e,a)}return null})),c&&!y&&l.push((function(e){var t=Re(e.theme)?n:e.theme;return je(e,Fe(c,t),t,c)})),g||l.push(d);var h=l.length-u.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,a.Z)(t,De);return e((0,o.Z)({theme:Re(r)?n:r},i))});var m=b.apply(void 0,[f].concat((0,r.Z)(l)));return m};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:ze.Z,rootShouldForwardProp:Ze}),qe=Be},8203:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5735);var i=n(5080),a=n(2791);var o=a.createContext(null);function u(){return a.useContext(o)}function s(e){return 0===Object.keys(e).length}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=u();return!t||s(t)?e:t},l=(0,i.Z)();var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;return c(e)};function h(e){var t=e.props,n=e.name,i=e.defaultTheme,a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:f(i),name:n,props:t});return a}var d=n(5361);function p(e){return h({props:e.props,name:e.name,defaultTheme:d.Z})}},9853:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},1245:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(9853),c=n(8203),l=n(60),f=n(1217);function h(e){return(0,f.Z)("MuiSvgIcon",e)}(0,n(5878).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),m=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,m=void 0===f?"inherit":f,y=n.component,g=void 0===y?"svg":y,k=n.fontSize,b=void 0===k?"medium":k,w=n.htmlColor,x=n.inheritViewBox,S=void 0!==x&&x,_=n.titleAccess,I=n.viewBox,E=void 0===I?"0 0 24 24":I,T=(0,a.Z)(n,p),C=(0,r.Z)({},n,{color:m,component:g,fontSize:b,instanceFontSize:e.fontSize,inheritViewBox:S,viewBox:E}),A={};S||(A.viewBox=E);var N=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,h,r)}(C);return(0,d.jsxs)(v,(0,r.Z)({as:g,className:(0,o.Z)(N.root,l),ownerState:C,focusable:"false",color:w,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},A,T,{children:[i,_?(0,d.jsx)("title",{children:_}):null]}))}));m.muiName="SvgIcon";var y=m;function g(e,t){var n=function(n,i){return(0,d.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},1905:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u},deprecatedPropType:function(){return s},isMuiElement:function(){return f},ownerDocument:function(){return d},ownerWindow:function(){return p},requirePropFactory:function(){return v},setRef:function(){return m},unstable_ClassNameGenerator:function(){return T},unstable_useEnhancedEffect:function(){return y},unstable_useId:function(){return w},unsupportedProp:function(){return x},useControlled:function(){return S.Z},useEventCallback:function(){return _.Z},useForkRef:function(){return I.Z},useIsFocusVisible:function(){return E.Z}});var r=n(5902),i=n(9853);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},o=n(1245);var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var s=function(e,t){return function(){return null}},c=n(2791),l=n.t(c,2);var f=function(e,t){return c.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function h(e){return e&&e.ownerDocument||document}var d=h;var p=function(e){return h(e).defaultView||window};n(7462);var v=function(e,t){return function(){return null}},m=n(2971).Z,y=n(5721).Z,g=n(9439),k=0;var b=l.useId;var w=function(e){if(void 0!==b){var t=b();return null!=e?e:t}return function(e){var t=c.useState(e),n=(0,g.Z)(t,2),r=n[0],i=n[1],a=e||r;return c.useEffect((function(){null==r&&i("mui-".concat(k+=1))}),[r]),a}(e)};var x=function(e,t,n,r,i){return null},S=n(4938),_=n(6702),I=n(792),E=n(2763),T={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},4938:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9439),i=n(2791);var a=function(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),u=(0,r.Z)(o,2),s=u[0],c=u[1];return[a?t:s,i.useCallback((function(e){a||c(e)}),[])]}},6702:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);var a=function(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},792:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);var a=function(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},2763:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var h=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,h),m=s(n),y=f(l),g=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:y,shape:(0,r.Z)({},c,p)},v),k=arguments.length,b=new Array(k>1?k-1:0),w=1;w<k;w++)b[w-1]=arguments[w];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return x},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.Z,{})}function k(e){return g(e,f)}function b(e){return g(e,h)}function w(e){return g(e,d)}k.propTypes={},k.filterProps=f,b.propTypes={},b.filterProps=h,w.propTypes={},w.filterProps=d;var x=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.Z=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,_e=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Te(){if(Se){var e=Se,t=_e;if(_e=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Se||null!==_e)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ve=null,Ue={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,_t,It,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Pt=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){jt(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var Bt=b.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Wt(e,t,n,r){var i=kt,a=Bt.transition;Bt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,Bt.transition=a}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=gi(e=we(r))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return _n}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Dn=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){jr(e,0)}function Qn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},_r={};function Ir(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}l&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Or.length;Dr++){var Rr=Or[Dr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ve,je=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Zr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Yn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zn?Un(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Zn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Zn=!0)),0<(y=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,jn);case"textInput":return(e=t.data)===jn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Jt=Xt=Yt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function _i(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ei(e,t){Si++,xi[Si]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ai=_i(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ai),Ii(Ci)}function Ri(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var ji=null,Vi=!1,Ui=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Zi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Vi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Je,Zi),i}finally{kt=t,Ui=!1}}return null}var Bi=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Bi[qi++]=Wi,Bi[qi++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else $i=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=Bi[--qi],Bi[qi]=null,Wi=Bi[--qi],Bi[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ta(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function Ua(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function Za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function Ba(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function qa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Pi(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ua(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ga(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ga(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ga(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var $a=Qa(!0),Ya=Qa(!1),Xa={},Ja=_i(Xa),eo=_i(Xa),to=_i(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ja),Ei(Ja,t)}function io(){Ii(Ja),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Ja,n))}function oo(e){eo.current===e&&(Ii(Ja),Ii(eo))}var uo=_i(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Po(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,qo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Uo(){return To().memoizedState}function zo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}vo.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function Bo(e,t){return zo(8390656,8,e,t)}function qo(e,t){return Zo(2048,8,e,t)}function Ho(e,t){return Zo(4,2,e,t)}function Wo(e,t){return Zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Zo(4,4,Ko.bind(null,t,e),n)}function Qo(){}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Bo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Uo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:$o,useContext:Ia,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Ho,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Uo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Po,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):$a(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Io(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_u(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Dc(a,r)).ref=t.ref,e.return=t,t.child=e}function _u(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ds,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ds,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ds,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ds,Ps),Ps|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Oi(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Io(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Cu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Bu(e,t),Ba(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Oi(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&qa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Ua(t,n,l,r),s=t.memoizedState),(u=Na||Za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Pa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Oi(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&qa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Ua(t,n,d,r),p=t.memoizedState),(c=Na||Za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$a(t,e.child,null,a),t.child=$a(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Pu,Du,Ru,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$a(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Dc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),$a(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uu(e,n,t);else if(19===e.tag)Uu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ku(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Pi(t.type)&&Di(),Wu(t),null;case 3:return r=t.stateNode,io(),Ii(Ai),Ii(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":$(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Pu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Ru(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gu(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ai),Ii(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Pu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Ju(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){_c(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||Ju(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$u&&(Ju(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,hs(e,t,n),$u=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){_c(e,e.return,m)}try{ns(5,e,e.return)}catch(m){_c(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Ju(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){_c(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){_c(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_c(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(m){_c(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,vs(t,e),$u=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Ju(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_c(r,n,m)}}break;case 5:Ju(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){_c(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){_c(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Xu=s):xs(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,$u=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&is(t)}catch(d){_c(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function xs(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{is(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var Ss,_s=Math.ceil,Is=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ps=0,Ds=_i(0),Rs=0,Ls=null,Ms=0,Fs=0,js=0,Vs=null,Us=null,zs=0,Zs=1/0,Bs=null,qs=!1,Hs=null,Ws=null,Ks=!1,Gs=null,Qs=0,$s=0,Ys=null,Xs=-1,Js=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Js&&(Js=vt()),Js):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Ys=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Fs|=n),4===Rs&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Zs=Ye()+500,Vi&&Zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Js=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(Bs=null,Zs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Is.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Us,Bs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),t);break}wc(e,Us,Bs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_s(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Us,Bs),r);break}wc(e,Us,Bs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=Us,Us=n,null!==t&&oc(t)),e}function oc(e){null===Us?Us=e:Us.push.apply(Us,e)}function uc(e,t){for(t&=~js,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,Bs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Zs=Ye()+500,Vi&&Zi())}}function lc(e){null!==Gs&&0===Gs.tag&&0===(6&Cs)&&xc();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Zi()}}function fc(){Ps=Ds.current,Ii(Ds)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ii(Ai),Ii(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Dc(e.current,null),Os=Ps=t,Rs=0,Ls=null,js=Fs=Ms=0,Us=Vs=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Rs=1,Ls=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function vc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ms)&&0===(268435455&Fs)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(Bs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Is.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Rs}function yc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Qe();)kc(Ns)}function kc(e){var t=Ss(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ku(n,t,Ps)))return void(Ns=n)}else{if(null!==(n=Gu(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Rs=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Rs&&(Rs=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Gs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Ac(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=qt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Ks&&(Ks=!1,Gs=e,Qs=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(qs)throw qs=!1,e=Hs,Hs=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),0!==(1&(o=e.pendingLanes))?e===Ys?$s++:($s=0,Ys=e):$s=0,Zi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function xc(){if(null!==Gs){var e=bt(Qs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===Gs)var r=!1;else{if(e=Gs,Gs=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function Sc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):js|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Lc(n.children,i,o,t);case _:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Zc(e){if(!e)return Ti;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=Zc(null),n=e.current,(a=Da(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function qc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(Ei(uo,1&uo.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return qu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Pa(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=qu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$a(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Da(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return _u(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Bu(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,_a(t,n),Ba(t,r,i),Ha(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Zu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Zr(8===e.nodeType?e.parentNode:e),lc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Zs=Ye()+500,Zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Kc(e,1)}},xt=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},_t=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&R(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?S():(_=!1,I=null)}}else _=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){y(N,0)};function D(e){I=e,_||(_=!0,S())}function R(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,R(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return rr},SDK_VERSION:function(){return di},_DEFAULT_ENTRY_NAME:function(){return ei},_addComponent:function(){return ii},_addOrOverwriteComponent:function(){return ai},_apps:function(){return ni},_clearComponents:function(){return ci},_components:function(){return ri},_getProvider:function(){return ui},_registerComponent:function(){return oi},_removeServiceInstance:function(){return si},deleteApp:function(){return yi},getApp:function(){return vi},getApps:function(){return mi},initializeApp:function(){return pi},onLog:function(){return bi},registerVersion:function(){return ki},setLogLevel:function(){return wi}});var t=n(2791),r=n(1250),i=n(4942),a=n(3366),o=n(7462),u=n(8182),s=n(4419),c=n(2065),l=n(60),f=n(8203),h=n(9439),d=n(792),p=n(6702),v=n(2763),m=n(3433);function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}var b=t.createContext(null);function w(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function x(e,t,n){return null!=n[t]?n[t]:e.props[t]}function S(e,n,r){var i=w(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:x(u,"exit",e),enter:x(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:x(u,"exit",e),enter:x(u,"enter",e)})}})),a}var _=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},I=function(e){var n,r;function i(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(g(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,k(n,r);var u=i.prototype;return u.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},u.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,w(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:x(e,"appear",r),enter:x(e,"enter",r),exit:x(e,"exit",r)})}))):S(e,a,o),firstRender:!1}},u.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,o.Z)({},t.children);return delete n[e.key],{children:n}})))},u.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,a.Z)(e,["component","childFactory"]),o=this.state.contextValue,u=_(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(b.Provider,{value:o},u):t.createElement(b.Provider,{value:o},t.createElement(n,i,u))},i}(t.Component);I.propTypes={},I.defaultProps={component:"div",childFactory:function(e){return e}};var E=I,T=(n(76),n(2110),n(9140));n(2561);function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,T.O)(t)}var A=function(){var e=C.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var N=n(184);var O=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,s=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,p=t.useState(!1),v=(0,h.Z)(p,2),m=v[0],y=v[1],g=(0,u.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),k={width:c,height:c,top:-c/2+s,left:-c/2+o},b=(0,u.Z)(r.child,m&&r.childLeaving,a&&r.childPulsate);return l||m||y(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,N.jsx)("span",{className:g,style:k,children:(0,N.jsx)("span",{className:b})})},P=n(5878);var D,R,L,M,F,j,V,U,z=(0,P.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Z=["center","classes","className"],B=A(F||(F=D||(D=y(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),q=A(j||(j=R||(R=y(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),H=A(V||(V=L||(L=y(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),W=(0,l.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),K=(0,l.ZP)(O,{name:"MuiTouchRipple",slot:"Ripple"})(U||(U=M||(M=y(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),z.rippleVisible,B,550,(function(e){return e.theme.transitions.easing.easeInOut}),z.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),z.child,z.childLeaving,q,550,(function(e){return e.theme.transitions.easing.easeInOut}),z.childPulsate,H,(function(e){return e.theme.transitions.easing.easeInOut})),G=t.forwardRef((function(e,n){var r=(0,f.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,s=void 0!==i&&i,c=r.classes,l=void 0===c?{}:c,d=r.className,p=(0,a.Z)(r,Z),v=t.useState([]),y=(0,h.Z)(v,2),g=y[0],k=y[1],b=t.useRef(0),w=t.useRef(null);t.useEffect((function(){w.current&&(w.current(),w.current=null)}),[g]);var x=t.useRef(!1),S=t.useRef(null),_=t.useRef(null),I=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(S.current)}}),[]);var T=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;k((function(e){return[].concat((0,m.Z)(e),[(0,N.jsx)(K,{classes:{ripple:(0,u.Z)(l.ripple,z.ripple),rippleVisible:(0,u.Z)(l.rippleVisible,z.rippleVisible),ripplePulsate:(0,u.Z)(l.ripplePulsate,z.ripplePulsate),child:(0,u.Z)(l.child,z.child),childLeaving:(0,u.Z)(l.childLeaving,z.childLeaving),childPulsate:(0,u.Z)(l.childPulsate,z.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},b.current)])})),b.current+=1,w.current=a}),[l]),C=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?s||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===(null==e?void 0:e.type)&&x.current)x.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(x.current=!0);var l,f,h,d=c?null:I.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(o)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}null!=e&&e.touches?null===_.current&&(_.current=function(){T({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},S.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):T({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[s,T]),A=t.useCallback((function(){C({},{pulsate:!0})}),[C]),O=t.useCallback((function(e,t){if(clearTimeout(S.current),"touchend"===(null==e?void 0:e.type)&&_.current)return _.current(),_.current=null,void(S.current=setTimeout((function(){O(e,t)})));_.current=null,k((function(e){return e.length>0?e.slice(1):e})),w.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:A,start:C,stop:O}}),[A,C,O]),(0,N.jsx)(W,(0,o.Z)({className:(0,u.Z)(z.root,l.root,d),ref:I},p,{children:(0,N.jsx)(E,{component:null,exit:!0,children:g})}))})),Q=G,$=n(1217);function Y(e){return(0,$.Z)("MuiButtonBase",e)}var X,J=(0,P.Z)("MuiButtonBase",["root","disabled","focusVisible"]),ee=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],te=(0,l.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((X={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,i.Z)(X,"&.".concat(J.disabled),{pointerEvents:"none",cursor:"default"}),(0,i.Z)(X,"@media print",{colorAdjust:"exact"}),X)),ne=t.forwardRef((function(e,n){var r=(0,f.Z)({props:e,name:"MuiButtonBase"}),i=r.action,c=r.centerRipple,l=void 0!==c&&c,m=r.children,y=r.className,g=r.component,k=void 0===g?"button":g,b=r.disabled,w=void 0!==b&&b,x=r.disableRipple,S=void 0!==x&&x,_=r.disableTouchRipple,I=void 0!==_&&_,E=r.focusRipple,T=void 0!==E&&E,C=r.LinkComponent,A=void 0===C?"a":C,O=r.onBlur,P=r.onClick,D=r.onContextMenu,R=r.onDragLeave,L=r.onFocus,M=r.onFocusVisible,F=r.onKeyDown,j=r.onKeyUp,V=r.onMouseDown,U=r.onMouseLeave,z=r.onMouseUp,Z=r.onTouchEnd,B=r.onTouchMove,q=r.onTouchStart,H=r.tabIndex,W=void 0===H?0:H,K=r.TouchRippleProps,G=r.touchRippleRef,$=r.type,X=(0,a.Z)(r,ee),J=t.useRef(null),ne=t.useRef(null),re=(0,d.Z)(ne,G),ie=(0,v.Z)(),ae=ie.isFocusVisibleRef,oe=ie.onFocus,ue=ie.onBlur,se=ie.ref,ce=t.useState(!1),le=(0,h.Z)(ce,2),fe=le[0],he=le[1];w&&fe&&he(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){he(!0),J.current.focus()}}}),[]);var de=t.useState(!1),pe=(0,h.Z)(de,2),ve=pe[0],me=pe[1];t.useEffect((function(){me(!0)}),[]);var ye=ve&&!S&&!w;function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I;return(0,p.Z)((function(r){return t&&t(r),!n&&ne.current&&ne.current[e](r),!0}))}t.useEffect((function(){fe&&T&&!S&&ve&&ne.current.pulsate()}),[S,T,fe,ve]);var ke=ge("start",V),be=ge("stop",D),we=ge("stop",R),xe=ge("stop",z),Se=ge("stop",(function(e){fe&&e.preventDefault(),U&&U(e)})),_e=ge("start",q),Ie=ge("stop",Z),Ee=ge("stop",B),Te=ge("stop",(function(e){ue(e),!1===ae.current&&he(!1),O&&O(e)}),!1),Ce=(0,p.Z)((function(e){J.current||(J.current=e.currentTarget),oe(e),!0===ae.current&&(he(!0),M&&M(e)),L&&L(e)})),Ae=function(){var e=J.current;return k&&"button"!==k&&!("A"===e.tagName&&e.href)},Ne=t.useRef(!1),Oe=(0,p.Z)((function(e){T&&!Ne.current&&fe&&ne.current&&" "===e.key&&(Ne.current=!0,ne.current.stop(e,(function(){ne.current.start(e)}))),e.target===e.currentTarget&&Ae()&&" "===e.key&&e.preventDefault(),F&&F(e),e.target===e.currentTarget&&Ae()&&"Enter"===e.key&&!w&&(e.preventDefault(),P&&P(e))})),Pe=(0,p.Z)((function(e){T&&" "===e.key&&ne.current&&fe&&!e.defaultPrevented&&(Ne.current=!1,ne.current.stop(e,(function(){ne.current.pulsate(e)}))),j&&j(e),P&&e.target===e.currentTarget&&Ae()&&" "===e.key&&!e.defaultPrevented&&P(e)})),De=k;"button"===De&&(X.href||X.to)&&(De=A);var Re={};"button"===De?(Re.type=void 0===$?"button":$,Re.disabled=w):(X.href||X.to||(Re.role="button"),w&&(Re["aria-disabled"]=w));var Le=(0,d.Z)(se,J),Me=(0,d.Z)(n,Le);var Fe=(0,o.Z)({},r,{centerRipple:l,component:k,disabled:w,disableRipple:S,disableTouchRipple:I,focusRipple:T,tabIndex:W,focusVisible:fe}),je=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,s.Z)(a,Y,i);return n&&r&&(o.root+=" ".concat(r)),o}(Fe);return(0,N.jsxs)(te,(0,o.Z)({as:De,className:(0,u.Z)(je.root,y),ownerState:Fe,onBlur:Te,onClick:P,onContextMenu:be,onFocus:Ce,onKeyDown:Oe,onKeyUp:Pe,onMouseDown:ke,onMouseLeave:Se,onMouseUp:xe,onDragLeave:we,onTouchEnd:Ie,onTouchMove:Ee,onTouchStart:_e,ref:Me,tabIndex:w?-1:W,type:$},Re,X,{children:[m,ye?(0,N.jsx)(Q,(0,o.Z)({ref:re,center:l},K)):null]}))})),re=ne,ie=n(9853);function ae(e){return(0,$.Z)("MuiIconButton",e)}var oe=(0,P.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ue=["edge","children","className","color","disabled","disableFocusRipple","size"],se=(0,l.ZP)(re,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,ie.Z)(n.color))],n.edge&&t["edge".concat((0,ie.Z)(n.edge))],t["size".concat((0,ie.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,o.Z)({color:(t.vars||t).palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,i.Z)({},"&.".concat(oe.disabled),{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}))})),ce=t.forwardRef((function(e,t){var n=(0,f.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,c=n.children,l=n.className,h=n.color,d=void 0===h?"default":h,p=n.disabled,v=void 0!==p&&p,m=n.disableFocusRipple,y=void 0!==m&&m,g=n.size,k=void 0===g?"medium":g,b=(0,a.Z)(n,ue),w=(0,o.Z)({},n,{edge:i,color:d,disabled:v,disableFocusRipple:y,size:k}),x=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,ie.Z)(r)),i&&"edge".concat((0,ie.Z)(i)),"size".concat((0,ie.Z)(a))]};return(0,s.Z)(o,ae,t)}(w);return(0,N.jsx)(se,(0,o.Z)({className:(0,u.Z)(x.root,l),centerRipple:!0,focusRipple:!y,disabled:v,ref:t,ownerState:w},b,{children:c}))})),le=n(1245),fe=(0,le.Z)((0,N.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function he(e){return(0,$.Z)("MuiAvatar",e)}(0,P.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var de=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],pe=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return(0,o.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,o.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),ve=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),me=(0,l.ZP)(fe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var ye=t.forwardRef((function(e,n){var r=(0,f.Z)({props:e,name:"MuiAvatar"}),i=r.alt,c=r.children,l=r.className,d=r.component,p=void 0===d?"div":d,v=r.imgProps,m=r.sizes,y=r.src,g=r.srcSet,k=r.variant,b=void 0===k?"circular":k,w=(0,a.Z)(r,de),x=null,S=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=t.useState(!1),u=(0,h.Z)(o,2),s=u[0],c=u[1];return t.useEffect((function(){if(i||a){c(!1);var e=!0,t=new Image;return t.onload=function(){e&&c("loaded")},t.onerror=function(){e&&c("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),s}((0,o.Z)({},v,{src:y,srcSet:g})),_=y||g,I=_&&"error"!==S,E=(0,o.Z)({},r,{colorDefault:!I,component:p,variant:b}),T=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,s.Z)(n,he,t)}(E);return x=I?(0,N.jsx)(ve,(0,o.Z)({alt:i,src:y,srcSet:g,sizes:m,ownerState:E,className:T.img},v)):null!=c?c:_&&i?i[0]:(0,N.jsx)(me,{className:T.fallback}),(0,N.jsx)(pe,(0,o.Z)({as:p,ownerState:E,className:(0,u.Z)(T.root,l),ref:n},w,{children:x}))})),ge=ye,ke=n(8008),be=n(5403),we=n(6759),xe=n(8128),Se=n(1535),_e=n(7248),Ie=n(327),Ee=n(4164);var Te=function(e){e()},Ce=function(){return Te},Ae=t.createContext(null);function Ne(){return(0,t.useContext)(Ae)}var Oe=function(){throw new Error("uSES not initialized!")},Pe=Oe,De=function(e,t){return e===t};function Re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,n=e===Ae?Ne:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De;var i=n(),a=i.store,o=i.subscription,u=i.getServerState,s=Pe(o.addNestedSub,a.getState,u||a.getState,e,r);return(0,t.useDebugValue)(s),s}}var Le=Re();n(6900);var Me={notify:function(){},get:function(){return[]}};function Fe(e,t){var n,r=Me;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=Ce(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Me)},getListeners:function(){return r}};return o}var je=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var Ve=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Fe(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);je((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=r||Ae;return t.createElement(s.Provider,{value:o},i)};function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,n=e===Ae?Ne:function(){return(0,t.useContext)(e)};return function(){return n().store}}var ze=Ue();function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=e===Ae?ze:Ue(e);return function(){return t().dispatch}}var Be,qe=Ze();function He(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function We(e){return!!e&&!!e[Lt]}function Ke(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Mt}(e)||Array.isArray(e)||!!e[Rt]||!!e.constructor[Rt]||et(e)||tt(e))}function Ge(e,t,n){void 0===n&&(n=!1),0===Qe(e)?(n?Object.keys:Ft)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Qe(e){var t=e[Lt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:et(e)?2:tt(e)?3:0}function $e(e,t){return 2===Qe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ye(e,t){return 2===Qe(e)?e.get(t):e[t]}function Xe(e,t,n){var r=Qe(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function Je(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function et(e){return Nt&&e instanceof Map}function tt(e){return Ot&&e instanceof Set}function nt(e){return e.o||e.t}function rt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=jt(e);delete t[Lt];for(var n=Ft(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function it(e,t){return void 0===t&&(t=!1),ot(e)||We(e)||!Ke(e)||(Qe(e)>1&&(e.set=e.add=e.clear=e.delete=at),Object.freeze(e),t&&Ge(e,(function(e,t){return it(t,!0)}),!0)),e}function at(){He(2)}function ot(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ut(e){var t=Vt[e];return t||He(18,e),t}function st(e,t){Vt[e]||(Vt[e]=t)}function ct(){return Ct}function lt(e,t){t&&(ut("Patches"),e.u=[],e.s=[],e.v=t)}function ft(e){ht(e),e.p.forEach(pt),e.p=null}function ht(e){e===Ct&&(Ct=e.l)}function dt(e){return Ct={p:[],l:Ct,h:e,m:!0,_:0}}function pt(e){var t=e[Lt];0===t.i||1===t.i?t.j():t.O=!0}function vt(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ut("ES5").S(t,e,r),r?(n[Lt].P&&(ft(t),He(4)),Ke(e)&&(e=mt(t,e),t.l||gt(t,e)),t.u&&ut("Patches").M(n[Lt].t,e,t.u,t.s)):e=mt(t,n,[]),ft(t),t.u&&t.v(t.u,t.s),e!==Dt?e:void 0}function mt(e,t,n){if(ot(t))return t;var r=t[Lt];if(!r)return Ge(t,(function(i,a){return yt(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return gt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=rt(r.k):r.o;Ge(3===r.i?new Set(i):i,(function(t,a){return yt(e,r,i,t,a,n)})),gt(e,i,!1),n&&e.u&&ut("Patches").R(r,n,e.u,e.s)}return r.o}function yt(e,t,n,r,i,a){if(We(i)){var o=mt(e,i,a&&t&&3!==t.i&&!$e(t.D,r)?a.concat(r):void 0);if(Xe(n,r,o),!We(o))return;e.m=!1}if(Ke(i)&&!ot(i)){if(!e.h.F&&e._<1)return;mt(e,i),t&&t.A.l||gt(e,i)}}function gt(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&it(t,n)}function kt(e,t){var n=e[Lt];return(n?nt(n):e)[t]}function bt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wt(e){e.P||(e.P=!0,e.l&&wt(e.l))}function xt(e){e.o||(e.o=rt(e.t))}function St(e,t,n){var r=et(t)?ut("MapSet").N(t,n):tt(t)?ut("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ct(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=Ut;n&&(i=[r],a=zt);var o=Proxy.revocable(i,a),u=o.revoke,s=o.proxy;return r.k=s,r.j=u,s}(t,n):ut("ES5").J(t,n);return(n?n.A:ct()).p.push(r),r}function _t(e){return We(e)||He(22,e),function e(t){if(!Ke(t))return t;var n,r=t[Lt],i=Qe(t);if(r){if(!r.P&&(r.i<4||!ut("ES5").K(r)))return r.t;r.I=!0,n=It(t,i),r.I=!1}else n=It(t,i);return Ge(n,(function(t,i){r&&Ye(r.t,t)===i||Xe(n,t,e(i))})),3===i?new Set(n):n}(e)}function It(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return rt(e)}function Et(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Lt];return Ut.get(t,e)},set:function(t){var n=this[Lt];Ut.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Lt];if(!i.P)switch(i.i){case 5:r(i)&&wt(i);break;case 4:n(i)&&wt(i)}}}function n(e){for(var t=e.t,n=e.k,r=Ft(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==Lt){var o=t[a];if(void 0===o&&!$e(t,a))return!0;var u=n[a],s=u&&u[Lt];if(s?s.t!==o:!Je(u,o))return!0}}var c=!!t[Lt];return r.length!==Ft(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};st("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=jt(n);delete a[Lt];for(var o=Ft(a),u=0;u<o.length;u++){var s=o[u];a[s]=e(s,t||!!a[s].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:ct(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Lt,{value:a,writable:!0}),i},S:function(e,n,i){i?We(n)&&n[Lt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Lt];if(n){var i=n.t,a=n.k,o=n.D,u=n.i;if(4===u)Ge(a,(function(t){t!==Lt&&(void 0!==i[t]||$e(i,t)?o[t]||e(a[t]):(o[t]=!0,wt(n)))})),Ge(i,(function(e){void 0!==a[e]||$e(a,e)||(o[e]=!1,wt(n))}));else if(5===u){if(r(n)&&(wt(n),o.length=!0),a.length<i.length)for(var s=a.length;s<i.length;s++)o[s]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){Pe=e}(Ie.useSyncExternalStoreWithSelector),function(e){e}(_e.useSyncExternalStore),Be=Ee.unstable_batchedUpdates,Te=Be;var Tt,Ct,At="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Nt="undefined"!=typeof Map,Ot="undefined"!=typeof Set,Pt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Dt=At?Symbol.for("immer-nothing"):((Tt={})["immer-nothing"]=!0,Tt),Rt=At?Symbol.for("immer-draftable"):"__$immer_draftable",Lt=At?Symbol.for("immer-state"):"__$immer_state",Mt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Ft="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,jt=Object.getOwnPropertyDescriptors||function(e){var t={};return Ft(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Vt={},Ut={get:function(e,t){if(t===Lt)return e;var n=nt(e);if(!$e(n,t))return function(e,t,n){var r,i=bt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!Ke(r)?r:r===kt(e.t,t)?(xt(e),e.o[t]=St(e.A.h,r,e)):r},has:function(e,t){return t in nt(e)},ownKeys:function(e){return Reflect.ownKeys(nt(e))},set:function(e,t,n){var r=bt(nt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=kt(nt(e),t),a=null==i?void 0:i[Lt];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Je(n,i)&&(void 0!==n||$e(e.t,t)))return!0;xt(e),wt(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==kt(e.t,t)||t in e.t?(e.D[t]=!1,xt(e),wt(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){He(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){He(12)}},zt={};Ge(Ut,(function(e,t){zt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),zt.deleteProperty=function(e,t){return zt.set.call(this,e,t,void 0)},zt.set=function(e,t,n){return Ut.set.call(this,e[0],t,n,e[0])};var Zt=function(){function e(e){var t=this;this.g=Pt,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&He(6),void 0!==r&&"function"!=typeof r&&He(7),Ke(e)){var u=dt(t),s=St(t,e,void 0),c=!0;try{o=n(s),c=!1}finally{c?ft(u):ht(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return lt(u,r),vt(e,u)}),(function(e){throw ft(u),e})):(lt(u,r),vt(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Dt&&(o=void 0),t.F&&it(o,!0),r){var l=[],f=[];ut("Patches").M(e,o,l,f),r(l,f)}return o}He(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){Ke(e)||He(8),We(e)&&(e=_t(e));var t=dt(this),n=St(this,e,void 0);return n[Lt].C=!0,ht(t),n},t.finishDraft=function(e,t){var n=(e&&e[Lt]).A;return lt(n,t),vt(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Pt&&He(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=ut("Patches").$;return We(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Bt=new Zt,qt=Bt.produce,Ht=(Bt.produceWithPatches.bind(Bt),Bt.setAutoFreeze.bind(Bt),Bt.setUseProxies.bind(Bt),Bt.applyPatches.bind(Bt),Bt.createDraft.bind(Bt),Bt.finishDraft.bind(Bt),qt);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Qt="function"===typeof Symbol&&Symbol.observable||"@@observable",$t=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yt={INIT:"@@redux/INIT"+$t(),REPLACE:"@@redux/REPLACE"+$t(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+$t()}};function Xt(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Jt(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Gt(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Gt(1));return n(Jt)(e,t)}if("function"!==typeof e)throw new Error(Gt(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(Gt(3));return a}function f(e){if("function"!==typeof e)throw new Error(Gt(4));if(s)throw new Error(Gt(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(Gt(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!Xt(e))throw new Error(Gt(7));if("undefined"===typeof e.type)throw new Error(Gt(8));if(s)throw new Error(Gt(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Gt(10));i=e,h({type:Yt.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Gt(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Qt]=function(){return this},e}return h({type:Yt.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Qt]=p,r}function en(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Yt.INIT}))throw new Error(Gt(12));if("undefined"===typeof n(void 0,{type:Yt.PROBE_UNKNOWN_ACTION()}))throw new Error(Gt(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Gt(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function tn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function nn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Gt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=tn.apply(void 0,a)(n.dispatch),Kt(Kt({},n),{},{dispatch:r})}}}function rn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var an=rn();an.withExtraArgument=rn;var on=an,un=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sn=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},cn=Object.defineProperty,ln=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),fn=Object.prototype.hasOwnProperty,hn=Object.prototype.propertyIsEnumerable,dn=function(e,t,n){return t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},pn=function(e,t){for(var n in t||(t={}))fn.call(t,n)&&dn(e,n,t[n]);if(ln)for(var r=0,i=ln(t);r<i.length;r++){n=i[r];hn.call(t,n)&&dn(e,n,t[n])}return e},vn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?tn:tn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function mn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var yn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return un(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,sn([void 0],e[0].concat(this)))):new(t.bind.apply(t,sn([void 0],e.concat(this))))},t}(Array);function gn(e){return Ke(e)?Ht(e,(function(){})):e}function kn(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new yn);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(on.withExtraArgument(n.extraArgument)):r.push(on));0;return r}(e)}}function bn(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return pn(pn({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function wn(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function xn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:gn(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},u={},s={};function c(){var t="function"===typeof e.extraReducers?wn(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,s=t[2],c=void 0===s?void 0:s,l=pn(pn({},i),u);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?wn(t):[t,n,r],o=a[0],u=a[1],s=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return gn(e())};else{var c=gn(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=sn([o[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[s]),n.reduce((function(e,n){if(n){var r;if(We(e))return void 0===(r=n(e,t))?e:r;if(Ke(e))return Ht(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,u[c]=n,s[e]=r?bn(c,r):bn(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:s,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var Sn="listenerMiddleware";bn(Sn+"/add"),bn(Sn+"/removeAll"),bn(Sn+"/remove");Et();var _n=xn({name:"user",initialState:{user:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null}}}),In=_n.actions,En=In.login,Tn=In.logout,Cn=function(e){return e.user.user},An=_n.reducer;function Nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Dn=n(181);function Rn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Dn.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Ln(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mn(e)}function Fn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function jn(e){return jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jn(e)}function Vn(e,t){if(t&&("object"===jn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function Un(e){var t=Fn();return function(){var n,r=Mn(e);if(t){var i=Mn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vn(this,n)}}function zn(e,t,n){return zn=Fn()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&k(i,n.prototype),i},zn.apply(null,arguments)}function Zn(e){var t="function"===typeof Map?new Map:void 0;return Zn=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return zn(e,arguments,Mn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),k(n,e)},Zn(e)}var Bn=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},qn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Bn(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Hn=function(e){return function(e){var t=Bn(e);return qn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Wn=function(e){try{return qn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Kn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Kn(e[n],t[n]));return e}var Gn=function(){function e(){var t=this;Nn(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Qn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Hn(JSON.stringify({alg:"none",type:"JWT"})),Hn(JSON.stringify(a)),""].join(".")}function $n(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Yn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function Xn(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Jn(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function er(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function tr(){var e=$n();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nr(){return"object"===typeof indexedDB}var rr=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),ir.prototype.create),a}return Pn(n)}(Zn(Error)),ir=function(){function e(t,n,r){Nn(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ar(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new rr(n,a,t);return o}}]),e}();function ar(e,t){return e.replace(or,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var or=/\{\$([^}]+)}/g;function ur(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(cr(u)&&cr(s)){if(!sr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function cr(e){return null!==e&&"object"===typeof e}function lr(e){for(var t=[],n=function(){var e=(0,h.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function fr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,h.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function hr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function dr(e,t){var n=new pr(e,t);return n.subscribe.bind(n)}var pr=function(){function e(t,n){var r=this;Nn(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Pn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Rn(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=vr),void 0===r.error&&(r.error=vr),void 0===r.complete&&(r.complete=vr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function vr(){}function mr(e){return e&&e._delegate?e._delegate:e}function yr(){yr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==jn(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function gr(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function kr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){gr(a,r,i,o,u,"next",e)}function u(e){gr(a,r,i,o,u,"throw",e)}o(void 0)}))}}var br=function(){function e(t,n,r){Nn(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),wr="[DEFAULT]",xr=function(){function e(t,n){Nn(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Gn;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:wr})}catch(s){}var t,n=Rn(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,h.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,m.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,m.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Rn(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,h.Z)(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===wr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;return this.component?this.component.multipleInstances?e:wr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Sr,_r,Ir=function(){function e(t){Nn(this,e),this.name=t,this.providers=new Map}return Pn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new xr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Er=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(_r||(_r={}));var Tr={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},Cr=_r.INFO,Ar=(Sr={},(0,i.Z)(Sr,_r.DEBUG,"log"),(0,i.Z)(Sr,_r.VERBOSE,"log"),(0,i.Z)(Sr,_r.INFO,"info"),(0,i.Z)(Sr,_r.WARN,"warn"),(0,i.Z)(Sr,_r.ERROR,"error"),Sr),Nr=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ar[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Or=function(){function e(t){Nn(this,e),this.name=t,this._logLevel=Cr,this._logHandler=Nr,this._userLogHandler=null,Er.push(this)}return Pn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in _r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Tr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_r.DEBUG].concat(t)),this._logHandler.apply(this,[this,_r.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_r.VERBOSE].concat(t)),this._logHandler.apply(this,[this,_r.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_r.INFO].concat(t)),this._logHandler.apply(this,[this,_r.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_r.WARN].concat(t)),this._logHandler.apply(this,[this,_r.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,_r.ERROR].concat(t)),this._logHandler.apply(this,[this,_r.ERROR].concat(t))}}]),e}();var Pr,Dr;var Rr=new WeakMap,Lr=new WeakMap,Mr=new WeakMap,Fr=new WeakMap,jr=new WeakMap;var Vr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Lr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ur(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dr||(Dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Br(this),n),Zr(Rr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zr(e.apply(Br(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Br(this),t].concat(r));return Mr.set(a,t.sort?t.sort():[t]),Zr(a)}}function zr(e){return"function"===typeof e?Ur(e):(e instanceof IDBTransaction&&function(e){if(!Lr.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Lr.set(e,t)}}(e),t=e,(Pr||(Pr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Vr):e);var t}function Zr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Zr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Rr.set(t,e)})).catch((function(){})),jr.set(t,e),t}(e);if(Fr.has(e))return Fr.get(e);var t=zr(e);return t!==e&&(Fr.set(e,t),jr.set(t,e)),t}var Br=function(e){return jr.get(e)};var qr,Hr,Wr=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Gr=new Map;function Qr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gr.get(t))return Gr.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wr.includes(n))){var a=function(){var e=kr(yr().mark((function e(t){var a,o,u,s,c,l,f=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gr.set(t,a),a}}}Vr=function(e){return Kt(Kt({},e),{},{get:function(t,n,r){return Qr(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qr(t,n)||e.has(t,n)}})}(Vr);var $r=function(){function e(t){Nn(this,e),this.container=t}return Pn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Yr="@firebase/app",Xr="0.7.32",Jr=new Or("@firebase/app"),ei="[DEFAULT]",ti=(qr={},(0,i.Z)(qr,Yr,"fire-core"),(0,i.Z)(qr,"@firebase/app-compat","fire-core-compat"),(0,i.Z)(qr,"@firebase/analytics","fire-analytics"),(0,i.Z)(qr,"@firebase/analytics-compat","fire-analytics-compat"),(0,i.Z)(qr,"@firebase/app-check","fire-app-check"),(0,i.Z)(qr,"@firebase/app-check-compat","fire-app-check-compat"),(0,i.Z)(qr,"@firebase/auth","fire-auth"),(0,i.Z)(qr,"@firebase/auth-compat","fire-auth-compat"),(0,i.Z)(qr,"@firebase/database","fire-rtdb"),(0,i.Z)(qr,"@firebase/database-compat","fire-rtdb-compat"),(0,i.Z)(qr,"@firebase/functions","fire-fn"),(0,i.Z)(qr,"@firebase/functions-compat","fire-fn-compat"),(0,i.Z)(qr,"@firebase/installations","fire-iid"),(0,i.Z)(qr,"@firebase/installations-compat","fire-iid-compat"),(0,i.Z)(qr,"@firebase/messaging","fire-fcm"),(0,i.Z)(qr,"@firebase/messaging-compat","fire-fcm-compat"),(0,i.Z)(qr,"@firebase/performance","fire-perf"),(0,i.Z)(qr,"@firebase/performance-compat","fire-perf-compat"),(0,i.Z)(qr,"@firebase/remote-config","fire-rc"),(0,i.Z)(qr,"@firebase/remote-config-compat","fire-rc-compat"),(0,i.Z)(qr,"@firebase/storage","fire-gcs"),(0,i.Z)(qr,"@firebase/storage-compat","fire-gcs-compat"),(0,i.Z)(qr,"@firebase/firestore","fire-fst"),(0,i.Z)(qr,"@firebase/firestore-compat","fire-fst-compat"),(0,i.Z)(qr,"fire-js","fire-js"),(0,i.Z)(qr,"firebase","fire-js-all"),qr),ni=new Map,ri=new Map;function ii(e,t){try{e.container.addComponent(t)}catch(n){Jr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ai(e,t){e.container.addOrOverwriteComponent(t)}function oi(e){var t=e.name;if(ri.has(t))return Jr.debug("There were multiple attempts to register component ".concat(t,".")),!1;ri.set(t,e);var n,r=Rn(ni.values());try{for(r.s();!(n=r.n()).done;){ii(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ui(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function si(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ei;ui(e,t).clearInstance(n)}function ci(){ri.clear()}var li=(Hr={},(0,i.Z)(Hr,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,i.Z)(Hr,"bad-app-name","Illegal App name: '{$appName}"),(0,i.Z)(Hr,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,i.Z)(Hr,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,i.Z)(Hr,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,i.Z)(Hr,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,i.Z)(Hr,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,i.Z)(Hr,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,i.Z)(Hr,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,i.Z)(Hr,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Hr),fi=new ir("app","Firebase",li),hi=function(){function e(t,n,r){var i=this;Nn(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",(function(){return i}),"PUBLIC"))}return Pn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}]),e}(),di="9.9.4";function pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ei,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fi.create("bad-app-name",{appName:String(i)});var a=ni.get(i);if(a){if(sr(e,a.options)&&sr(r,a.config))return a;throw fi.create("duplicate-app",{appName:i})}var o,u=new Ir(i),s=Rn(ri.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new hi(e,r,u);return ni.set(i,l),l}function vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ei,t=ni.get(e);if(!t)throw fi.create("no-app",{appName:e});return t}function mi(){return Array.from(ni.values())}function yi(e){return gi.apply(this,arguments)}function gi(){return gi=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ni.has(n)){e.next=6;break}return ni.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function ki(e,t,n){var r,i=null!==(r=ti[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jr.warn(u.join(" "))}oi(new br("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bi(e,t){if(null!==e&&"function"!==typeof e)throw fi.create("invalid-log-argument");!function(e,t){var n,r=Rn(Er);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Tr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:_r[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function wi(e){var t;t=e,Er.forEach((function(e){e.setLogLevel(t)}))}var xi="firebase-heartbeat-store",Si=null;function _i(){return Si||(Si=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Zr(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Zr(u.result),e.oldVersion,e.newVersion,Zr(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(xi)}}).catch((function(e){throw fi.create("idb-open",{originalErrorMessage:e.message})}))),Si}function Ii(e){return Ei.apply(this,arguments)}function Ei(){return Ei=kr(yr().mark((function e(t){var n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_i();case 3:return r=e.sent,e.abrupt("return",r.transaction(xi).objectStore(xi).get(Ai(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof rr?Jr.warn(e.t0.message):(i=fi.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Jr.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ei.apply(this,arguments)}function Ti(e,t){return Ci.apply(this,arguments)}function Ci(){return Ci=kr(yr().mark((function e(t,n){var r,i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_i();case 3:return i=e.sent,a=i.transaction(xi,"readwrite"),o=a.objectStore(xi),e.next=8,o.put(n,Ai(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof rr?Jr.warn(e.t0.message):(u=fi.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Jr.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ci.apply(this,arguments)}function Ai(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ni=function(){function e(t){var n=this;Nn(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Li(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pn(e,[{key:"triggerHeartbeat",value:function(){var e=kr(yr().mark((function e(){var t,n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Oi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Oi(),n=Pi(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Hn(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Oi(){return(new Date).toISOString().substring(0,10)}function Pi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Rn(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Mi(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Mi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Di,Ri,Li=function(){function e(t){Nn(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ii(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ti(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ti(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,m.Z)(r.heartbeats),(0,m.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Mi(e){return Hn(JSON.stringify({version:2,heartbeats:e})).length}Di="",oi(new br("platform-logger",(function(e){return new $r(e)}),"PRIVATE")),oi(new br("heartbeat",(function(e){return new Ni(e)}),"PRIVATE")),ki(Yr,Xr,Di),ki(Yr,Xr,"esm2017"),ki("fire-js","");var Fi=function(){function e(t,n){var r=this;Nn(this,e),this._delegate=t,this.firebase=n,ii(t,new br("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Pn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),yi(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ei;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ii(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ai(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ji=(Ri={},(0,i.Z)(Ri,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,i.Z)(Ri,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ri),Vi=new ir("app-compat","Firebase",ji);var Ui=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=pi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ur(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ki,setLogLevel:wi,onLog:bi,apps:null,SDK_VERSION:di,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(oi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Vi.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Kn(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ur(n,e=e||ei))throw Vi.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Fi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Kn(n,e)},createSubscribe:dr,ErrorFactory:ir,deepExtend:Kn}),n}(),zi=new Or("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){zi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Zi=self.firebase.SDK_VERSION;Zi&&Zi.indexOf("LITE")>=0&&zi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Bi=Ui;!function(e){ki("@firebase/app-compat","0.1.33",e)}();Bi.registerVersion("firebase","9.9.4","app-compat");var qi=n(3878),Hi=n(9199),Wi=n(5267);function Ki(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Mn(e)););return e}function Gi(){return Gi="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ki(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gi.apply(this,arguments)}function Qi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var $i;Object.create;var Yi="facebook.com",Xi="github.com",Ji="google.com",ea="password",ta="twitter.com",na="EMAIL_SIGNIN",ra="PASSWORD_RESET",ia="RECOVER_EMAIL",aa="REVERT_SECOND_FACTOR_ADDITION",oa="VERIFY_AND_CHANGE_EMAIL",ua="VERIFY_EMAIL";function sa(){return(0,i.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ca=function(){var e;return e={},(0,i.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,i.Z)(e,"argument-error",""),(0,i.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,i.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,i.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,i.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,i.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,i.Z)(e,"cors-unsupported","This browser is not supported."),(0,i.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,i.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,i.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,i.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,i.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,i.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,i.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,i.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,i.Z)(e,"expired-action-code","The action code has expired."),(0,i.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,i.Z)(e,"internal-error","An internal AuthError has occurred."),(0,i.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,i.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,i.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,i.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,i.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,i.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,i.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,i.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,i.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,i.Z)(e,"invalid-email","The email address is badly formatted."),(0,i.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,i.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,i.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,i.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,i.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,i.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,i.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,i.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,i.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,i.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,i.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,i.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,i.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,i.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,i.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,i.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,i.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,i.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,i.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,i.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,i.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,i.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,i.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,i.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,i.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,i.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,i.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,i.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,i.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,i.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,i.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,i.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,i.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,i.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,i.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,i.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,i.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,i.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,i.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,i.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,i.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,i.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,i.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,i.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,i.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,i.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,i.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,i.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,i.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,i.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,i.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,i.Z)(e,"timeout","The operation has timed out."),(0,i.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,i.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,i.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,i.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,i.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,i.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,i.Z)(e,"unverified-email","The operation requires a verified email."),(0,i.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,i.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,i.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,i.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,i.Z)(e,"user-signed-out",""),(0,i.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,i.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,i.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},la=sa,fa=new ir("auth","Firebase",sa()),ha=new Or("@firebase/auth");function da(e){if(ha.logLevel<=_r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ha.error.apply(ha,["Auth (".concat(di,"): ").concat(e)].concat(n))}}function pa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw ga.apply(void 0,[e].concat(n))}function va(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return ga.apply(void 0,[e].concat(n))}function ma(e,t,n){var r=Object.assign(Object.assign({},la()),(0,i.Z)({},t,n));return new ir("auth","Firebase",r).create(t,{appName:e.name})}function ya(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&pa(e,"argument-error"),ma(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function ga(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,m.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,m.Z)(o)))}return fa.create.apply(fa,[e].concat(n))}function ka(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw ga.apply(void 0,[t].concat(r))}}function ba(e){var t="INTERNAL ASSERTION FAILED: "+e;throw da(t),new Error(t)}function wa(e,t){e||ba(t)}var xa=new Map;function Sa(e){wa(e instanceof Function,"Expected a class definition");var t=xa.get(e);return t?(wa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xa.set(e,t),t)}function _a(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ia(){return"http:"===Ea()||"https:"===Ea()}function Ea(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ta=function(){function e(t,n){Nn(this,e),this.shortDelay=t,this.longDelay=n,wa(n>t,"Short delay should be less than long delay!"),this.isMobile=Yn()||er()}return Pn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ia()||Jn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ca(e,t){wa(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Aa=function(){function e(){Nn(this,e)}return Pn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ba("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ba("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ba("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Na=($i={},(0,i.Z)($i,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,i.Z)($i,"MISSING_CUSTOM_TOKEN","internal-error"),(0,i.Z)($i,"INVALID_IDENTIFIER","invalid-email"),(0,i.Z)($i,"MISSING_CONTINUE_URI","internal-error"),(0,i.Z)($i,"INVALID_PASSWORD","wrong-password"),(0,i.Z)($i,"MISSING_PASSWORD","internal-error"),(0,i.Z)($i,"EMAIL_EXISTS","email-already-in-use"),(0,i.Z)($i,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,i.Z)($i,"INVALID_IDP_RESPONSE","invalid-credential"),(0,i.Z)($i,"INVALID_PENDING_TOKEN","invalid-credential"),(0,i.Z)($i,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,i.Z)($i,"MISSING_REQ_TYPE","internal-error"),(0,i.Z)($i,"EMAIL_NOT_FOUND","user-not-found"),(0,i.Z)($i,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,i.Z)($i,"EXPIRED_OOB_CODE","expired-action-code"),(0,i.Z)($i,"INVALID_OOB_CODE","invalid-action-code"),(0,i.Z)($i,"MISSING_OOB_CODE","internal-error"),(0,i.Z)($i,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,i.Z)($i,"INVALID_ID_TOKEN","invalid-user-token"),(0,i.Z)($i,"TOKEN_EXPIRED","user-token-expired"),(0,i.Z)($i,"USER_NOT_FOUND","user-token-expired"),(0,i.Z)($i,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,i.Z)($i,"INVALID_CODE","invalid-verification-code"),(0,i.Z)($i,"INVALID_SESSION_INFO","invalid-verification-id"),(0,i.Z)($i,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,i.Z)($i,"MISSING_SESSION_INFO","missing-verification-id"),(0,i.Z)($i,"SESSION_EXPIRED","code-expired"),(0,i.Z)($i,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,i.Z)($i,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,i.Z)($i,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,i.Z)($i,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,i.Z)($i,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,i.Z)($i,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,i.Z)($i,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,i.Z)($i,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,i.Z)($i,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,i.Z)($i,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,i.Z)($i,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$i),Oa=new Ta(3e4,6e4);function Pa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Da(e,t,n,r){return Ra.apply(this,arguments)}function Ra(){return Ra=kr(yr().mark((function e(t,n,r,i){var a,o=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",La(t,a,kr(yr().mark((function e(){var a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=lr(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Aa.fetch()(Va(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function La(e,t,n){return Ma.apply(this,arguments)}function Ma(){return Ma=kr(yr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,p;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Na),n),e.prev=2,a=new Ua(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw za(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=(0,h.Z)(c,2),f=l[0],d=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw za(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw za(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw za(t,"user-disabled",u);case 29:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw ma(t,p,d);case 34:pa(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof rr)){e.next=41;break}throw e.t0;case 41:pa(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ma.apply(this,arguments)}function Fa(e,t,n,r){return ja.apply(this,arguments)}function ja(){return ja=kr(yr().mark((function e(t,n,r,i){var a,o,u=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Da(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&pa(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ja.apply(this,arguments)}function Va(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ca(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ua=function(){function e(t){var n=this;Nn(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(va(n.auth,"network-request-failed"))}),Oa.get())}))}return Pn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function za(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=va(e,t,r);return i.customData._tokenResponse=n,i}function Za(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Ba.apply(this,arguments)}function qa(e,t){return Ha.apply(this,arguments)}function Ha(){return Ha=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ha.apply(this,arguments)}function Wa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Ka.apply(this,arguments)}function Ga(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Qa(){return Qa=kr(yr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=mr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,ka((a=Ya(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ga($a(a.auth_time)),issuedAtTime:Ga($a(a.iat)),expirationTime:Ga($a(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}function $a(e){return 1e3*Number(e)}function Ya(e){var t,n=e.split("."),r=(0,h.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return da("JWT malformed, contained fewer than 3 sections"),null;try{var u=Wn(a);return u?JSON.parse(u):(da("Failed to decode base64 JWT payload"),null)}catch(s){return da("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function Xa(e,t){return Ja.apply(this,arguments)}function Ja(){return Ja=kr(yr().mark((function e(t,n){var r=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof rr&&eo(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ja.apply(this,arguments)}function eo(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var to=function(){function e(t){Nn(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Pn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),no=function(){function e(t,n){Nn(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Pn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ro(e){return io.apply(this,arguments)}function io(){return io=kr(yr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Xa(t,Wa(r,{idToken:i}));case 6:ka(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?uo(o.providerUserInfo):[],s=oo(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new no(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(){return(ao=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mr(t),e.next=3,ro(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,m.Z)(n),(0,m.Z)(t))}function uo(e){return e.map((function(e){var t=e.providerId,n=Qi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function so(e,t){return co.apply(this,arguments)}function co(){return co=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La(t,{},kr(yr().mark((function e(){var r,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=lr({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Va(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Aa.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),co.apply(this,arguments)}var lo=function(){function e(){Nn(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Pn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ka(e.idToken,"internal-error"),ka("undefined"!==typeof e.idToken,"internal-error"),ka("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ya(e);return ka(t,"internal-error"),ka("undefined"!==typeof t.exp,"internal-error"),ka("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=kr(yr().mark((function e(t){var n,r=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],ka(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,so(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return ba("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(ka("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(ka("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(ka("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function fo(e,t){ka("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ho=function(){function e(t){Nn(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Qi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new to(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,m.Z)(a.providerData):[],this.metadata=new no(a.createdAt||void 0,a.lastLoginAt||void 0)}return Pn(e,[{key:"getIdToken",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xa(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(ka(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Qa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ao.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ka(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ka(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=kr(yr().mark((function e(t){var n,r,i=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ro(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Xa(this,Za(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,S=n.stsTokenManager;ka(k&&S,t,"internal-error");var _=lo.fromJSON(this.name,S);ka("string"===typeof k,t,"internal-error"),fo(f,t.name),fo(h,t.name),ka("boolean"===typeof b,t,"internal-error"),ka("boolean"===typeof w,t,"internal-error"),fo(d,t.name),fo(p,t.name),fo(v,t.name),fo(m,t.name),fo(y,t.name),fo(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=kr(yr().mark((function t(n,r){var i,a,o,u=arguments;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new lo).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ro(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),po=function(){function e(){Nn(this,e),this.type="NONE",this.storage={}}return Pn(e,[{key:"_isAvailable",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();po.type="NONE";var vo=po;function mo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yo=function(){function e(t,n,r){Nn(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mo(this.userKey,a.apiKey,o),this.fullPersistenceKey=mo("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Pn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ho._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=kr(yr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Sa(vo),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Sa(vo),u=mo(i,n.config.apiKey,n.name),s=null,c=Rn(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=ho._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function go(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ko(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_o(t))return"Blackberry";if(Io(t))return"Webos";if(bo(t))return"Safari";if((t.includes("chrome/")||wo(t))&&!t.includes("edge/"))return"Chrome";if(So(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ko(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/firefox\//i.test(e)}function bo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/crios\//i.test(e)}function xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/iemobile/i.test(e)}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/android/i.test(e)}function _o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/blackberry/i.test(e)}function Io(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/webos/i.test(e)}function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function To(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return Eo(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Co(){return tr()&&10===document.documentMode}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return Eo(e)||So(e)||Io(e)||_o(e)||/windows phone/i.test(e)||xo(e)}function No(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=go($n());break;case"Worker":t="".concat(go($n()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(di,"/").concat(r)}var Oo=function(){function e(t){Nn(this,e),this.auth=t,this.queue=[]}return Pn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=kr(yr().mark((function e(t){var n,r,i,a,o,u,s,c;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Rn(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=Rn(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Po=function(){function e(t,n,r){Nn(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ro(this),this.idTokenSubscription=new Ro(this),this.beforeStateQueue=new Oo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fa,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Pn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Sa(t)),this._initializationPromise=this.queue(kr(yr().mark((function r(){var i,a;return yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yo.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=kr(yr().mark((function e(t){var n,r,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return ka(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ro(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mr(t):null)&&ka(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=kr(yr().mark((function e(t){var n,r=this,i=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&ka(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(kr(yr().mark((function n(){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Sa(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ir("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return ka(n=t&&Sa(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yo.create(this,[Sa(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=kr(yr().mark((function e(t){var n=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ka(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ka(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=No(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=kr(yr().mark((function e(){var t,n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Do(e){return mr(e)}var Ro=function(){function e(t){var n=this;Nn(this,e),this.auth=t,this.observer=null,this.addObserver=dr((function(e){return n.observer=e}))}return Pn(e,[{key:"next",get:function(){return ka(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Lo(e,t,n){var r=Do(e);ka(r._canInitEmulator,r,"emulator-config-failed"),ka(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Mo(t),o=function(e){var t=Mo(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Fo(r.substr(a.length+1))}}var o=r.split(":"),u=(0,h.Z)(o,2);return{host:u[0],port:Fo(u[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mo(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fo(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var jo=function(){function e(t,n){Nn(this,e),this.providerId=t,this.signInMethod=n}return Pn(e,[{key:"toJSON",value:function(){return ba("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ba("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ba("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ba("not implemented")}}]),e}();function Vo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:resetPassword",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function zo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function Bo(e,t){return qo.apply(this,arguments)}function qo(){return qo=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:update",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Ho(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithPassword",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e,t){return Go.apply(this,arguments)}function Go(){return Go=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:sendOobCode",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}function Qo(e,t){return $o.apply(this,arguments)}function $o(){return $o=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)}))),$o.apply(this,arguments)}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t){return eu.apply(this,arguments)}function eu(){return eu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ko(t,n));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithEmailLink",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithEmailLink",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}var uu=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Nn(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Pn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ho(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ru(t,{email:this._email,oobCode:this._password}));case 5:pa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zo(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",au(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:pa(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(jo);function su(e,t){return cu.apply(this,arguments)}function cu(){return cu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithIdp",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}var lu=function(e){Ln(n,e);var t=Un(n);function n(){var e;return Nn(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Pn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return su(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,su(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,su(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lr(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Qi(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(jo);function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:sendVerificationCode",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(){return du=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithPhoneNumber",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),du.apply(this,arguments)}function pu(){return pu=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fa(t,"POST","/v1/accounts:signInWithPhoneNumber",Pa(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw za(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}var vu=(0,i.Z)({},"USER_NOT_FOUND","user-not-found");function mu(){return mu=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithPhoneNumber",Pa(t,r),vu));case 2:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}var yu=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Pn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return du.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return pu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return mu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(jo);var gu=function(){function e(t){var n,r,i,a,o,u;Nn(this,e);var s=fr(hr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);ka(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Pn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=fr(hr(e)).link,n=t?fr(hr(t)).deep_link_id:null,r=fr(hr(e)).deep_link_id;return(r?fr(hr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var ku=function(){function e(){Nn(this,e),this.providerId=e.PROVIDER_ID}return Pn(e,null,[{key:"credential",value:function(e,t){return uu._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=gu.parseLink(t);return ka(n,"argument-error"),uu._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ku.PROVIDER_ID="password",ku.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ku.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var bu=function(){function e(t){Nn(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Pn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wu=function(e){Ln(n,e);var t=Un(n);function n(){var e;return Nn(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Pn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,m.Z)(this.scopes)}}]),n}(bu),xu=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return ka(e.idToken||e.accessToken,"argument-error"),lu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return ka("providerId"in t&&"signInMethod"in t,"argument-error"),lu._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(wu),Su=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.call(this,"facebook.com")}return Pn(n,null,[{key:"credential",value:function(e){return lu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(wu);Su.FACEBOOK_SIGN_IN_METHOD="facebook.com",Su.PROVIDER_ID="facebook.com";var _u=function(e){Ln(n,e);var t=Un(n);function n(){var e;return Nn(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Pn(n,null,[{key:"credential",value:function(e,t){return lu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(wu);_u.GOOGLE_SIGN_IN_METHOD="google.com",_u.PROVIDER_ID="google.com";var Iu=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.call(this,"github.com")}return Pn(n,null,[{key:"credential",value:function(e){return lu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(wu);Iu.GITHUB_SIGN_IN_METHOD="github.com",Iu.PROVIDER_ID="github.com";var Eu=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Pn(n,[{key:"_getIdTokenResponse",value:function(e){return su(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,su(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,su(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(jo),Tu=function(e){Ln(n,e);var t=Un(n);function n(e){return Nn(this,n),ka(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Pn(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Eu.fromJSON(e);return ka(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Eu._create(r,n)}catch(i){return null}}}]),n}(bu),Cu=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.call(this,"twitter.com")}return Pn(n,null,[{key:"credential",value:function(e,t){return lu._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(wu);function Au(e,t){return Nu.apply(this,arguments)}function Nu(){return Nu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signUp",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nu.apply(this,arguments)}Cu.TWITTER_SIGN_IN_METHOD="twitter.com",Cu.PROVIDER_ID="twitter.com";var Ou=function(){function e(t){Nn(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Pn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=kr(yr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ho._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Pu(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=kr(yr().mark((function t(n,r,i){var a;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Pu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Pu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Du(){return Du=kr(yr().mark((function e(t){var n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ou({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Au(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ou._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}var Ru=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a){var o,u;return Nn(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Pn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(rr);function Lu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ru._fromErrorAndOperation(e,n,t,r);throw n}))}function Mu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Fu(e,t){return ju.apply(this,arguments)}function ju(){return ju=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,zu(!0,r,n);case 3:return e.t0=qa,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Mu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ju.apply(this,arguments)}function Vu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=kr(yr().mark((function e(t,n){var r,i,a=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Xa,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ou._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function zu(e,t,n){return Zu.apply(this,arguments)}function Zu(){return Zu=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro(n);case 2:i=Mu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",ka(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Zu.apply(this,arguments)}function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=kr(yr().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Xa(t,Lu(a,o,n,t),r);case 6:return ka((u=e.sent).idToken,a,"internal-error"),ka(s=Ya(u.idToken),a,"internal-error"),c=s.sub,ka(t.uid===c,a,"user-mismatch"),e.abrupt("return",Ou._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&pa(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),qu.apply(this,arguments)}function Hu(e,t){return Wu.apply(this,arguments)}function Wu(){return Wu=kr(yr().mark((function e(t,n){var r,i,a,o,u=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Lu(t,i,n);case 4:return a=e.sent,e.next=7,Ou._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}function Ku(e,t){return Gu.apply(this,arguments)}function Gu(){return Gu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hu(Do(t),n));case 1:case"end":return e.stop()}}),e)}))),Gu.apply(this,arguments)}function Qu(e,t){return $u.apply(this,arguments)}function $u(){return($u=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,zu(!1,r,n.providerId);case 3:return e.abrupt("return",Vu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return Xu.apply(this,arguments)}function Xu(){return(Xu=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bu(mr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t){return es.apply(this,arguments)}function es(){return es=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fa(t,"POST","/v1/accounts:signInWithCustomToken",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return ts=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Do(t),e.next=3,Ju(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ou._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}var ns=function(){function e(t,n){Nn(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Pn(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?rs._fromServerResponse(e,t):pa(e,"internal-error")}}]),e}(),rs=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Pn(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ns);function is(e,t,n){var r;ka((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ka("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ka(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ka(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function as(){return as=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),a={requestType:"PASSWORD_RESET",email:n},r&&is(i,a,r),e.next=5,Yo(i,a);case 5:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(){return os=kr(yr().mark((function e(t,n,r){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(mr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(){return us=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bo(mr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,Vo(r,{oobCode:n});case 3:i=e.sent,ka(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return ka(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:ka(i.mfaInfo,r,"internal-error");case 13:ka(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ns._fromServerResponse(Do(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function ls(){return ls=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ss(mr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t,n){return hs.apply(this,arguments)}function hs(){return hs=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Do(t),e.next=3,Au(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ou._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(){return ds=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),a={requestType:"EMAIL_SIGNIN",email:n},ka(r.handleCodeInApp,i,"argument-error"),r&&is(i,a,r),e.next=6,Jo(i,a);case 6:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(){return ps=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),ka((a=ku.credentialWithLink(n,r||_a()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Ku(i,a));case 4:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:createAuthUri",Pa(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(){return ys=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ia()?_a():"http://localhost",i={identifier:n,continueUri:r},e.next=4,vs(mr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function gs(){return(gs=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&is(r.auth,a,n),e.next=8,Qo(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(){return(ks=kr(yr().mark((function e(t,n,r){var i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&is(i.auth,o,r),e.next=8,tu(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Da(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}function xs(){return(xs=kr(yr().mark((function e(t,n){var r,i,a,o,u,s,c;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=mr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Xa(a,bs(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ss(e,t,n){return _s.apply(this,arguments)}function _s(){return _s=kr(yr().mark((function e(t,n,r){var i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Xa(t,zo(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}var Is=Pn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Nn(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Es=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a){var o;return Nn(this,n),(o=t.call(this,e,r,i)).username=a,o}return Pn(n)}(Is),Ts=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"facebook.com",r)}return Pn(n)}(Is),Cs=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Pn(n)}(Es),As=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"google.com",r)}return Pn(n)}(Is),Ns=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){return Nn(this,n),t.call(this,e,"twitter.com",r,i)}return Pn(n)}(Es);function Os(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ya(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Is(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ts(a,i);case"github.com":return new Cs(a,i);case"google.com":return new As(a,i);case"twitter.com":return new Ns(a,i,e.screenName||null);case"custom":case"anonymous":return new Is(a,null);default:return new Is(a,r,i)}}(n)}var Ps=function(){function e(t,n){Nn(this,e),this.type=t,this.credential=n}return Pn(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,i.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ds=function(){function e(t,n,r){Nn(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Pn(e,[{key:"resolveSignIn",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Do(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ns._fromServerResponse(r,e)}));ka(i.mfaPendingCredential,r,"internal-error");var o=Ps._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=kr(yr().mark((function e(t){var a,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ou._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return ka(n.user,r,"internal-error"),e.abrupt("return",Ou._forOperation(n.user,n.operationType,u));case 17:pa(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Rs(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:start",Pa(e,t))}function Ls(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Pa(e,t))}var Ms=function(){function e(t){var n=this;Nn(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ns._fromServerResponse(t.auth,e)})))}))}return Pn(e,[{key:"getSession",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ps,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Xa(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=kr(yr().mark((function e(t){var n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Xa(this.user,Ls(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Fs=new WeakMap;var js="__sak",Vs=function(){function e(t,n){Nn(this,e),this.storageRetriever=t,this.type=n}return Pn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(js,"1"),this.storage.removeItem(js),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Us=function(e){Ln(n,e);var t=Un(n);function n(){var e;return Nn(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=$n();return bo(e)||Eo(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ao(),e._shouldAllowMigration=!0,e}return Pn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Co()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=kr(yr().mark((function e(t,r){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(Mn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=kr(yr().mark((function e(t){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(Mn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(Mn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Vs);Us.type="LOCAL";var zs=Us,Zs=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Pn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Vs);Zs.type="SESSION";var Bs=Zs;function qs(e){return Promise.all(e.map(function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hs=function(){function e(t){Nn(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Pn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=kr(yr().mark((function e(t){var n,r,i,a,o,u,s,c;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,qs(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ws(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hs.receivers=[];var Ks=function(){function e(t){Nn(this,e),this.target=t,this.handlers=new Set}return Pn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=kr(yr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Ws("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Gs(){return window}function Qs(){return"undefined"!==typeof Gs().WorkerGlobalScope&&"function"===typeof Gs().importScripts}function $s(){return Ys.apply(this,arguments)}function Ys(){return(Ys=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Xs(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Js="firebaseLocalStorageDb",ec="firebaseLocalStorage",tc="fbase_key",nc=function(){function e(t){Nn(this,e),this.request=t}return Pn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function rc(e,t){return e.transaction([ec],t?"readwrite":"readonly").objectStore(ec)}function ic(){var e=indexedDB.deleteDatabase(Js);return new nc(e).toPromise()}function ac(){var e=indexedDB.open(Js,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ec,{keyPath:tc})}catch(r){n(r)}})),e.addEventListener("success",kr(yr().mark((function n(){var r;return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ec)){n.next=12;break}return r.close(),n.next=5,ic();case 5:return n.t0=t,n.next=8,ac();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function oc(e,t,n){return uc.apply(this,arguments)}function uc(){return uc=kr(yr().mark((function e(t,n,r){var a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=rc(t,!0).put((a={},(0,i.Z)(a,tc,n),(0,i.Z)(a,"value",r),a)),e.abrupt("return",new nc(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function sc(e,t){return cc.apply(this,arguments)}function cc(){return cc=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rc(t,!1).get(n),e.next=3,new nc(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(e,t){var n=rc(e,!0).delete(t);return new nc(n).toPromise()}var fc=function(){function e(){Nn(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Pn(e,[{key:"_openDb",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ac();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qs()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=kr(yr().mark((function e(){var t=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hs._getInstance(Qs()?self:null),this.receiver._subscribe("keyChanged",function(){var e=kr(yr().mark((function e(n,r){var i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=kr(yr().mark((function e(){var t,n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Ks(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Xs()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ac();case 5:return t=e.sent,e.next=8,oc(t,js,"1");case 8:return e.next=10,lc(t,js);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=kr(yr().mark((function e(t,n){var r=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return oc(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return sc(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=kr(yr().mark((function e(t){var n=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return lc(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=rc(e,!1).getAll();return new nc(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Rn(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fc.type="LOCAL";var hc=fc;function dc(e,t){return Da(e,"POST","/v2/accounts/mfaSignIn:start",Pa(e,t))}function pc(e){return vc.apply(this,arguments)}function vc(){return vc=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Da(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function mc(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=va("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yc(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var gc=1e12,kc=function(){function e(t){Nn(this,e),this.auth=t,this.counter=gc,this._widgets=new Map}return Pn(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bc(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gc,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bc=function(){function e(t,n,r){var i=this;Nn(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;ka(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Pn(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wc=yc("rcb"),xc=new Ta(3e4,6e4),Sc="https://www.google.com/recaptcha/api.js?",_c=function(){function e(){var t;Nn(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Gs().grecaptcha)||void 0===t?void 0:t.render)}return Pn(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ka(Ic(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Gs().grecaptcha):new Promise((function(r,i){var a=Gs().setTimeout((function(){i(va(e,"network-request-failed"))}),xc.get());Gs()[wc]=function(){Gs().clearTimeout(a),delete Gs()[wc];var o=Gs().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(va(e,"internal-error"))},mc("".concat(Sc,"?").concat(lr({onload:wc,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(va(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Gs().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ic(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ec=function(){function e(){Nn(this,e)}return Pn(e,[{key:"load",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new kc(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Tc="recaptcha",Cc={theme:"light",type:"image"},Ac=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Cc),r=arguments.length>2?arguments[2]:void 0;Nn(this,e),this.parameters=n,this.type=Tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Do(r),this.isInvisible="invisible"===this.parameters.size,ka("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;ka(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ec:new _c,this.validateStartingState()}return Pn(e,[{key:"verify",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){ka(!this.parameters.sitekey,this.auth,"argument-error"),ka(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ka("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Gs()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){ka(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=kr(yr().mark((function e(){var t,n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ka(Ia()&&!Qs(),this.auth,"internal-error"),e.next=3,Nc();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,pc(this.auth);case 8:ka(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return ka(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Nc(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Oc=function(){function e(t,n){Nn(this,e),this.verificationId=t,this.onConfirmation=n}return Pn(e,[{key:"confirm",value:function(e){var t=yu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Pc(){return Pc=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Do(t),e.next=3,Mc(i,n,mr(r));case 3:return a=e.sent,e.abrupt("return",new Oc(a,(function(e){return Ku(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Dc(e,t,n){return Rc.apply(this,arguments)}function Rc(){return(Rc=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,zu(!1,i,"phone");case 3:return e.next=5,Mc(i.auth,n,mr(r));case 5:return a=e.sent,e.abrupt("return",new Oc(a,(function(e){return Qu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(){return(Lc=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mr(t),e.next=3,Mc(i.auth,n,mr(r));case 3:return a=e.sent,e.abrupt("return",new Oc(a,(function(e){return Yu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mc(e,t,n){return Fc.apply(this,arguments)}function Fc(){return Fc=kr(yr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,ka("string"===typeof a,t,"argument-error"),ka(r.type===Tc,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return ka("enroll"===u.type,t,"internal-error"),e.next=13,Rs(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return ka("signin"===u.type,t,"internal-error"),ka(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,dc(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Fc.apply(this,arguments)}function jc(){return(jc=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vu(mr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc=function(){function e(t){Nn(this,e),this.providerId=e.PROVIDER_ID,this.auth=Do(t)}return Pn(e,[{key:"verifyPhoneNumber",value:function(e,t){return Mc(this.auth,e,mr(t))}}],[{key:"credential",value:function(e,t){return yu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yu._fromTokenResponse(n,r):null}}]),e}();function Uc(e,t){return t?Sa(t):(ka(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Vc.PROVIDER_ID="phone",Vc.PHONE_SIGN_IN_METHOD="phone";var zc=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Pn(n,[{key:"_getIdTokenResponse",value:function(e){return su(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return su(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return su(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(jo);function Zc(e){return Hu(e.auth,new zc(e),e.bypassAuthState)}function Bc(e){var t=e.auth,n=e.user;return ka(n,t,"internal-error"),Bu(n,new zc(e),e.bypassAuthState)}function qc(e){return Hc.apply(this,arguments)}function Hc(){return Hc=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,ka(r=t.user,n,"internal-error"),e.abrupt("return",Vu(r,new zc(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}var Wc=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Nn(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Pn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=kr(yr().mark((function t(n,r){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=kr(yr().mark((function e(t){var n,r,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zc;case"linkViaPopup":case"linkViaRedirect":return qc;case"reauthViaPopup":case"reauthViaRedirect":return Bc;default:pa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Kc=new Ta(2e3,1e4);function Gc(e,t,n){return Qc.apply(this,arguments)}function Qc(){return Qc=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Do(t),ya(t,n,bu),a=Uc(i,r),o=new Jc(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(){return $c=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya((i=mr(t)).auth,n,bu),a=Uc(i.auth,r),o=new Jc(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Yc(e,t,n){return Xc.apply(this,arguments)}function Xc(){return Xc=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya((i=mr(t)).auth,n,bu),a=Uc(i.auth,r),o=new Jc(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Jc=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a,o){var u;return Nn(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(u),u}return Pn(n,[{key:"executeNotNull",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return ka(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=kr(yr().mark((function e(){var t,n=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wa(1===this.filter.length,"Popup operations only handle one event"),t=Ws(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(va(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(va(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(va(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Kc.get())}()}}]),n}(Wc);Jc.currentPopupAction=null;var el=new Map,tl=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Nn(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Pn(n,[{key:"execute",value:function(){var e=kr(yr().mark((function e(){var t,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=el.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,nl(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gi(Mn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:el.set(this.auth._key(),t);case 21:return this.bypassAuthState||el.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=kr(yr().mark((function e(t){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gi(Mn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gi(Mn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Wc);function nl(e,t){return rl.apply(this,arguments)}function rl(){return rl=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sl(n),i=ul(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),rl.apply(this,arguments)}function il(e,t){return al.apply(this,arguments)}function al(){return al=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ul(t)._set(sl(n),"true"));case 1:case"end":return e.stop()}}),e)}))),al.apply(this,arguments)}function ol(e,t){el.set(e._key(),t)}function ul(e){return Sa(e._redirectPersistence)}function sl(e){return mo("pendingRedirect",e.config.apiKey,e.name)}function cl(e,t,n){return function(e,t,n){return ll.apply(this,arguments)}(e,t,n)}function ll(){return ll=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Do(t),ya(t,n,bu),a=Uc(i,r),e.next=5,il(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t,n){return function(e,t,n){return hl.apply(this,arguments)}(e,t,n)}function hl(){return hl=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya((i=mr(t)).auth,n,bu),a=Uc(i.auth,r),e.next=5,il(a,i.auth);case 5:return e.next=7,kl(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t,n){return function(e,t,n){return pl.apply(this,arguments)}(e,t,n)}function pl(){return pl=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ya((i=mr(t)).auth,n,bu),a=Uc(i.auth,r),e.next=5,zu(!1,i,n.providerId);case 5:return e.next=7,il(a,i.auth);case 7:return e.next=9,kl(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Do(t)._initializationPromise;case 2:return e.abrupt("return",yl(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t){return gl.apply(this,arguments)}function gl(){return gl=kr(yr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Do(t),a=Uc(i,n),o=new tl(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e){return bl.apply(this,arguments)}function bl(){return(bl=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ws("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wl=function(){function e(t){Nn(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Pn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sl(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Sl(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(va(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xl(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(xl(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function xl(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Sl(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function _l(e){return Il.apply(this,arguments)}function Il(){return Il=kr(yr().mark((function e(t){var n,r=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Da(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}var El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tl=/^https?/;function Cl(){return Cl=kr(yr().mark((function e(t){var n,r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,_l(t);case 4:n=e.sent,r=n.authorizedDomains,i=Rn(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Al(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:pa(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Cl.apply(this,arguments)}function Al(e){var t=_a(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Tl.test(r))return!1;if(El.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Nl=new Ta(3e4,6e4);function Ol(){var e=Gs().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,m.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Pl=null;function Dl(e){return Pl=Pl||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ol(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ol(),n(va(e,"network-request-failed"))},timeout:Nl.get()})}if(null===(i=null===(r=Gs().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Gs().gapi)||void 0===a?void 0:a.load)){var u=yc("iframefcb");return Gs()[u]=function(){gapi.load?o():n(va(e,"network-request-failed"))},mc("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Pl=null,e}))}(e),Pl}var Rl=new Ta(5e3,15e3),Ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fl(e){var t=e.config;ka(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ca(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:di},i=Ml.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(lr(r).slice(1))}function jl(e){return Vl.apply(this,arguments)}function Vl(){return Vl=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dl(t);case 2:return n=e.sent,ka(r=Gs().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Fl(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ll,dontclear:!0},(function(e){return new Promise(function(){var n=kr(yr().mark((function n(r,i){var a,o,u;return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Gs().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=va(t,"network-request-failed"),o=Gs().setTimeout((function(){i(a)}),Rl.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}var Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zl="_blank",Zl="http://localhost",Bl=function(){function e(t){Nn(this,e),this.window=t,this.associatedEvent=null}return Pn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Ul),{width:r.toString(),height:i.toString(),top:a,left:o}),c=$n().toLowerCase();n&&(u=wo(c)?zl:n),ko(c)&&(t=t||Zl,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=(0,h.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(To(c)&&"_self"!==u)return Hl(t||"",u),new Bl(null);var f=window.open(t||"",u,l);ka(f,e,"popup-blocked");try{f.focus()}catch(d){}return new Bl(f)}function Hl(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Wl="__/auth/handler",Kl="emulator/auth/handler";function Gl(e,t,n,r,i,a){ka(e.config.authDomain,e,"auth-domain-config-required"),ka(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:di,eventId:i};if(t instanceof bu){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=(0,h.Z)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof wu){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wl);return Ca(t,Kl)}(e),"?").concat(lr(p).slice(1))}var Ql="webStorageSupport",$l=function(){function e(){Nn(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bs,this._completeRedirectFn=yl,this._overrideRedirectResult=ol}return Pn(e,[{key:"_openPopup",value:function(){var e=kr(yr().mark((function e(t,n,r,i){var a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return wa(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Gl(t,n,r,_a(),i),e.abrupt("return",ql(t,o,Ws()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=kr(yr().mark((function e(t,n,r,i){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Gl(t,n,r,_a(),i),Gs().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(wa(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jl(t);case 2:return n=e.sent,r=new wl(t),n.register("authEvent",(function(e){return ka(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ql,{type:Ql},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),pa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cl.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ao()||bo()||Eo()}}]),e}(),Yl=$l,Xl=function(){function e(t){Nn(this,e),this.factorId=t}return Pn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ba("unexpected MultiFactorSessionType")}}}]),e}(),Jl=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this,"phone")).credential=e,r}return Pn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Da(e,"POST","/v2/accounts/mfaEnrollment:finalize",Pa(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Da(e,"POST","/v2/accounts/mfaSignIn:finalize",Pa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Xl),ef=function(){function e(){Nn(this,e)}return Pn(e,null,[{key:"assertion",value:function(e){return Jl._fromCredential(e)}}]),e}();ef.FACTOR_ID="phone";var tf,nf="@firebase/auth",rf="0.20.6",af=function(){function e(t){Nn(this,e),this.auth=t,this.internalListeners=new Map}return Pn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ka(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function of(){return window}tf="Browser",oi(new br("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){ka(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),ka(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:tf,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:No(tf)},i=new Po(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Sa);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),oi(new br("auth-internal",(function(e){return function(e){return new af(e)}(Do(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ki(nf,rf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(tf)),ki(nf,rf,"esm2017");function uf(e,t,n){return sf.apply(this,arguments)}function sf(){return sf=kr(yr().mark((function e(t,n,r){var i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=of(),o=a.BuildInfo,wa(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,pf(n.sessionId);case 4:return u=e.sent,s={},Eo()?s.ibi=o.packageName:So()?s.apn=o.packageName:pa(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Gl(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(){return cf=kr(yr().mark((function e(t){var n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=of(),r=n.BuildInfo,i={},Eo()?i.iosBundleId=r.packageName:So()?i.androidPackageName=r.packageName:pa(t,"operation-not-supported-in-this-environment"),e.next=5,_l(t,i);case 5:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(e){var t=of().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=of(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(va(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),So()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),hf.apply(this,arguments)}function df(e){var t,n,r,i,a,o,u,s,c,l,f=of();ka("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ka("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ka("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ka("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ka("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function pf(e){return vf.apply(this,arguments)}function vf(){return(vf=kr(yr().mark((function e(t){var n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mf(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mf(e){if(wa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var yf=function(e){Ln(n,e);var t=Un(n);function n(){var e;return Nn(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Pn(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gi(Mn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wl);function gf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Sf(),postBody:null,tenantId:e.tenantId,error:va(e,"no-auth-event")}}function kf(e,t){return _f()._set(If(e),t)}function bf(e){return wf.apply(this,arguments)}function wf(){return wf=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_f()._get(If(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_f()._remove(If(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e,t){var n,r,i=function(e){var t=Ef(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ef(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ef(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ef(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?va(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Sf(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _f(){return Sa(zs)}function If(e){return mo("authEvent",e.config.apiKey,e.name)}function Ef(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,qi.Z)(t)||(0,Hi.Z)(t)||(0,Dn.Z)(t)||(0,Wi.Z)());r[0];return fr(r.slice(1).join("?"))}var Tf=function(){function e(){Nn(this,e),this._redirectPersistence=Bs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yl,this._overrideRedirectResult=ol}return Pn(e,[{key:"_initialize",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new yf(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){pa(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=kr(yr().mark((function e(t,n,r,i){var a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return df(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),el.clear(),e.next=10,this._originValidation(t);case 10:return o=gf(t,r,i),e.next=13,kf(t,o);case 13:return e.next=15,uf(t,o,n);case 15:return u=e.sent,e.next=18,lf(u);case 18:return s=e.sent,e.abrupt("return",ff(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return cf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=of(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(kr(yr().mark((function n(){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,bf(e);case 2:t.onEvent(Af());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=kr(yr().mark((function n(r){var i,a;return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,bf(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=xf(i,r.url)),t.onEvent(a||Af());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");of().handleOpenURL=function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Cf=Tf;function Af(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:va("no-auth-event")}}function Nf(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Of(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return!("file:"!==Nf()&&"ionic:"!==Nf()&&"capacitor:"!==Nf()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pf(){return tr()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Df(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return/Edge\/\d+/.test(e)}function Rf(){try{var e=self.localStorage,t=Ws();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n();return Pf()||Df(e)}()||nr()}catch(n){return Lf()&&nr()}return!1}function Lf(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Mf(){return("http:"===Nf()||"https:"===Nf()||Jn()||Of())&&!(er()||Xn())&&Rf()&&!Lf()}function Ff(){return Of()&&"undefined"!==typeof document}function jf(){return Vf.apply(this,arguments)}function Vf(){return(Vf=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ff()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Uf={LOCAL:"local",NONE:"none",SESSION:"session"},zf=ka,Zf="persistence";function Bf(e,t){zf(Object.values(Uf).includes(t),e,"invalid-persistence-type"),er()?zf(t!==Uf.SESSION,e,"unsupported-persistence-type"):Xn()?zf(t===Uf.NONE,e,"unsupported-persistence-type"):Lf()?zf(t===Uf.NONE||t===Uf.LOCAL&&nr(),e,"unsupported-persistence-type"):zf(t===Uf.NONE||Rf(),e,"unsupported-persistence-type")}function qf(e){return Hf.apply(this,arguments)}function Hf(){return Hf=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Wf(),r=mo(Zf,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function Wf(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Kf=ka,Gf=function(){function e(){Nn(this,e),this.browserResolver=Sa(Yl),this.cordovaResolver=Sa(Cf),this.underlyingResolver=null,this._redirectPersistence=Bs,this._completeRedirectFn=yl,this._overrideRedirectResult=ol}return Pn(e,[{key:"_initialize",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=kr(yr().mark((function e(t,n,r,i){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=kr(yr().mark((function e(t,n,r,i){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Ff()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Kf(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jf();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qf(e){return e.unwrap()}function $f(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new th(e,function(e,t){var n,r=mr(e),i=t;return ka(t.customData.operationType,r,"argument-error"),ka(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ds._fromError(r,i)}(e,t));else if(i){var a=Yf(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Yf(e){var t=(e instanceof rr?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof rr)&&"temporaryProof"in t&&"phoneNumber"in t)return Vc.credentialFromResult(e);var n,r=t.providerId;if(!r||r===ea)return null;switch(r){case Ji:n=_u;break;case Yi:n=Su;break;case Xi:n=Iu;break;case ta:n=Cu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Eu._create(r,u):lu._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new xu(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof rr?n.credentialFromError(e):n.credentialFromResult(e)}function Xf(e,t){return t.catch((function(t){throw t instanceof rr&&$f(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Yf(t)),additionalUserInfo:Os(e),user:nh.getOrCreate(r)}}))}function Jf(e,t){return eh.apply(this,arguments)}function eh(){return eh=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Xf(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}var th=function(){function e(t,n){Nn(this,e),this.resolver=n,this.auth=t.wrapped()}return Pn(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Xf(Qf(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),nh=function(){function e(t){Nn(this,e),this._delegate=t,this.multiFactor=function(e){var t=mr(e);return Fs.has(t)||Fs.set(t,Ms._fromUser(t)),Fs.get(t)}(t)}return Pn(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xf(this.auth,Qu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jf(this.auth,Dc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xf(this.auth,Yc(this._delegate,t,Gf)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(Do(this.auth));case 2:return e.abrupt("return",dl(this._delegate,t,Gf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xf(this.auth,Yu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Jf(this.auth,function(e,t,n){return Lc.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Xf(this.auth,function(e,t,n){return $c.apply(this,arguments)}(this._delegate,e,Gf))}},{key:"reauthenticateWithRedirect",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(Do(this.auth));case 2:return e.abrupt("return",fl(this._delegate,t,Gf));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return gs.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ss(mr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ss(mr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return jc.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xs.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ks.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();nh.USER_MAP=new WeakMap;var rh=ka,ih=function(){function e(t,n){if(Nn(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;rh(r,"invalid-api-key",{appName:t.name}),rh(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Gf:void 0;this._delegate=n.initialize({options:{persistence:oh(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ca),this.linkUnderlyingAuth()}return Pn(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?nh.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Lo(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return us.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ss(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return os.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xf(this._delegate,fs(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return ys.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=gu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rh(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vl(this._delegate,Gf);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Xf(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Do(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ah(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ah(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ds.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return as.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Bf(this._delegate,t),e.t0=t,e.next=e.t0===Uf.SESSION?4:e.t0===Uf.LOCAL?6:e.t0===Uf.NONE?11:13;break;case 4:return n=Bs,e.abrupt("break",14);case 6:return e.next=8,Sa(hc)._isAvailable();case 8:return r=e.sent,n=r?hc:zs,e.abrupt("break",14);case 11:return n=vo,e.abrupt("break",14);case 13:return e.abrupt("return",pa("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Xf(this._delegate,function(e){return Du.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Xf(this._delegate,Ku(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Xf(this._delegate,function(e,t){return ts.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Xf(this._delegate,function(e,t,n){return Ku(mr(e),ku.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Xf(this._delegate,function(e,t,n){return ps.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Jf(this._delegate,function(e,t,n){return Pc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rh(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Xf(this._delegate,Gc(this._delegate,t,Gf)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return rh(Mf(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qf(this._delegate);case 3:return e.abrupt("return",cl(this._delegate,t,Gf));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ls.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ah(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&nh.getOrCreate(e))},error:t,complete:n}}function oh(e,t){var n=function(e,t){var n=Wf();if(!n)return[];var r=mo(Zf,e,t);switch(n.getItem(r)){case Uf.NONE:return[vo];case Uf.LOCAL:return[hc,Bs];case Uf.SESSION:return[Bs];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hc)||n.push(hc),"undefined"!==typeof window)for(var r=0,i=[zs,Bs];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(vo)||n.push(vo),n}ih.Persistence=Uf;var uh=function(){function e(){Nn(this,e),this.providerId="phone",this._delegate=new Vc(Qf(Bi.auth()))}return Pn(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Vc.credential(e,t)}}]),e}();uh.PHONE_SIGN_IN_METHOD=Vc.PHONE_SIGN_IN_METHOD,uh.PROVIDER_ID=Vc.PROVIDER_ID;var sh,ch=ka,lh=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bi.app();Nn(this,e),ch(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ac(t,n,i.auth()),this.type=this._delegate.type}return Pn(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(sh=Bi).INTERNAL.registerComponent(new br("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ih(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:na,PASSWORD_RESET:ra,RECOVER_EMAIL:ia,REVERT_SECOND_FACTOR_ADDITION:aa,VERIFY_AND_CHANGE_EMAIL:oa,VERIFY_EMAIL:ua}},EmailAuthProvider:ku,FacebookAuthProvider:Su,GithubAuthProvider:Iu,GoogleAuthProvider:_u,OAuthProvider:xu,SAMLAuthProvider:Tu,PhoneAuthProvider:uh,PhoneMultiFactorGenerator:ef,RecaptchaVerifier:lh,TwitterAuthProvider:Cu,Auth:ih,AuthCredential:jo,Error:rr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),sh.registerVersion("@firebase/auth-compat","0.2.19");var fh,hh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},dh={},ph=ph||{},vh=hh||self;function mh(){}function yh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function gh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var kh="closure_uid_"+(1e9*Math.random()>>>0),bh=0;function wh(e,t,n){return e.call.apply(e.bind,arguments)}function xh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Sh(e,t,n){return(Sh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wh:xh).apply(null,arguments)}function _h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ih(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Eh(){this.s=this.s,this.o=this.o}var Th={};Eh.prototype.s=!1,Eh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,kh)&&e[kh]||(e[kh]=++bh)}(this);delete Th[e]}},Eh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ch=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ah=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Nh(e){return Array.prototype.concat.apply([],arguments)}function Oh(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ph(e){return/^[\s\xa0]*$/.test(e)}var Dh,Rh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lh(e,t){return-1!=e.indexOf(t)}function Mh(e,t){return e<t?-1:e>t?1:0}e:{var Fh=vh.navigator;if(Fh){var jh=Fh.userAgent;if(jh){Dh=jh;break e}}Dh=""}function Vh(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uh(e){var t={};for(var n in e)t[n]=e[n];return t}var zh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zh(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<zh.length;a++)n=zh[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bh(e){return Bh[" "](e),e}Bh[" "]=mh;var qh,Hh=Lh(Dh,"Opera"),Wh=Lh(Dh,"Trident")||Lh(Dh,"MSIE"),Kh=Lh(Dh,"Edge"),Gh=Kh||Wh,Qh=Lh(Dh,"Gecko")&&!(Lh(Dh.toLowerCase(),"webkit")&&!Lh(Dh,"Edge"))&&!(Lh(Dh,"Trident")||Lh(Dh,"MSIE"))&&!Lh(Dh,"Edge"),$h=Lh(Dh.toLowerCase(),"webkit")&&!Lh(Dh,"Edge");function Yh(){var e=vh.document;return e?e.documentMode:void 0}e:{var Xh="",Jh=function(){var e=Dh;return Qh?/rv:([^\);]+)(\)|;)/.exec(e):Kh?/Edge\/([\d\.]+)/.exec(e):Wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$h?/WebKit\/(\S+)/.exec(e):Hh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jh&&(Xh=Jh?Jh[1]:""),Wh){var ed=Yh();if(null!=ed&&ed>parseFloat(Xh)){qh=String(ed);break e}}qh=Xh}var td,nd={};function rd(){return function(e){var t=nd;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Rh(String(qh)).split("."),n=Rh("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Mh(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Mh(0==a[2].length,0==o[2].length)||Mh(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(vh.document&&Wh){var id=Yh();td=id||(parseInt(qh,10)||void 0)}else td=void 0;var ad=td,od=function(){if(!vh.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{vh.addEventListener("test",mh,t),vh.removeEventListener("test",mh,t)}catch(Je){}return e}();function ud(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function sd(e,t){if(ud.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qh){e:{try{Bh(t.nodeName);var i=!0;break e}catch(Xe){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:cd[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&sd.Z.h.call(this)}}ud.prototype.h=function(){this.defaultPrevented=!0},Ih(sd,ud);var cd={2:"touch",3:"pen",4:"mouse"};sd.prototype.h=function(){sd.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ld="closure_listenable_"+(1e6*Math.random()|0),fd=0;function hd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++fd,this.ca=this.fa=!1}function dd(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pd(e){this.src=e,this.g={},this.h=0}function vd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ch(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(dd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function md(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pd.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=md(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new hd(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var yd="closure_lm_"+(1e6*Math.random()|0),gd={};function kd(e,t,n,r,i){if(r&&r.once)return wd(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)kd(e,t[a],n,r,i);return null}return n=Cd(n),e&&e[ld]?e.N(t,n,gh(r)?!!r.capture:!!r,i):bd(e,t,n,!1,r,i)}function bd(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=gh(i)?!!i.capture:!!i,u=Ed(e);if(u||(e[yd]=u=new pd(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Id;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)od||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_d(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wd(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wd(e,t[a],n,r,i);return null}return n=Cd(n),e&&e[ld]?e.O(t,n,gh(r)?!!r.capture:!!r,i):bd(e,t,n,!0,r,i)}function xd(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xd(e,t[a],n,r,i);else r=gh(r)?!!r.capture:!!r,n=Cd(n),e&&e[ld]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=md(a=e.g[t],n,r,i))&&(dd(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ed(e))&&(t=e.g[t.toString()],e=-1,t&&(e=md(t,n,r,i)),(n=-1<e?t[e]:null)&&Sd(n))}function Sd(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ld])vd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_d(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ed(t))?(vd(n,e),0==n.h&&(n.src=null,t[yd]=null)):dd(e)}}}function _d(e){return e in gd?gd[e]:gd[e]="on"+e}function Id(e,t){if(e.ca)e=!0;else{t=new sd(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Sd(e),e=n.call(r,t)}return e}function Ed(e){return(e=e[yd])instanceof pd?e:null}var Td="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cd(e){return"function"===typeof e?e:(e[Td]||(e[Td]=function(t){return e.handleEvent(t)}),e[Td])}function Ad(){Eh.call(this),this.i=new pd(this),this.P=this,this.I=null}function Nd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ud(t,e);else if(t instanceof ud)t.target=t.target||e;else{var i=t;Zh(t=new ud(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Od(o,r,!0,t)&&i}if(i=Od(o=t.g=e,r,!0,t)&&i,i=Od(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Od(o=t.g=n[a],r,!1,t)&&i}function Od(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&vd(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Ih(Ad,Eh),Ad.prototype[ld]=!0,Ad.prototype.removeEventListener=function(e,t,n,r){xd(this,e,t,n,r)},Ad.prototype.M=function(){if(Ad.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)dd(n[r]);delete t.g[e],t.h--}}this.I=null},Ad.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ad.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pd=vh.JSON.stringify;function Dd(){var e=zd,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Rd,Ld=function(){function e(){Nn(this,e),this.h=this.g=null}return Pn(e,[{key:"add",value:function(e,t){var n=Md.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Md=new(function(){function e(t,n){Nn(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Fd}),(function(e){return e.reset()})),Fd=function(){function e(){Nn(this,e),this.next=this.g=this.h=null}return Pn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jd(e){vh.setTimeout((function(){throw e}),0)}function Vd(e,t){Rd||function(){var e=vh.Promise.resolve(void 0);Rd=function(){e.then(Zd)}}(),Ud||(Rd(),Ud=!0),zd.add(e,t)}var Ud=!1,zd=new Ld;function Zd(){for(var e;e=Dd();){try{e.h.call(e.g)}catch(Je){jd(Je)}var t=Md;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ud=!1}function Bd(e,t){Ad.call(this),this.h=e||1,this.g=t||vh,this.j=Sh(this.kb,this),this.l=Date.now()}function qd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hd(e,t,n){if("function"===typeof e)n&&(e=Sh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Sh(e.handleEvent,e)}return 2147483647<Number(t)?-1:vh.setTimeout(e,t||0)}function Wd(e){e.g=Hd((function(){e.g=null,e.i&&(e.i=!1,Wd(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Ih(Bd,Ad),(fh=Bd.prototype).da=!1,fh.S=null,fh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Nd(this,"tick"),this.da&&(qd(this),this.start()))}},fh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fh.M=function(){Bd.Z.M.call(this),qd(this),delete this.g};var Kd=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Wd(this)}},{key:"M",value:function(){Gi(Mn(n.prototype),"M",this).call(this),this.g&&(vh.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Eh);function Gd(e){Eh.call(this),this.h=e,this.g={}}Ih(Gd,Eh);var Qd=[];function $d(e,t,n,r){Array.isArray(n)||(n&&(Qd[0]=n.toString()),n=Qd);for(var i=0;i<n.length;i++){var a=kd(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yd(e){Vh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Sd(e)}),e),e.g={}}function Xd(){this.g=!0}function Jd(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Pd(n)}catch(He){return t}}(e,n)+(r?" "+r:"")}))}Gd.prototype.M=function(){Gd.Z.M.call(this),Yd(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xd.prototype.Aa=function(){this.g=!1},Xd.prototype.info=function(){};var ep={},tp=null;function np(){return tp=tp||new Ad}function rp(e){ud.call(this,ep.Ma,e)}function ip(e){var t=np();Nd(t,new rp(t,e))}function ap(e,t){ud.call(this,ep.STAT_EVENT,e),this.stat=t}function op(e){var t=np();Nd(t,new ap(t,e))}function up(e,t){ud.call(this,ep.Na,e),this.size=t}function sp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vh.setTimeout((function(){e()}),t)}ep.Ma="serverreachability",Ih(rp,ud),ep.STAT_EVENT="statevent",Ih(ap,ud),ep.Na="timingevent",Ih(up,ud);var cp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},lp={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fp(){}function hp(e){return e.h||(e.h=e.i())}function dp(){}fp.prototype.h=null;var pp,vp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mp(){ud.call(this,"d")}function yp(){ud.call(this,"c")}function gp(){}function kp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Gd(this),this.P=wp,e=Gh?125:void 0,this.W=new Bd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bp}function bp(){this.i=null,this.g="",this.h=!1}Ih(mp,ud),Ih(yp,ud),Ih(gp,fp),gp.prototype.g=function(){return new XMLHttpRequest},gp.prototype.i=function(){return{}},pp=new gp;var wp=45e3,xp={},Sp={};function _p(e,t,n){e.K=1,e.v=Kp(zp(t)),e.s=n,e.U=!0,Ip(e,null)}function Ip(e,t){e.F=Date.now(),Ap(e),e.A=zp(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ov(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bp,e.g=um(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kd(Sh(e.Ia,e,e.g),e.O)),$d(e.V,e.g,"readystatechange",e.gb),t=e.H?Uh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ip(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ep(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Tp(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cp(e,n))==Sp){4==t&&(e.o=4,op(14),i=!1),Jd(e.j,e.m,null,"[Incomplete Response]");break}if(r==xp){e.o=4,op(15),Jd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jd(e.j,e.m,r,null),Rp(e,r)}Ep(e)&&r!=Sp&&r!=xp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,op(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jv(t),t.L=!0,op(11))):(Jd(e.j,e.m,n,"[Invalid Chunked Response]"),Dp(e),Pp(e))}function Cp(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Sp:(n=Number(t.substring(n,r)),isNaN(n)?xp:(r+=1)+n>t.length?Sp:(t=t.substr(r,n),e.C=r+n,t))}function Ap(e){e.Y=Date.now()+e.P,Np(e,e.P)}function Np(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=sp(Sh(e.eb,e),t)}function Op(e){e.B&&(vh.clearTimeout(e.B),e.B=null)}function Pp(e){0==e.l.G||e.I||nm(e.l,e)}function Dp(e){Op(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qd(e.W),Yd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rp(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||dv(n.i,e)))if(n.I=e.N,!e.J&&dv(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;tm(n),qv(n)}Xv(n),op(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=sp(Sh(n.ab,n),6e3));if(1>=hv(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else im(n,11)}else if((e.J||n.g==e)&&tm(n),!Ph(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Lh(l,"spdy")||Lh(l,"quic")||Lh(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(pv(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Wp(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=om(r,r.H?r.la:null,r.W),d.J){vv(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Op(p),Ap(p)),r.g=d}else Yv(r);0<n.l.length&&Kv(n)}else"stop"!=a[0]&&"close"!=a[0]||im(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?im(n,7):Bv(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ip(4)}catch(a){}}function Lp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yh(e)||"string"===typeof e)Ah(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(yh(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(yh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Mp(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mp)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Fp(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jp(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jp(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(fh=kp.prototype).setTimeout=function(e){this.P=e},fh.gb=function(e){e=e.target;var t=this.L;t&&3==jv(e)?t.l():this.Ia(e)},fh.Ia=function(e){try{if(e==this.g)e:{var t=jv(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gh||this.g&&(this.h.h||this.g.ga()||Vv(this.g)))){this.I||4!=t||7==n||ip(8==n||0>=r?3:2),Op(this);var i=this.g.ba();this.N=i;t:if(Ep(this)){var a=Vv(this.g);e="";var o=a.length,u=4==jv(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Dp(this),Pp(this);var s="";break t}this.h.i=new vh.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,op(12),Dp(this),Pp(this);break e}Jd(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rp(this,i)}this.U?(Tp(this,t,s),Gh&&this.i&&3==t&&($d(this.V,this.W,"tick",this.fb),this.W.start())):(Jd(this.j,this.m,s,null),Rp(this,s)),4==t&&Dp(this),this.i&&!this.I&&(4==t?nm(this.l,this):(this.i=!1,Ap(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,op(12)):(this.o=0,op(13)),Dp(this),Pp(this)}}}catch(t){}},fh.fb=function(){if(this.g){var e=jv(this.g),t=this.g.ga();this.C<t.length&&(Op(this),Tp(this,e,t),this.i&&4!=e&&Ap(this))}},fh.cancel=function(){this.I=!0,Dp(this)},fh.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ip(3),op(17)),Dp(this),this.o=2,Pp(this)):Np(this,this.Y-e)},(fh=Mp.prototype).R=function(){Fp(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},fh.T=function(){return Fp(this),this.g.concat()},fh.get=function(e,t){return jp(this.h,e)?this.h[e]:t},fh.set=function(e,t){jp(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},fh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Vp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Up(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Up){this.g=void 0!==t?t:e.g,Zp(this,e.j),this.s=e.s,Bp(this,e.i),qp(this,e.m),this.l=e.l,t=e.h;var n=new nv;n.i=t.i,t.g&&(n.g=new Mp(t.g),n.h=t.h),Hp(this,n),this.o=e.o}else e&&(n=String(e).match(Vp))?(this.g=!!t,Zp(this,n[1]||"",!0),this.s=Gp(n[2]||""),Bp(this,n[3]||"",!0),qp(this,n[4]),this.l=Gp(n[5]||"",!0),Hp(this,n[6]||"",!0),this.o=Gp(n[7]||"")):(this.g=!!t,this.h=new nv(null,this.g))}function zp(e){return new Up(e)}function Zp(e,t,n){e.j=n?Gp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bp(e,t,n){e.i=n?Gp(t,!0):t}function qp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hp(e,t,n){t instanceof nv?(e.h=t,function(e,t){t&&!e.j&&(rv(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(iv(this,t),ov(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qp(t,ev)),e.h=new nv(t,e.g))}function Wp(e,t,n){e.h.set(t,n)}function Kp(e){return Wp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$p),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $p(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Up.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qp(t,Yp,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qp(t,Yp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qp(n,"/"==n.charAt(0)?Jp:Xp,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qp(n,tv)),e.join("")};var Yp=/[#\/\?@]/g,Xp=/[#\?:]/g,Jp=/[#\?]/g,ev=/[#\?@]/g,tv=/#/g;function nv(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rv(e){e.g||(e.g=new Mp,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function iv(e,t){rv(e),t=uv(e,t),jp(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jp((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Fp(e)))}function av(e,t){return rv(e),t=uv(e,t),jp(e.g.h,t)}function ov(e,t,n){iv(e,t),0<n.length&&(e.i=null,e.g.set(uv(e,t),Oh(n)),e.h+=n.length)}function uv(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(fh=nv.prototype).add=function(e,t){rv(this),this.i=null,e=uv(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},fh.forEach=function(e,t){rv(this),this.g.forEach((function(n,r){Ah(n,(function(n){e.call(t,n,r,this)}),this)}),this)},fh.T=function(){rv(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},fh.R=function(e){rv(this);var t=[];if("string"===typeof e)av(this,e)&&(t=Nh(t,this.g.get(uv(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Nh(t,e[n])}return t},fh.set=function(e,t){return rv(this),this.i=null,av(this,e=uv(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},fh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},fh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var sv=Pn((function e(t,n){Nn(this,e),this.h=t,this.g=n}));function cv(e){this.l=e||lv,vh.PerformanceNavigationTiming?e=0<(e=vh.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vh.g&&vh.g.Ea&&vh.g.Ea()&&vh.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var lv=10;function fv(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hv(e){return e.h?1:e.g?e.g.size:0}function dv(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function pv(e,t){e.g?e.g.add(t):e.h=t}function vv(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function mv(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Rn(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Oh(e.i)}function yv(){}function gv(){this.g=new yv}function kv(e,t,n){var r=n||"";try{Lp(e,(function(e,n){var i=e;gh(e)&&(i=Pd(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Xe){}}function wv(e){this.l=e.$b||null,this.j=e.ib||!1}function xv(e,t){Ad.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cv.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Rn(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yv.prototype.stringify=function(e){return vh.JSON.stringify(e,void 0)},yv.prototype.parse=function(e){return vh.JSON.parse(e,void 0)},Ih(wv,fp),wv.prototype.g=function(){return new xv(this.l,this.j)},wv.prototype.i=function(e){return function(){return e}}({}),Ih(xv,Ad);var Sv=0;function _v(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Iv(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ev(e)}function Ev(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(fh=xv.prototype).open=function(e,t){if(this.readyState!=Sv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ev(this)},fh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||vh).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},fh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iv(this)),this.readyState=Sv},fh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ev(this)),this.g&&(this.readyState=3,Ev(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof vh.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_v(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},fh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Iv(this):Ev(this),3==this.readyState&&_v(this)}},fh.Ua=function(e){this.g&&(this.response=this.responseText=e,Iv(this))},fh.Ta=function(e){this.g&&(this.response=e,Iv(this))},fh.ha=function(){this.g&&Iv(this)},fh.setRequestHeader=function(e,t){this.v.append(e,t)},fh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},fh.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(xv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tv=vh.JSON.parse;function Cv(e){Ad.call(this),this.headers=new Mp,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Av,this.K=this.L=!1}Ih(Cv,Ad);var Av="",Nv=/^https?$/i,Ov=["POST","PUT"];function Pv(e){return"content-type"==e.toLowerCase()}function Dv(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rv(e),Mv(e)}function Rv(e){e.D||(e.D=!0,Nd(e,"complete"),Nd(e,"error"))}function Lv(e){if(e.h&&"undefined"!=typeof ph&&(!e.C[1]||4!=jv(e)||2!=e.ba()))if(e.v&&4==jv(e))Hd(e.Fa,0,e);else if(Nd(e,"readystatechange"),4==jv(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Vp)[1]||null;if(!a&&vh.self&&vh.self.location){var o=vh.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nv.test(a?a.toLowerCase():"")}t=i}if(t)Nd(e,"complete"),Nd(e,"success");else{e.m=6;try{var u=2<jv(e)?e.g.statusText:""}catch($e){u=""}e.j=u+" ["+e.ba()+"]",Rv(e)}}finally{Mv(e)}}}function Mv(e,t){if(e.g){Fv(e);var n=e.g,r=e.C[0]?mh:null;e.g=null,e.C=null,t||Nd(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fv(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(vh.clearTimeout(e.A),e.A=null)}function jv(e){return e.g?e.g.readyState:0}function Vv(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Av:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ut){return null}}function Uv(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Vh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Wp(e,t,n))}function zv(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zv(e){this.za=0,this.l=[],this.h=new Xd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zv("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zv("baseRetryDelayMs",5e3,e),this.$a=zv("retryDelaySeedMs",1e4,e),this.Ya=zv("forwardChannelMaxRetries",2,e),this.ra=zv("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cv(e&&e.concurrentRequestLimit),this.Ca=new gv,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bv(e){if(Hv(e),3==e.G){var t=e.V++,n=zp(e.F);Wp(n,"SID",e.J),Wp(n,"RID",t),Wp(n,"TYPE","terminate"),Qv(e,n),(t=new kp(e,e.h,t,void 0)).K=2,t.v=Kp(zp(n)),n=!1,vh.navigator&&vh.navigator.sendBeacon&&(n=vh.navigator.sendBeacon(t.v.toString(),"")),!n&&vh.Image&&((new Image).src=t.v,n=!0),n||(t.g=um(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ap(t)}am(e)}function qv(e){e.g&&(Jv(e),e.g.cancel(),e.g=null)}function Hv(e){qv(e),e.u&&(vh.clearTimeout(e.u),e.u=null),tm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vh.clearTimeout(e.m),e.m=null)}function Wv(e,t){e.l.push(new sv(e.Za++,t)),3==e.G&&Kv(e)}function Kv(e){fv(e.i)||e.m||(e.m=!0,Vd(e.Ha,e),e.C=0)}function Gv(e,t){var n;n=t?t.m:e.V++;var r=zp(e.F);Wp(r,"SID",e.J),Wp(r,"RID",n),Wp(r,"AID",e.U),Qv(e,r),e.o&&e.s&&Uv(r,e.o,e.s),n=new kp(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$v(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),pv(e.i,n),_p(n,r,t)}function Qv(e,t){e.j&&Lp({},(function(e,n){Wp(t,n,e)}))}function $v(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Sh(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{kv(l,o,"req"+c+"_")}catch(Tt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yv(e){e.g||e.u||(e.Y=1,Vd(e.Ga,e),e.A=0)}function Xv(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=sp(Sh(e.Ga,e),rm(e,e.A)),e.A++,!0)}function Jv(e){null!=e.B&&(vh.clearTimeout(e.B),e.B=null)}function em(e){e.g=new kp(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=zp(e.oa);Wp(t,"RID","rpc"),Wp(t,"SID",e.J),Wp(t,"CI",e.N?"0":"1"),Wp(t,"AID",e.U),Qv(e,t),Wp(t,"TYPE","xmlhttp"),e.o&&e.s&&Uv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kp(zp(t)),n.s=null,n.U=!0,Ip(n,e)}function tm(e){null!=e.v&&(vh.clearTimeout(e.v),e.v=null)}function nm(e,t){var n=null;if(e.g==t){tm(e),Jv(e),e.g=null;var r=2}else{if(!dv(e.i,t))return;n=t.D,vv(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Nd(r=np(),new up(r,n,t,i)),Kv(e)}else Yv(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hv(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=sp(Sh(e.Ha,e,t),rm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:im(e,5);break;case 4:im(e,10);break;case 3:im(e,6);break;default:im(e,2)}}function rm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function im(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Sh(e.jb,e);n||(n=new Up("//www.google.com/images/cleardot.gif"),vh.location&&"http"==vh.location.protocol||Zp(n,"https"),Kp(n)),function(e,t){var n=new Xd;if(vh.Image){var r=new Image;r.onload=_h(bv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_h(bv,n,r,"TestLoadImage: error",!1,t),r.onabort=_h(bv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_h(bv,n,r,"TestLoadImage: timeout",!1,t),vh.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else op(2);e.G=0,e.j&&e.j.va(t),am(e),Hv(e)}function am(e){e.G=0,e.I=-1,e.j&&(0==mv(e.i).length&&0==e.l.length||(e.i.i.length=0,Oh(e.l),e.l.length=0),e.j.ua())}function om(e,t,n){var r=function(e){return e instanceof Up?zp(e):new Up(e,void 0)}(n);if(""!=r.i)t&&Bp(r,t+"."+r.i),qp(r,r.m);else{var i=vh.location;r=function(e,t,n,r){var i=new Up(null,void 0);return e&&Zp(i,e),t&&Bp(i,t),n&&qp(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Vh(e.aa,(function(e,t){Wp(r,t,e)})),t=e.D,n=e.sa,t&&n&&Wp(r,t,n),Wp(r,"VER",e.ma),Qv(e,r),r}function um(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cv(new wv({ib:!0})):new Cv(e.qa)).L=e.H,t}function sm(){}function cm(){if(Wh&&!(10<=Number(ad)))throw Error("Environmental error: no available transport.")}function lm(e,t){Ad.call(this),this.g=new Zv(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ph(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ph(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new dm(this)}function fm(e){mp.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hm(){yp.call(this),this.status=1}function dm(e){this.g=e}(fh=Cv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pp.g(),this.C=this.u?hp(this.u):hp(pp),this.g.onreadystatechange=Sh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(Xe){return void Dv(this,Xe)}e=n||"";var i=new Mp(this.headers);r&&Lp(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Pv,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=vh.FormData&&e instanceof vh.FormData,!(0<=Ch(Ov,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fv(this),0<this.B&&((this.K=function(e){return Wh&&rd()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Sh(this.pa,this)):this.A=Hd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(Xe){Dv(this,Xe)}},fh.pa=function(){"undefined"!=typeof ph&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nd(this,"timeout"),this.abort(8))},fh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Nd(this,"complete"),Nd(this,"abort"),Mv(this))},fh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mv(this,!0)),Cv.Z.M.call(this)},fh.Fa=function(){this.s||(this.F||this.v||this.l?Lv(this):this.cb())},fh.cb=function(){Lv(this)},fh.ba=function(){try{return 2<jv(this)?this.g.status:-1}catch(Ye){return-1}},fh.ga=function(){try{return this.g?this.g.responseText:""}catch(Ye){return""}},fh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tv(t)}},fh.Da=function(){return this.m},fh.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(fh=Zv.prototype).ma=8,fh.G=1,fh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(ut){}},fh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new kp(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Zh(n=Uh(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$v(this,t,r),Wp(i=zp(this.F),"RID",e),Wp(i,"CVER",22),this.D&&Wp(i,"X-HTTP-Session-Id",this.D),Qv(this,i),this.o&&n&&Uv(i,this.o,n),pv(this.i,t),this.Ra&&Wp(i,"TYPE","init"),this.ja?(Wp(i,"$req",r),Wp(i,"SID","null"),t.$=!0,_p(t,i,null)):_p(t,i,r),this.G=2}}else 3==this.G&&(e?Gv(this,e):0==this.l.length||fv(this.i)||Gv(this))},fh.Ga=function(){if(this.u=null,em(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=sp(Sh(this.bb,this),e)}},fh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,op(10),qv(this),em(this))},fh.ab=function(){null!=this.v&&(this.v=null,qv(this),Xv(this),op(19))},fh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),op(2)):(this.h.info("Failed to ping google.com"),op(1))},(fh=sm.prototype).xa=function(){},fh.wa=function(){},fh.va=function(){},fh.ua=function(){},fh.Oa=function(){},cm.prototype.g=function(e,t){return new lm(e,t)},Ih(lm,Ad),lm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Vd(Sh(e.hb,e,t))),op(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=om(e,null,e.W),Kv(e)},lm.prototype.close=function(){Bv(this.g)},lm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Wv(this.g,t)}else this.v?((t={}).__data__=Pd(e),Wv(this.g,t)):Wv(this.g,e)},lm.prototype.M=function(){this.g.j=null,delete this.j,Bv(this.g),delete this.g,lm.Z.M.call(this)},Ih(fm,mp),Ih(hm,yp),Ih(dm,sm),dm.prototype.xa=function(){Nd(this.g,"a")},dm.prototype.wa=function(e){Nd(this.g,new fm(e))},dm.prototype.va=function(e){Nd(this.g,new hm(e))},dm.prototype.ua=function(){Nd(this.g,"b")},cm.prototype.createWebChannel=cm.prototype.g,lm.prototype.send=lm.prototype.u,lm.prototype.open=lm.prototype.m,lm.prototype.close=lm.prototype.close,cp.NO_ERROR=0,cp.TIMEOUT=8,cp.HTTP_ERROR=6,lp.COMPLETE="complete",dp.EventType=vp,vp.OPEN="a",vp.CLOSE="b",vp.ERROR="c",vp.MESSAGE="d",Ad.prototype.listen=Ad.prototype.N,Cv.prototype.listenOnce=Cv.prototype.O,Cv.prototype.getLastError=Cv.prototype.La,Cv.prototype.getLastErrorCode=Cv.prototype.Da,Cv.prototype.getStatus=Cv.prototype.ba,Cv.prototype.getResponseJson=Cv.prototype.Qa,Cv.prototype.getResponseText=Cv.prototype.ga,Cv.prototype.send=Cv.prototype.ea;var pm=dh.createWebChannelTransport=function(){return new cm},vm=dh.getStatEventTarget=function(){return np()},mm=dh.ErrorCode=cp,ym=dh.EventType=lp,gm=dh.Event=ep,km=dh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bm=dh.FetchXmlHttpFactory=wv,wm=dh.WebChannel=dp,xm=dh.XhrIo=Cv,Sm="@firebase/firestore",_m=function(){function e(t){Nn(this,e),this.uid=t}return Pn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_m.UNAUTHENTICATED=new _m(null),_m.GOOGLE_CREDENTIALS=new _m("google-credentials-uid"),_m.FIRST_PARTY=new _m("first-party-uid"),_m.MOCK_USER=new _m("mock-user");var Im="9.9.4",Em=new Or("@firebase/firestore");function Tm(){return Em.logLevel}function Cm(e){if(Em.logLevel<=_r.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Em.debug.apply(Em,["Firestore (".concat(Im,"): ").concat(e)].concat((0,m.Z)(i)))}}function Am(e){if(Em.logLevel<=_r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Em.error.apply(Em,["Firestore (".concat(Im,"): ").concat(e)].concat((0,m.Z)(i)))}}function Nm(e){if(Em.logLevel<=_r.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Em.warn.apply(Em,["Firestore (".concat(Im,"): ").concat(e)].concat((0,m.Z)(i)))}}function Om(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Pm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Im,") INTERNAL ASSERTION FAILED: ")+e;throw Am(t),new Error(t)}function Dm(e,t){e||Pm()}function Rm(e,t){return e}var Lm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mm=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pn(n)}(rr),Fm=Pn((function e(){var t=this;Nn(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),jm=Pn((function e(t,n){Nn(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Vm=function(){function e(){Nn(this,e)}return Pn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_m.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Um=function(){function e(t){Nn(this,e),this.token=t,this.changeListener=null}return Pn(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),zm=function(){function e(t){Nn(this,e),this.t=t,this.currentUser=_m.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Fm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Fm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Cm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Cm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Fm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Cm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Dm("string"==typeof n.accessToken),new jm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Dm(null===e||"string"==typeof e),new _m(e)}}]),e}(),Zm=function(){function e(t,n,r,i){Nn(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=_m.FIRST_PARTY,this.p=new Map}return Pn(e,[{key:"I",value:function(){return this.g?this.g():(Dm(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Bm=function(){function e(t,n,r,i){Nn(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return Pn(e,[{key:"getToken",value:function(){return Promise.resolve(new Zm(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_m.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qm=Pn((function e(t){Nn(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Hm=function(){function e(t){Nn(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return Pn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Cm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Cm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Cm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Cm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Dm("string"==typeof t.token),e.A=t.token,new qm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Wm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Km=function(){function e(){Nn(this,e)}return Pn(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Wm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gm(e,t){return e<t?-1:e>t?1:0}function Qm(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $m(e){return e+"\0"}var Ym=function(){function e(t,n){if(Nn(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Mm(Lm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Mm(Lm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Mm(Lm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mm(Lm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gm(this.nanoseconds,e.nanoseconds):Gm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Xm=function(){function e(t){Nn(this,e),this.timestamp=t}return Pn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ym(0,0))}},{key:"max",value:function(){return new e(new Ym(253402300799,999999999))}}]),e}(),Jm=function(){function e(t,n,r){Nn(this,e),void 0===n?n=0:n>t.length&&Pm(),void 0===r?r=t.length-n:r>t.length-n&&Pm(),this.segments=t,this.offset=n,this.len=r}return Pn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ey=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,m.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jm),ty=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ny=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ty.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Mm(Lm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Mm(Lm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Mm(Lm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jm),ry=function(){function e(t){Nn(this,e),this.path=t}return Pn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ey.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ey.fromString(t))}},{key:"fromName",value:function(t){return new e(ey.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ey.emptyPath())}},{key:"comparator",value:function(e,t){return ey.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ey(t.slice()))}}]),e}(),iy=Pn((function e(t,n,r,i){Nn(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function ay(e){return e.fields.find((function(e){return 2===e.kind}))}function oy(e){return e.fields.filter((function(e){return 2!==e.kind}))}iy.UNKNOWN_ID=-1;var uy=Pn((function e(t,n){Nn(this,e),this.fieldPath=t,this.kind=n}));var sy=function(){function e(t,n){Nn(this,e),this.sequenceNumber=t,this.offset=n}return Pn(e,null,[{key:"empty",value:function(){return new e(0,fy.min())}}]),e}();function cy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xm.fromTimestamp(1e9===r?new Ym(n+1,0):new Ym(n,r));return new fy(i,ry.empty(),t)}function ly(e){return new fy(e.readTime,e.key,-1)}var fy=function(){function e(t,n,r){Nn(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pn(e,null,[{key:"min",value:function(){return new e(Xm.min(),ry.empty(),-1)}},{key:"max",value:function(){return new e(Xm.max(),ry.empty(),-1)}}]),e}();function hy(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ry.comparator(e.documentKey,t.documentKey))?n:Gm(e.largestBatchId,t.largestBatchId)}var dy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",py=function(){function e(){Nn(this,e),this.onCommittedListeners=[]}return Pn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function vy(e){return my.apply(this,arguments)}function my(){return my=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Lm.FAILED_PRECONDITION&&t.message===dy){e.next=2;break}throw t;case 2:Cm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}var yy=function(){function e(t){var n=this;Nn(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Pm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Rn(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),gy=function(){function e(t,n){var r=this;Nn(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Fm,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new wy(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=Ey(e.target.error);r.P.reject(new wy(t,n))}}return Pn(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(Cm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Sy(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new wy(n,t)}}}]),e}(),ky=function(){function e(t,n,r){Nn(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D($n())&&Am("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Pn(e,[{key:"F",value:function(){var e=kr(yr().mark((function e(t){var n=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Cm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new wy(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Mm(Lm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Mm(Lm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new wy(t,n))},i.onupgradeneeded=function(e){Cm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){Cm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=kr(yr().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(yr().mark((function e(){var n,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=gy.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),yy.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Cm("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Cm("SimpleDb","Removing database:",e),_y(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!nr())return!1;if(e.N())return!0;var t=$n(),n=e.D(t),r=0<n&&n<10,i=e.k(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),by=function(){function e(t){Nn(this,e),this.U=t,this.q=!1,this.K=null}return Pn(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return _y(this.U.delete())}}]),e}(),wy=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,Lm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Pn(n)}(Mm);function xy(e){return"IndexedDbTransactionError"===e.name}var Sy=function(){function e(t){Nn(this,e),this.store=t}return Pn(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Cm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Cm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),_y(n)}},{key:"add",value:function(e){return Cm("SimpleDb","ADD",this.store.name,e,e),_y(this.store.add(e))}},{key:"get",value:function(e){var t=this;return _y(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Cm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Cm("SimpleDb","DELETE",this.store.name,e),_y(this.store.delete(e))}},{key:"count",value:function(){return Cm("SimpleDb","COUNT",this.store.name),_y(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new yy((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new yy((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){Cm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new yy((function(n,r){t.onerror=function(e){var t=Ey(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new yy((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new by(i),o=t(i.primaryKey,i.value,a);if(o instanceof yy){var u=o.catch((function(e){return a.done(),yy.reject(e)}));n.push(u)}a.isDone?r():null===a.G?i.continue():i.continue(a.G)}else r()}})).next((function(){return yy.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function _y(e){return new yy((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ey(e.target.error);n(t)}}))}var Iy=!1;function Ey(e){var t=ky.D($n());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Mm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Iy||(Iy=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ty=function(){function e(t,n){Nn(this,e),this.asyncQueue=t,this.et=n,this.task=null}return Pn(e,[{key:"start",value:function(){this.nt(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;Cm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Cm,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!xy(e.t4)){e.next=17;break}Cm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,vy(e.t4);case 19:return e.next=21,t.nt(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Cy=function(){function e(t,n){Nn(this,e),this.localStore=t,this.persistence=n}return Pn(e,[{key:"st",value:function(){var e=kr(yr().mark((function e(){var t,n=this,r=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return yy.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Cm("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.ot(i,n)})).next((function(n){return Cm("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ly(t);hy(r,n)>0&&(n=r)})),new fy(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Ay=function(){function e(t,n){var r=this;Nn(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return Pn(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function Ny(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Oy(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Py(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Ay.at=-1;var Dy=function(){function e(t,n){Nn(this,e),this.comparator=t,this.root=n||Ly.EMPTY}return Pn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ly.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ly.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ry(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ry(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ry(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ry(this.root,e,this.comparator,!0)}}]),e}(),Ry=function(){function e(t,n,r,i){Nn(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ly=function(){function e(t,n,r,i,a){Nn(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Pm();if(this.right.isRed())throw Pm();var e=this.left.check();if(e!==this.right.check())throw Pm();return e+(this.isRed()?0:1)}}]),e}();Ly.EMPTY=null,Ly.RED=!0,Ly.BLACK=!1,Ly.EMPTY=new(function(){function e(){Nn(this,e),this.size=0}return Pn(e,[{key:"key",get:function(){throw Pm()}},{key:"value",get:function(){throw Pm()}},{key:"color",get:function(){throw Pm()}},{key:"left",get:function(){throw Pm()}},{key:"right",get:function(){throw Pm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ly(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var My=function(){function e(t){Nn(this,e),this.comparator=t,this.data=new Dy(this.comparator)}return Pn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Fy(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Fy(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Fy=function(){function e(t){Nn(this,e),this.iter=t}return Pn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function jy(e){return e.hasNext()?e.getNext():void 0}var Vy=function(){function e(t){Nn(this,e),this.fields=t,t.sort(ny.comparator)}return Pn(e,[{key:"unionWith",value:function(t){var n,r=new My(ny.comparator),i=Rn(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=Rn(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Rn(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Qm(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Uy=function(e){function t(e){Nn(this,t),this.binaryString=e}return Pn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Uy.EMPTY_BYTE_STRING=new Uy("");var zy=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zy(e){if(Dm(!!e),"string"==typeof e){var t=0,n=zy.exec(e);if(Dm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:By(e.seconds),nanos:By(e.nanos)}}function By(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qy(e){return"string"==typeof e?Uy.fromBase64String(e):Uy.fromUint8Array(e)}function Hy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wy(e){var t=e.mapValue.fields.__previous_value__;return Hy(t)?Wy(t):t}function Ky(e){var t=Zy(e.mapValue.fields.__local_write_time__.timestampValue);return new Ym(t.seconds,t.nanos)}var Gy=Pn((function e(t,n,r,i,a,o,u,s){Nn(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Qy=function(){function e(t,n){Nn(this,e),this.projectId=t,this.database=n||"(default)"}return Pn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $y(e){return null==e}function Yy(e){return 0===e&&1/e==-1/0}function Xy(e){return"number"==typeof e&&Number.isInteger(e)&&!Yy(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eg={nullValue:"NULL_VALUE"};function tg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hy(e)?4:vg(e)?9007199254740991:10:Pm()}function ng(e,t){if(e===t)return!0;var n=tg(e);if(n!==tg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ky(e).isEqual(Ky(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zy(e.timestampValue),r=Zy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qy(e.bytesValue).isEqual(qy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return By(e.geoPointValue.latitude)===By(t.geoPointValue.latitude)&&By(e.geoPointValue.longitude)===By(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return By(e.integerValue)===By(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=By(e.doubleValue),r=By(t.doubleValue);return n===r?Yy(n)===Yy(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qm(e.arrayValue.values||[],t.arrayValue.values||[],ng);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ny(n)!==Ny(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ng(n[i],r[i])))return!1;return!0}(e,t);default:return Pm()}}function rg(e,t){return void 0!==(e.values||[]).find((function(e){return ng(e,t)}))}function ig(e,t){if(e===t)return 0;var n=tg(e),r=tg(t);if(n!==r)return Gm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=By(e.integerValue||e.doubleValue),r=By(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ag(e.timestampValue,t.timestampValue);case 4:return ag(Ky(e),Ky(t));case 5:return Gm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=qy(e),r=qy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gm(n[i],r[i]);if(0!==a)return a}return Gm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gm(By(e.latitude),By(t.latitude));return 0!==n?n:Gm(By(e.longitude),By(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ig(n[i],r[i]);if(a)return a}return Gm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jy.mapValue&&t===Jy.mapValue)return 0;if(e===Jy.mapValue)return 1;if(t===Jy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Gm(r[o],a[o]);if(0!==u)return u;var s=ig(n[r[o]],i[a[o]]);if(0!==s)return s}return Gm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Pm()}}function ag(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gm(e,t);var n=Zy(e),r=Zy(t),i=Gm(n.seconds,r.seconds);return 0!==i?i:Gm(n.nanos,r.nanos)}function og(e){return ug(e)}function ug(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ry.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Rn(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ug(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Rn(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ug(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Pm();var t,n}function sg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cg(e){return!!e&&"integerValue"in e}function lg(e){return!!e&&"arrayValue"in e}function fg(e){return!!e&&"nullValue"in e}function hg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dg(e){return!!e&&"mapValue"in e}function pg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Oy(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=pg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mg(e){return"nullValue"in e?eg:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sg(Qy.empty(),ry.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Pm()}function yg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sg(Qy.empty(),ry.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jy:Pm()}function gg(e,t){var n=ig(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kg(e,t){var n=ig(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bg=function(){function e(t){Nn(this,e),this.value=t}return Pn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!dg(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pg(t)}},{key:"setAll",value:function(e){var t=this,n=ny.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=pg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());dg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ng(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];dg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Oy(t,(function(t,n){return e[t]=n}));var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(pg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wg(e){var t=[];return Oy(e.fields,(function(e,n){var r=new ny([e]);if(dg(n)){var i=wg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Rn(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Vy(t)}var xg=function(){function e(t,n,r,i,a,o){Nn(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Pn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Xm.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Xm.min(),Xm.min(),bg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Xm.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Xm.min(),bg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Xm.min(),bg.empty(),2)}}]),e}(),Sg=Pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Nn(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function _g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Sg(e,t,n,r,i,a,o)}function Ig(e){var t=Rm(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+og(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$y(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return og(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return og(e)})).join(",")),t.ht=n}return t.ht}function Eg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!ng(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qg(e.startAt,t.startAt)&&qg(e.endAt,t.endAt)}function Tg(e){return ry.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Cg(e,t){return e.filters.filter((function(e){return e instanceof Og&&e.field.isEqual(t)}))}function Ag(e,t,n){var r,i=eg,a=!0,o=Rn(Cg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=eg,c=!0;switch(u.op){case"<":case"<=":s=mg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=eg}gg({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ng(e,t,n){var r,i=Jy,a=!0,o=Rn(Cg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Jy,c=!0;switch(u.op){case">=":case">":s=yg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Jy}kg({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kg({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Og=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(ig(t,this.value)):null!==t&&tg(this.value)===tg(t)&&this.ft(ig(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pm()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Pg(e,t,r):"array-contains"===t?new Mg(e,r):"in"===t?new Fg(e,r):"not-in"===t?new jg(e,r):"array-contains-any"===t?new Vg(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new Dg(e,n):new Rg(e,n)}}]),n}(function(){return Pn((function e(){Nn(this,e)}))}()),Pg=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this,e,r,i)).key=ry.fromName(i.referenceValue),a}return Pn(n,[{key:"matches",value:function(e){var t=ry.comparator(e.key,this.key);return this.ft(t)}}]),n}(Og),Dg=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,"in",r)).keys=Lg("in",r),i}return Pn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Og),Rg=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,"not-in",r)).keys=Lg("not-in",r),i}return Pn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Og);function Lg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ry.fromName(e.referenceValue)}))}var Mg=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"array-contains",r)}return Pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return lg(t)&&rg(t.arrayValue,this.value)}}]),n}(Og),Fg=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"in",r)}return Pn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rg(this.value.arrayValue,t)}}]),n}(Og),jg=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"not-in",r)}return Pn(n,[{key:"matches",value:function(e){if(rg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rg(this.value.arrayValue,t)}}]),n}(Og),Vg=function(e){Ln(n,e);var t=Un(n);function n(e,r){return Nn(this,n),t.call(this,e,"array-contains-any",r)}return Pn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rg(t.value.arrayValue,e)}))}}]),n}(Og),Ug=Pn((function e(t,n){Nn(this,e),this.position=t,this.inclusive=n})),zg=Pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Nn(this,e),this.field=t,this.dir=n}));function Zg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Bg(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ry.comparator(ry.fromName(o.referenceValue),n.key):ig(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ng(e.position[n],t.position[n]))return!1;return!0}var Hg=Pn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Nn(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Wg(e,t,n,r,i,a,o,u){return new Hg(e,t,n,r,i,a,o,u)}function Kg(e){return new Hg(e)}function Gg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $g(e){var t,n=Rn(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Yg(e){return null!==e.collectionGroup}function Xg(e){var t=Rm(e);if(null===t._t){t._t=[];var n=$g(t),r=Qg(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new zg(n)),t._t.push(new zg(ny.keyField(),"asc"));else{var i,a=!1,o=Rn(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new zg(ny.keyField(),s))}}}return t._t}function Jg(e){var t=Rm(e);if(!t.wt)if("F"===t.limitType)t.wt=_g(t.path,t.collectionGroup,Xg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Rn(Xg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new zg(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ug(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ug(t.startAt.position,t.startAt.inclusive):null;t.wt=_g(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function ek(e,t,n){return new Hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function tk(e,t){return Eg(Jg(e),Jg(t))&&e.limitType===t.limitType}function nk(e){return"".concat(Ig(Jg(e)),"|lt:").concat(e.limitType)}function rk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(og(t.value));var t})).join(", "),"]")),$y(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return og(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return og(e)})).join(",")),"Target(".concat(t,")")}(Jg(e)),"; limitType=").concat(e.limitType,")")}function ik(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ry.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Rn(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Rn(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Bg(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Bg(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xg(e),t))}(e,t)}function ak(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ok(e){return function(t,n){var r,i=!1,a=Rn(Xg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=uk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function uk(e,t,n){var r=e.field.isKeyField()?ry.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ig(r,i):Pm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Pm()}}function sk(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yy(t)?"-0":t}}function ck(e){return{integerValue:""+e}}function lk(e,t){return Xy(t)?ck(t):sk(e,t)}var fk=Pn((function e(){Nn(this,e),this._=void 0}));function hk(e,t,n){return e instanceof vk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mk?yk(e,t):e instanceof gk?kk(e,t):function(e,t){var n=pk(e,t),r=wk(n)+wk(e.yt);return cg(n)&&cg(e.yt)?ck(r):sk(e.It,r)}(e,t)}function dk(e,t,n){return e instanceof mk?yk(e,t):e instanceof gk?kk(e,t):n}function pk(e,t){return e instanceof bk?cg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var vk=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n)}(fk),mk=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).elements=e,r}return Pn(n)}(fk);function yk(e,t){var n,r=xk(t),i=Rn(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return ng(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var gk=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).elements=e,r}return Pn(n)}(fk);function kk(e,t){var n,r=xk(t),i=Rn(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!ng(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var bk=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).It=e,i.yt=r,i}return Pn(n)}(fk);function wk(e){return By(e.integerValue||e.doubleValue)}function xk(e){return lg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Sk=Pn((function e(t,n){Nn(this,e),this.field=t,this.transform=n}));var _k=Pn((function e(t,n){Nn(this,e),this.version=t,this.transformResults=n})),Ik=function(){function e(t,n){Nn(this,e),this.updateTime=t,this.exists=n}return Pn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ek(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Tk=Pn((function e(){Nn(this,e)}));function Ck(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Uk(e.key,Ik.none()):new Dk(e.key,e.data,Ik.none());var n,r=e.data,i=bg.empty(),a=new My(ny.comparator),o=Rn(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Rk(e.key,i,new Vy(a.toArray()),Ik.none())}function Ak(e,t,n){e instanceof Dk?function(e,t,n){var r=e.value.clone(),i=Mk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Rk?function(e,t,n){if(Ek(e.precondition,t)){var r=Mk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Nk(e,t,n,r){return e instanceof Dk?function(e,t,n,r){if(!Ek(e.precondition,t))return n;var i=e.value.clone(),a=Fk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Rk?function(e,t,n,r){if(!Ek(e.precondition,t))return n;var i=Fk(e.fieldTransforms,r,t),a=t.data;return a.setAll(Lk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ek(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ok(e,t){var n,r=null,i=Rn(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=pk(a.transform,o||null);null!=u&&(null===r&&(r=bg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Pk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qm(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mk&&t instanceof mk||e instanceof gk&&t instanceof gk?Qm(e.elements,t.elements,ng):e instanceof bk&&t instanceof bk?ng(e.yt,t.yt):e instanceof vk&&t instanceof vk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Dk=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Nn(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tk),Rk=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Nn(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Pn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Tk);function Lk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Mk(e,t,n){var r=new Map;Dm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,dk(o,u,n[i]))}return r}function Fk(e,t,n){var r,i=new Map,a=Rn(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,hk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var jk,Vk,Uk=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tk),zk=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Tk),Zk=Pn((function e(t){Nn(this,e),this.count=t}));function Bk(e){switch(e){default:return Pm();case Lm.CANCELLED:case Lm.UNKNOWN:case Lm.DEADLINE_EXCEEDED:case Lm.RESOURCE_EXHAUSTED:case Lm.INTERNAL:case Lm.UNAVAILABLE:case Lm.UNAUTHENTICATED:return!1;case Lm.INVALID_ARGUMENT:case Lm.NOT_FOUND:case Lm.ALREADY_EXISTS:case Lm.PERMISSION_DENIED:case Lm.FAILED_PRECONDITION:case Lm.ABORTED:case Lm.OUT_OF_RANGE:case Lm.UNIMPLEMENTED:case Lm.DATA_LOSS:return!0}}function qk(e){if(void 0===e)return Am("GRPC error has no .code"),Lm.UNKNOWN;switch(e){case jk.OK:return Lm.OK;case jk.CANCELLED:return Lm.CANCELLED;case jk.UNKNOWN:return Lm.UNKNOWN;case jk.DEADLINE_EXCEEDED:return Lm.DEADLINE_EXCEEDED;case jk.RESOURCE_EXHAUSTED:return Lm.RESOURCE_EXHAUSTED;case jk.INTERNAL:return Lm.INTERNAL;case jk.UNAVAILABLE:return Lm.UNAVAILABLE;case jk.UNAUTHENTICATED:return Lm.UNAUTHENTICATED;case jk.INVALID_ARGUMENT:return Lm.INVALID_ARGUMENT;case jk.NOT_FOUND:return Lm.NOT_FOUND;case jk.ALREADY_EXISTS:return Lm.ALREADY_EXISTS;case jk.PERMISSION_DENIED:return Lm.PERMISSION_DENIED;case jk.FAILED_PRECONDITION:return Lm.FAILED_PRECONDITION;case jk.ABORTED:return Lm.ABORTED;case jk.OUT_OF_RANGE:return Lm.OUT_OF_RANGE;case jk.UNIMPLEMENTED:return Lm.UNIMPLEMENTED;case jk.DATA_LOSS:return Lm.DATA_LOSS;default:return Pm()}}(Vk=jk||(jk={}))[Vk.OK=0]="OK",Vk[Vk.CANCELLED=1]="CANCELLED",Vk[Vk.UNKNOWN=2]="UNKNOWN",Vk[Vk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Vk[Vk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Vk[Vk.NOT_FOUND=5]="NOT_FOUND",Vk[Vk.ALREADY_EXISTS=6]="ALREADY_EXISTS",Vk[Vk.PERMISSION_DENIED=7]="PERMISSION_DENIED",Vk[Vk.UNAUTHENTICATED=16]="UNAUTHENTICATED",Vk[Vk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Vk[Vk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Vk[Vk.ABORTED=10]="ABORTED",Vk[Vk.OUT_OF_RANGE=11]="OUT_OF_RANGE",Vk[Vk.UNIMPLEMENTED=12]="UNIMPLEMENTED",Vk[Vk.INTERNAL=13]="INTERNAL",Vk[Vk.UNAVAILABLE=14]="UNAVAILABLE",Vk[Vk.DATA_LOSS=15]="DATA_LOSS";var Hk=function(){function e(t,n){Nn(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,h.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Oy(this.inner,(function(t,n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=(0,h.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Py(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Wk=new Dy(ry.comparator);function Kk(){return Wk}var Gk=new Dy(ry.comparator);function Qk(){for(var e=Gk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $k(e){var t=Gk;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Yk(){return Jk()}function Xk(){return Jk()}function Jk(){return new Hk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var eb=new Dy(ry.comparator),tb=new My(ry.comparator);function nb(){for(var e=tb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var rb=new My(Gm);function ib(){return rb}var ab=function(){function e(t,n,r,i,a){Nn(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,ob.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Xm.min(),r,ib(),Kk(),nb())}}]),e}(),ob=function(){function e(t,n,r,i,a){Nn(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Uy.EMPTY_BYTE_STRING,n,nb(),nb(),nb())}}]),e}(),ub=Pn((function e(t,n,r,i){Nn(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),sb=Pn((function e(t,n){Nn(this,e),this.targetId=t,this.At=n})),cb=Pn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Nn(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),lb=function(){function e(){Nn(this,e),this.Rt=0,this.bt=db(),this.Pt=Uy.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return Pn(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=nb(),t=nb(),n=nb();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Pm()}})),new ob(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=db()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),fb=function(){function e(t){Nn(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Kk(),this.qt=hb(),this.Kt=new My(Gm)}return Pn(e,[{key:"Gt",value:function(e){var t,n=Rn(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=Rn(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Pm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(Tg(i))if(0===n){var a=new ry(i.path);this.jt(t,a,xg.newNoDocument(a,Xm.min()))}else Dm(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&Tg(a.target)){var o=new ry(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,xg.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=nb();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new ab(e,n,this.Kt,this.Ut,r);return this.Ut=Kk(),this.qt=hb(),this.Kt=new My(Gm),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new lb,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new My(Gm),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Cm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new lb),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function hb(){return new Dy(ry.comparator)}function db(){return new Dy(ry.comparator)}var pb={asc:"ASCENDING",desc:"DESCENDING"},vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mb=Pn((function e(t,n){Nn(this,e),this.databaseId=t,this.gt=n}));function yb(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function gb(e,t){return e.gt?t.toBase64():t.toUint8Array()}function kb(e,t){return yb(e,t.toTimestamp())}function bb(e){return Dm(!!e),Xm.fromTimestamp(function(e){var t=Zy(e);return new Ym(t.seconds,t.nanos)}(e))}function wb(e,t){return function(e){return new ey(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function xb(e){var t=ey.fromString(e);return Dm(Hb(t)),t}function Sb(e,t){return wb(e.databaseId,t.path)}function _b(e,t){var n=xb(t);if(n.get(1)!==e.databaseId.projectId)throw new Mm(Lm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Mm(Lm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ry(Cb(n))}function Ib(e,t){return wb(e.databaseId,t)}function Eb(e){var t=xb(e);return 4===t.length?ey.emptyPath():Cb(t)}function Tb(e){return new ey(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cb(e){return Dm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ab(e,t,n){return{name:Sb(e,t),fields:n.value.mapValue.fields}}function Nb(e,t,n){var r=_b(e,t.name),i=bb(t.updateTime),a=new bg({mapValue:{fields:t.fields}}),o=xg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Ob(e,t){return"found"in t?function(e,t){Dm(!!t.found),t.found.name,t.found.updateTime;var n=_b(e,t.found.name),r=bb(t.found.updateTime),i=new bg({mapValue:{fields:t.found.fields}});return xg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Dm(!!t.missing),Dm(!!t.readTime);var n=_b(e,t.missing),r=bb(t.readTime);return xg.newNoDocument(n,r)}(e,t):Pm()}function Pb(e,t){var n;if(t instanceof Dk)n={update:Ab(e,t.key,t.value)};else if(t instanceof Uk)n={delete:Sb(e,t.key)};else if(t instanceof Rk)n={update:Ab(e,t.key,t.data),updateMask:qb(t.fieldMask)};else{if(!(t instanceof zk))return Pm();n={verify:Sb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof vk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof gk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof bk)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Pm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Pm()}(e,t.precondition)),n}function Db(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Ik.updateTime(bb(e.updateTime)):void 0!==e.exists?Ik.exists(e.exists):Ik.none()}(t.currentDocument):Ik.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Dm("REQUEST_TIME"===t.setToServerValue),n=new vk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new gk(i)}else"increment"in t?n=new bk(e,t.increment):Pm();var a=ny.fromServerFormat(t.fieldPath);return new Sk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=_b(e,t.update.name),a=new bg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vy(t.map((function(e){return ny.fromServerFormat(e)})))}(t.updateMask);return new Rk(i,a,o,n,r)}return new Dk(i,a,n,r)}if(t.delete){var u=_b(e,t.delete);return new Uk(u,n)}if(t.verify){var s=_b(e,t.verify);return new zk(s,n)}return Pm()}function Rb(e,t){return{documents:[Ib(e,t.path)]}}function Lb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ib(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ib(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hg(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NAN"}};if(fg(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hg(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NOT_NAN"}};if(fg(e.value))return{unaryFilter:{field:Ub(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ub(e.field),op:Vb(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ub(e.field),direction:jb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||$y(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Mb(e){var t=Eb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Fb(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new zg(zb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $y(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ug(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ug(n,t)}(n.endAt)),Wg(t,i,u,o,s,"F",c,l)}function Fb(e){return e?void 0!==e.unaryFilter?[Bb(e)]:void 0!==e.fieldFilter?[Zb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Fb(e)})).reduce((function(e,t){return e.concat(t)})):Pm():[]}function jb(e){return pb[e]}function Vb(e){return vb[e]}function Ub(e){return{fieldPath:e.canonicalString()}}function zb(e){return ny.fromServerFormat(e.fieldPath)}function Zb(e){return Og.create(zb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Bb(e){switch(e.unaryFilter.op){case"IS_NAN":var t=zb(e.unaryFilter.field);return Og.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=zb(e.unaryFilter.field);return Og.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zb(e.unaryFilter.field);return Og.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zb(e.unaryFilter.field);return Og.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Pm()}}function qb(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Hb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Wb(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Gb(t)),t=Kb(e.get(n),t);return Gb(t)}function Kb(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Gb(e){return e+"\x01\x01"}function Qb(e){var t=e.length;if(Dm(t>=2),2===t)return Dm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ey.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Pm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Pm()}a=o+2}return new ey(r)}var $b=["userId","batchId"];function Yb(e,t){return[e,Wb(t)]}function Xb(e,t,n){return[e,Wb(t),n]}var Jb={},ew=["prefixPath","collectionGroup","readTime","documentId"],tw=["prefixPath","collectionGroup","documentId"],nw=["collectionGroup","readTime","prefixPath","documentId"],rw=["canonicalId","targetId"],iw=["targetId","path"],aw=["path","targetId"],ow=["collectionId","parent"],uw=["indexId","uid"],sw=["uid","sequenceNumber"],cw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lw=["indexId","uid","orderedDocumentKey"],fw=["userId","collectionPath","documentId"],hw=["userId","collectionPath","largestBatchId"],dw=["userId","collectionGroup","largestBatchId"],pw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vw=[].concat((0,m.Z)(pw),["documentOverlays"]),mw=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yw=mw,gw=[].concat(yw,["indexConfiguration","indexState","indexEntries"]),kw=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return Pn(n)}(py);function bw(e,t){var n=Rm(e);return ky.O(n.ie,t)}var ww=function(){function e(t,n,r,i){Nn(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ak(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Rn(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Nk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=Rn(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Nk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Xk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Ck(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Xm.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),nb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Qm(this.mutations,e.mutations,(function(e,t){return Pk(e,t)}))&&Qm(this.baseMutations,e.baseMutations,(function(e,t){return Pk(e,t)}))}}]),e}(),xw=function(){function e(t,n,r,i){Nn(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pn(e,null,[{key:"from",value:function(t,n,r){Dm(t.mutations.length===r.length);for(var i=eb,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Sw=function(){function e(t,n){Nn(this,e),this.largestBatchId=t,this.mutation=n}return Pn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),_w=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xm.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xm.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uy.EMPTY_BYTE_STRING;Nn(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Pn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Iw=Pn((function e(t){Nn(this,e),this.re=t}));function Ew(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Tw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Sb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:yb(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Cw(t.version)};else{if(!t.isUnknownDocument())return Pm();r.unknownDocument={path:n.path.toArray(),version:Cw(t.version)}}return r}function Tw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Cw(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Aw(e){var t=new Ym(e.seconds,e.nanoseconds);return Xm.fromTimestamp(t)}function Nw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Db(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Db(e.re,t)})),u=Ym.fromMillis(t.localWriteTimeMs);return new ww(t.batchId,u,n,o)}function Ow(e){var t,n,r=Aw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Aw(e.lastLimboFreeSnapshotVersion):Xm.min();return void 0!==e.query.documents?(Dm(1===(n=e.query).documents.length),t=Jg(Kg(Eb(n.documents[0])))):t=function(e){return Jg(Mb(e))}(e.query),new _w(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Uy.fromBase64String(e.resumeToken))}function Pw(e,t){var n,r=Cw(t.snapshotVersion),i=Cw(t.lastLimboFreeSnapshotVersion);n=Tg(t.target)?Rb(e.re,t.target):Lb(e.re,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ig(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Dw(e){var t=Mb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ek(t,t.limit,"L"):t}function Rw(e,t){return new Sw(t.largestBatchId,Db(e.re,t.overlayMutation))}function Lw(e,t){var n=t.path.lastSegment();return[e,Wb(t.path.popLast()),n]}function Mw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Cw(r.readTime),documentKey:Wb(r.documentKey.path),largestBatchId:r.largestBatchId}}var Fw=function(){function e(){Nn(this,e)}return Pn(e,[{key:"getBundleMetadata",value:function(e,t){return jw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Aw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return jw(e).put({bundleId:(n=t).id,createTime:Cw(bb(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Vw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dw(t.bundledQuery),readTime:Aw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Vw(e).put(function(e){return{name:e.name,readTime:Cw(bb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function jw(e){return bw(e,"bundles")}function Vw(e){return bw(e,"namedQueries")}var Uw=function(){function e(t,n){Nn(this,e),this.It=t,this.userId=n}return Pn(e,[{key:"getOverlay",value:function(e,t){var n=this;return zw(e).get(Lw(this.userId,t)).next((function(e){return e?Rw(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yk();return yy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Sw(t,a);i.push(r.ue(e,o))})),yy.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Wb(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(zw(e).Y("collectionPathOverlayIndex",i))})),yy.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Yk(),a=Wb(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return zw(e).W("collectionPathOverlayIndex",o).next((function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Rw(r.It,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Yk(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zw(e).Z({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Rw(a.It,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ue",value:function(e,t){return zw(e).put(function(e,t,n){var r=Lw(t,n.mutation.key),i=(0,h.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Pb(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function zw(e){return bw(e,"documentOverlays")}var Zw=function(){function e(){Nn(this,e)}return Pn(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(By(e.integerValue));else if("doubleValue"in e){var n=By(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Yy(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(qy(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?vg(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Pm()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),ry.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Bw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Bw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zw.Te=new Zw;var Hw=function(){function e(){Nn(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Pn(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var a=r.codePointAt(0);this.Pe(240|a>>>18),this.Pe(128|63&a>>>12),this.Pe(128|63&a>>>6),this.Pe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=qw(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=qw(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Ww=function(){function e(t){Nn(this,e),this.Be=t}return Pn(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Kw=function(){function e(t){Nn(this,e),this.Be=t}return Pn(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),Gw=function(){function e(){Nn(this,e),this.Be=new Hw,this.Le=new Ww(this.Be),this.Ue=new Kw(this.Be)}return Pn(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Qw=function(){function e(t,n,r,i){Nn(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Pn(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $w(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Yw(e.arrayValue,t.arrayValue))?n:0!==(n=Yw(e.directionalValue,t.directionalValue))?n:ry.comparator(e.documentKey,t.documentKey)}function Yw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Xw=function(){function e(t){Nn(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Rn(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Pn(e,[{key:"We",value:function(e){var t=ay(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=oy(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var a=n[r];if(!this.He(this.je,a)||!this.Je(this.Ge[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],o))return!1}return!0}},{key:"ze",value:function(e){var t,n=Rn(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Jw=function(){function e(){Nn(this,e),this.Ye=new ex}return Pn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),yy.resolve()}},{key:"getCollectionParents",value:function(e,t){return yy.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return yy.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return yy.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return yy.resolve(null)}},{key:"getIndexType",value:function(e,t){return yy.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return yy.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return yy.resolve(null)}},{key:"getMinOffset",value:function(e,t){return yy.resolve(fy.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return yy.resolve(fy.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return yy.resolve()}},{key:"updateIndexEntries",value:function(e,t){return yy.resolve()}}]),e}(),ex=function(){function e(){Nn(this,e),this.index={}}return Pn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new My(ey.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new My(ey.comparator)).toArray()}}]),e}(),tx=new Uint8Array(0),nx=function(){function e(t,n){Nn(this,e),this.user=t,this.databaseId=n,this.Xe=new ex,this.Ze=new Hk((function(e){return Ig(e)}),(function(e,t){return Eg(e,t)})),this.uid=t.uid||""}return Pn(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var a={collectionId:r,parent:Wb(i)};return rx(e).put(a)}return yy.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$m(t),""],!1,!0);return rx(e).W(r).next((function(e){var r,i=Rn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Qb(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ax(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ox(e);return a.next((function(e){o.put(Mw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ax(e),r=ox(e),i=ix(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=ix(e),i=!0,a=new Map;return yy.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=nb(),o=[];return yy.forEach(a,(function(i,a){var u;Cm("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ig(t)));var s=function(e,t){var n=ay(t);if(void 0===n)return null;var r,i=Rn(Cg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Rn(oy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Rn(Cg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Rn(oy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ag(e,o.fieldPath,e.startAt):Ng(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ug(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Rn(oy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ng(e,o.fieldPath,e.endAt):Ag(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ug(r,i)}(a,i),h=n.nn(i,a,l),d=n.nn(i,a,f),p=n.sn(i,a,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return yy.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=ry.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return yy.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.on(t[s/c]):tx,h=u.un(e,f,n[s%c],r),d=u.cn(e,f,i[s%c],a),p=o.map((function(t){return u.un(e,f,t,!0)}));l.push.apply(l,(0,m.Z)(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"un",value:function(e,t,n,r){var i=new Qw(e,ry.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Qw(e,ry.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new Xw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.We(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return yy.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new My(ny.comparator),r=!1,i=Rn(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=Rn(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Gw,i=Rn(oy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.qe(a.kind);Zw.Te.ce(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Gw;return Zw.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Gw;return Zw.Te.ce(sg(this.databaseId,t),n.qe(function(e){var t=oy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Gw);var i,a=0,o=Rn(oy(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Rn(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.ln(t,s.fieldPath)&&lg(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Zw.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=(0,m.Z)(e),a=[],o=Rn(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Rn(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Gw;f.seed(l.$e()),Zw.Te.ce(s,f.qe(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Og&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ax(e),i=ox(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return yy.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new sy(t.sequenceNumber,new fy(Aw(t.readTime),new ry(Qb(t.documentKey)),t.largestBatchId)):sy.empty(),r=e.fields.map((function(e){var t=(0,h.Z)(e,2),n=t[0],r=t[1];return new uy(ny.fromServerFormat(n),r)}));return new iy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ax(e),a=ox(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return yy.forEach(t,(function(t){return a.put(Mw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return yy.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?yy.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),yy.forEach(a,(function(r){return n.wn(e,t,r).next((function(t){var a=n.mn(i,r);return t.isEqual(a)?yy.resolve():n.gn(e,i,r,t,a)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return ix(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return ix(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=ix(e),i=new My($w);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Qw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new My($w),r=this.an(t,e);if(null==r)return n;var i=ay(t);if(null!=i){var a=e.data.field(i.fieldPath);if(lg(a)){var o,u=Rn(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Qw(t.indexId,e.key,this.on(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Qw(t.indexId,e.key,tx,r));return n}},{key:"gn",value:function(e,t,n,r,i){var a=this;Cm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=jy(a),s=jy(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=jy(o)):l?(i(u),u=jy(a)):(u=jy(a),s=jy(o))}}(r,i,$w,(function(r){o.push(a.yn(e,t,n,r))}),(function(r){o.push(a.pn(e,t,n,r))})),yy.waitFor(o)}},{key:"_n",value:function(e){var t=1;return ox(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $w(e,t)})).filter((function(e,t,n){return!t||0!==$w(e,n[t-1])}));var r=[];r.push(e);var i,a=Rn(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$w(o,e),s=$w(o,t);if(0===u)r[0]=e.Ke();else if(u>0&&s<0)r.push(o),r.push(o.Ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,tx,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,tx,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(ux)}},{key:"getMinOffset",value:function(e,t){var n=this;return yy.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Pm()}))})).next(ux)}}]),e}();function rx(e){return bw(e,"collectionParents")}function ix(e){return bw(e,"indexEntries")}function ax(e){return bw(e,"indexConfiguration")}function ox(e){return bw(e,"indexState")}function ux(e){Dm(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;hy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fy(t.readTime,t.documentKey,n)}var sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cx=function(){function e(t,n,r){Nn(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function lx(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Z({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Dm(1===u)})));var c,l=[],f=Rn(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Xb(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return yy.waitFor(a).next((function(){return l}))}function fx(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Pm();t=e.noDocument}return JSON.stringify(t).length}cx.DEFAULT_COLLECTION_PERCENTILE=10,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cx.DEFAULT=new cx(41943040,cx.DEFAULT_COLLECTION_PERCENTILE,cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cx.DISABLED=new cx(-1,0,0);var hx=function(){function e(t,n,r,i){Nn(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return Pn(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return px(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=vx(e),o=px(e);return o.add({}).next((function(u){Dm("number"==typeof u);var s,c=new ww(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Pb(e.re,t)})),i=n.mutations.map((function(t){return Pb(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new My((function(e,t){return Gm(e.canonicalString(),t.canonicalString())})),d=Rn(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Xb(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Jb))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[u]=c.keys()})),yy.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return px(e).get(t).next((function(e){return e?(Dm(e.userId===n.userId),Nw(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?yy.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return px(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Dm(t.batchId>=r),a=Nw(n.It,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return px(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return px(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return Nw(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Yb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return vx(e).Z({range:i},(function(r,i,o){var u=(0,h.Z)(r,3),s=u[0],c=u[1],l=u[2],f=Qb(c);if(s===n.userId&&t.path.isEqual(f))return px(e).get(l).next((function(e){if(!e)throw Pm();Dm(e.userId===n.userId),a.push(Nw(n.It,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new My(Gm),i=[];return t.forEach((function(t){var a=Yb(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=vx(e).Z({range:o},(function(e,i,a){var o=(0,h.Z)(e,3),u=o[0],s=o[1],c=o[2],l=Qb(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),yy.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Yb(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new My(Gm);return vx(e).Z({range:o},(function(e,t,a){var o=(0,h.Z)(e,3),s=o[0],c=o[1],l=o[2],f=Qb(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.En(e,u)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(px(e).get(t).next((function(e){if(null===e)throw Pm();Dm(e.userId===n.userId),r.push(Nw(n.It,e))})))})),yy.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return lx(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),yy.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return yy.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return vx(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Qb(e[1]);i.push(a)}else r.done()})).next((function(){Dm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return dx(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return mx(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return Dm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function dx(e,t,n){var r=Yb(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return vx(e).Z({range:a,X:!0},(function(e,n,r){var a=(0,h.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function px(e){return bw(e,"mutations")}function vx(e){return bw(e,"documentMutations")}function mx(e){return bw(e,"mutationQueues")}var yx=function(){function e(t){Nn(this,e),this.bn=t}return Pn(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),gx=function(){function e(t,n){Nn(this,e),this.referenceDelegate=t,this.It=n}return Pn(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new yx(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return Xm.fromTimestamp(new Ym(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return kx(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return Dm(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return kx(e).Z((function(o,u){var s=Ow(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return yy.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return kx(e).Z((function(e,n){var r=Ow(n);t(r)}))}},{key:"Vn",value:function(e){return bx(e).get("targetGlobalKey").next((function(e){return Dm(null!==e),e}))}},{key:"Sn",value:function(e,t){return bx(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return kx(e).put(Pw(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ig(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return kx(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Ow(n);Eg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=wx(e);return t.forEach((function(t){var o=Wb(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),yy.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=wx(e);return yy.forEach(t,(function(t){var a=Wb(t.path);return yy.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=wx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=wx(e),i=nb();return r.Z({range:n,X:!0},(function(e,t,n){var r=Qb(e[1]),a=new ry(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Wb(t.path),r=IDBKeyRange.bound([n],[$m(n)],!1,!0),i=0;return wx(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=(0,h.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return kx(e).get(t).next((function(e){return e?Ow(e):null}))}}]),e}();function kx(e){return bw(e,"targets")}function bx(e){return bw(e,"targetGlobal")}function wx(e){return bw(e,"targetDocuments")}function xx(e,t){var n=(0,h.Z)(e,2),r=n[0],i=n[1],a=(0,h.Z)(t,2),o=a[0],u=a[1],s=Gm(r,o);return 0===s?Gm(i,u):s}var Sx=function(){function e(t){Nn(this,e),this.xn=t,this.buffer=new My(xx),this.Nn=0}return Pn(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();xx(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),_x=function(){function e(t,n,r){Nn(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return Pn(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;Cm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!xy(e.t0)){e.next=12;break}Cm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,vy(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ix=function(){function e(t,n){Nn(this,e),this.$n=t,this.params=n}return Pn(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return yy.resolve(Ay.at);var r=new Sx(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cm("LruGarbageCollector","Garbage collection skipped; disabled"),yy.resolve(sx)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),sx):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Cm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Tm()<=_r.DEBUG&&Cm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),yy.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ex=function(){function e(t,n){Nn(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ix(e,t)}(this,n)}return Pn(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Tx(e,n)}},{key:"removeReference",value:function(e,t,n){return Tx(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Tx(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return mx(e).tt((function(r){return dx(e,r,t).next((function(e){return e&&(n=!0),yy.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Kn(e,(function(o,u){if(u<=t){var s=n.Gn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Xm.min()),wx(e).delete([0,Wb(o.path)])}))}));i.push(s)}})).next((function(){return yy.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Tx(e,t)}},{key:"Kn",value:function(e,t){var n,r=wx(e),i=Ay.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var a=(0,h.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Ay.at&&t(new ry(Qb(n)),i),i=s,n=u):i=Ay.at})).next((function(){i!==Ay.at&&t(new ry(Qb(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Tx(e,t){return wx(e).put(function(e,t){return{targetId:0,path:Wb(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Cx=function(){function e(){Nn(this,e),this.changes=new Hk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,xg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?yy.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ax=function(){function e(t){Nn(this,e),this.It=t}return Pn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Dx(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Dx(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Tw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=xg.newInvalidDocument(t);return Dx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rx(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:xg.newInvalidDocument(t)};return Dx(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Rx(t))},(function(e,i){r={document:n.jn(t,i),size:fx(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Kk();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Kk(),i=new Dy(ry.comparator);return this.zn(e,t,(function(e,t){var a=n.jn(e,t);r=r.insert(e,a),i=i.insert(e,fx(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return yy.resolve();var r=new My(Mx);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Rx(r.first()),Rx(r.last())),a=r.getIterator(),o=a.getNext();return Dx(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=ry.fromSegments([].concat((0,m.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Mx(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.j(Rx(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Tw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dx(e).W(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Kk(),i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.jn(ry.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Kk(),o=Lx(t,n),u=Lx(t,fy.max());return Dx(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.jn(ry.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Ox(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Px(e).get("remoteDocumentGlobalKey").next((function(e){return Dm(!!e),e}))}},{key:"Qn",value:function(e,t){return Px(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Nb(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=ry.fromSegments(t.noDocument.path),i=Aw(t.noDocument.readTime);n=xg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Pm();var a=ry.fromSegments(t.unknownDocument.path),o=Aw(t.unknownDocument.version);n=xg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ym(e[0],e[1]);return Xm.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(Xm.min()))return n}return xg.newInvalidDocument(e)}}]),e}();function Nx(e){return new Ax(e)}var Ox=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Hk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Pn(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new My((function(e,t){return Gm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Xn.get(a);if(n.push(t.Yn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Ew(t.Yn.It,o);i=i.add(a.path.popLast());var c=fx(s);r+=c-u.size,n.push(t.Yn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Ew(t.Yn.It,o.convertToNoDocument(Xm.min()));n.push(t.Yn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),yy.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Cx);function Px(e){return bw(e,"remoteDocumentGlobal")}function Dx(e){return bw(e,"remoteDocumentsV14")}function Rx(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Lx(e,t){var n=t.documentKey.path.toArray();return[e,Tw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Mx(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gm(n[a],r[a]))return i;return(i=Gm(n.length,r.length))||((i=Gm(n[n.length-2],r[r.length-2]))||Gm(n[n.length-1],r[r.length-1]))}var Fx=Pn((function e(t,n){Nn(this,e),this.overlayedDocument=t,this.mutatedFields=n})),jx=function(){function e(t,n,r,i){Nn(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Pn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Nk(r.mutation,e,Vy.empty(),Ym.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,nb()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nb(),i=Yk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Qk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Yk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,nb())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Kk(),a=Jk(),o=Jk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Rk)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Nk(o.mutation,t,o.mutation.getFieldMask(),Ym.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Fx(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Jk(),i=new Dy((function(e,t){return e-t})),a=nb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Rn(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Vy.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||nb()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Xk();c.forEach((function(e){if(!a.has(e)){var n=Ck(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return yy.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return ry.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):yy.resolve(Yk()),u=-1,s=a;return o.next((function(t){return yy.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?yy.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,nb())})).next((function(e){return{batchId:u,changes:$k(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new ry(t)).next((function(e){var t=Qk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Qk();return this.indexManager.getCollectionParents(e,i).next((function(o){return yy.forEach(o,(function(o){var u=function(e,t){return new Hg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,xg.newInvalidDocument(n)))}));var n=Qk();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Nk(a.mutation,i,Vy.empty(),Ym.now()),ik(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):yy.resolve(xg.newInvalidDocument(t))}}]),e}(),Vx=function(){function e(t){Nn(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return Pn(e,[{key:"getBundleMetadata",value:function(e,t){return yy.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:bb(n.createTime)}),yy.resolve()}},{key:"getNamedQuery",value:function(e,t){return yy.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:Dw(e.bundledQuery),readTime:bb(e.readTime)}}(t)),yy.resolve()}}]),e}(),Ux=function(){function e(){Nn(this,e),this.overlays=new Dy(ry.comparator),this.es=new Map}return Pn(e,[{key:"getOverlay",value:function(e,t){return yy.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Yk();return yy.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),yy.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),yy.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Yk(),i=t.length+1,a=new ry(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return yy.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Dy((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Yk(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Yk(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return yy.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Sw(t,n));var a=this.es.get(t);void 0===a&&(a=nb(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),zx=function(){function e(){Nn(this,e),this.ns=new My(Zx.ss),this.rs=new My(Zx.os)}return Pn(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Zx(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Zx(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new ry(new ey([])),r=new Zx(n,e),i=new Zx(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new ry(new ey([])),n=new Zx(t,e),r=new Zx(t,e+1),i=nb();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Zx(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Zx=function(){function e(t,n){Nn(this,e),this.key=t,this._s=n}return Pn(e,null,[{key:"ss",value:function(e,t){return ry.comparator(e.key,t.key)||Gm(e._s,t._s)}},{key:"os",value:function(e,t){return Gm(e._s,t._s)||ry.comparator(e.key,t.key)}}]),e}(),Bx=function(){function e(t,n){Nn(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new My(Zx.ss)}return Pn(e,[{key:"checkEmpty",value:function(e){return yy.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new ww(i,t,n,r);this.mutationQueue.push(a);var o,u=Rn(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Zx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return yy.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return yy.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return yy.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return yy.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return yy.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Zx(t,0),i=new Zx(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),yy.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new My(Gm);return t.forEach((function(e){var t=new Zx(e,0),i=new Zx(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),yy.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ry.isDocumentKey(i)||(i=i.child(""));var a=new Zx(new ry(i),0),o=new My(Gm);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),yy.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Dm(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return yy.forEach(t.mutations,(function(i){var a=new Zx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Zx(t,0),r=this.gs.firstAfterOrEqual(n);return yy.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,yy.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qx=function(){function e(t){Nn(this,e),this.Es=t,this.docs=new Dy(ry.comparator),this.size=0}return Pn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return yy.resolve(n?n.document.mutableCopy():xg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Kk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():xg.newInvalidDocument(e))})),yy.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Kk(),i=new ry(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||hy(ly(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return yy.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Pm()}},{key:"As",value:function(e,t){return yy.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hx(this)}},{key:"getSize",value:function(e){return yy.resolve(this.size)}}]),e}(),Hx=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).Yn=e,r}return Pn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),yy.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Cx),Wx=function(){function e(t){Nn(this,e),this.persistence=t,this.Rs=new Hk((function(e){return Ig(e)}),Eg),this.lastRemoteSnapshotVersion=Xm.min(),this.highestTargetId=0,this.bs=0,this.Ps=new zx,this.targetCount=0,this.vs=yx.Pn()}return Pn(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),yy.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return yy.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return yy.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),yy.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),yy.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new yx(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,yy.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),yy.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,yy.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),yy.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return yy.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return yy.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),yy.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),yy.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),yy.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return yy.resolve(n)}},{key:"containsKey",value:function(e,t){return yy.resolve(this.Ps.containsKey(t))}}]),e}(),Kx=function(){function e(t,n){var r=this;Nn(this,e),this.Vs={},this.overlays={},this.Ss=new Ay(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Wx(this),this.indexManager=new Jw,this.remoteDocumentCache=new qx((function(e){return r.referenceDelegate.xs(e)})),this.It=new Iw(n),this.Ns=new Vx(this.It)}return Pn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Ux,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Bx(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Cm("MemoryPersistence","Starting transaction:",e);var i=new Gx(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return yy.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Gx=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pn(n)}(py),Qx=function(){function e(t){Nn(this,e),this.persistence=t,this.Fs=new zx,this.$s=null}return Pn(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Pm()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),yy.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),yy.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),yy.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yy.forEach(this.Ls,(function(r){var i=ry.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Xm.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return yy.or([function(){return yy.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),$x=function(){function e(t){Nn(this,e),this.It=t}return Pn(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new gy("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$b,{unique:!0}),e.createObjectStore("documentMutations")}(e),Yx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=yy.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Yx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xm.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$b,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return yy.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.qs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Gs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.js(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:fw});t.createIndex("collectionPathOverlayIndex",hw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",dw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ew});t.createIndex("documentKeyIndex",tw),t.createIndex("collectionGroupIndex",nw)}(e)})).next((function(){return i.Ws(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.zs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uw}).createIndex("sequenceNumberIndex",sw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:cw}).createIndex("documentKeyIndex",lw,{unique:!1})}(e)}))),o}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=fx(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return yy.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return yy.forEach(r,(function(r){Dm(r.userId===n.userId);var i=Nw(t.It,r);return lx(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var a=new ey(n),o=function(e){return[0,Wb(e)]}(a);r.push(t.get(o).next((function(n){return n?yy.resolve():function(n){return t.put({targetId:0,path:Wb(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return yy.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ow});var n=t.store("collectionParents"),r=new ex,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Wb(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new ey(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=(0,h.Z)(e,3),r=(n[0],n[1]),a=(n[2],Qb(r));return i(a.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=Ow(r),a=Pw(t.It,i);return n.put(a)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new ry(ey.fromString(i.document.name).popFirst(5)):i.noDocument?ry.fromSegments(i.noDocument.path):i.unknownDocument?ry.fromSegments(i.unknownDocument.path):Pm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return yy.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=Nx(this.It),a=new Kx(Qx.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:nb();Nw(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),yy.forEach(r,(function(e,r){var o=new _m(r),u=Uw.oe(n.It,o),s=a.getIndexManager(o),c=hx.oe(o,n.It,s,a.referenceDelegate);return new jx(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new kw(t,Ay.at),e).next()}))}))}}]),e}();function Yx(e){e.createObjectStore("targetDocuments",{keyPath:iw}).createIndex("documentTargetsIndex",aw,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rw,{unique:!0}),e.createObjectStore("targetGlobal")}var Xx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Jx=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Nn(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=a,this.window=o,this.document=u,this.Js=c,this.Ys=l,this.Xs=f,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Mm(Lm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ex(this,i),this.ii=n+"main",this.It=new Iw(s),this.ri=new ky(this.ii,this.Xs,new $x(this.It)),this.Cs=new gx(this.referenceDelegate,this.It),this.remoteDocumentCache=Nx(this.It),this.Ns=new Fw,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===l&&Am("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Pn(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Mm(Lm.FAILED_PRECONDITION,Xx);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new Ay(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=kr(yr().mark((function n(r){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=kr(yr().mark((function t(n){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return tS(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(xy(t))return Cm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Cm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return eS(e).get("owner").next((function(e){return yy.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return tS(e).delete(this.clientId)}},{key:"yi",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i,a=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=bw(e,"clientMetadata");return t.W().next((function(e){var n=a.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return yy.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Rn(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?yy.resolve(!0):eS(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Mm(Lm.FAILED_PRECONDITION,Xx);return!1}}return!(!t.networkEnabled||!t.inForeground)||tS(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Cm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=kr(yr().mark((function e(){var t=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new kw(e,Ay.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return tS(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return hx.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new nx(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Uw.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Cm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Xs)?gw:14===i?yw:13===i?mw:12===i?vw:11===i?pw:void Pm();return this.ri.runTransaction(e,o,u,(function(i){return a=new kw(i,r.Ss?r.Ss.next():Ay.at),"readwrite-primary"===t?r.fi(a).next((function(e){return!!e||r.di(a)})).next((function(t){if(!t)throw Am("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Mm(Lm.FAILED_PRECONDITION,dy);return n(a)})).next((function(e){return r.wi(a).next((function(){return e}))})):r.Vi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return eS(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Mm(Lm.FAILED_PRECONDITION,Xx)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eS(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=eS(e);return n.get("owner").next((function(e){return t.mi(e)?(Cm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):yy.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Am("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!Xn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Cm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Am("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(Ke){Am("Failed to set zombie client id.",Ke)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(Ke){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return ky.C()}}]),e}();function eS(e){return bw(e,"owner")}function tS(e){return bw(e,"clientMetadata")}function nS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var rS=function(){function e(t,n,r,i){Nn(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return Pn(e,null,[{key:"Ci",value:function(t,n){var r,i=nb(),a=nb(),o=Rn(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),iS=function(){function e(){Nn(this,e),this.xi=!1}return Pn(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Gg(t))return yy.resolve(null);var r=Jg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ek(t,null,"F"),r=Jg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=nb.apply(void 0,(0,m.Z)(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,ek(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return Gg(t)||r.isEqual(Xm.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(Tm()<=_r.DEBUG&&Cm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rk(t)),i.Bi(e,o,t,cy(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new My(ok(e));return t.forEach((function(t,r){ik(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Tm()<=_r.DEBUG&&Cm("QueryEngine","Using full collection scan to execute query:",rk(t)),this.Ni.getDocumentsMatchingQuery(e,t,fy.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),aS=function(){function e(t,n,r,i){Nn(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new Dy(Gm),this.qi=new Hk((function(e){return Ig(e)}),Eg),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return Pn(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jx(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function oS(e,t,n,r){return new aS(e,t,n,r)}function uS(e,t){return sS.apply(this,arguments)}function sS(){return sS=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=nb(),s=Rn(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Rn(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Rn(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=Rn(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sS.apply(this,arguments)}function cS(e,t){var n=Rm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=yy.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Dm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=nb(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function lS(e){var t=Rm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function fS(e,t){var n=Rm(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Uy.EMPTY_BYTE_STRING,Xm.min()).withLastLimboFreeSnapshotVersion(Xm.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Cs.updateTargetData(e,c))}}));var u=Kk(),s=nb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(hS(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Xm.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return yy.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function hS(e,t,n){var r=nb(),i=nb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Kk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Xm.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Cm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function dS(e,t){var n=Rm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function pS(e,t){var n=Rm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,yy.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new _w(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function vS(e,t,n){return mS.apply(this,arguments)}function mS(){return mS=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rm(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),xy(e.t1)){e.next=12;break}throw e.t1;case 12:Cm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),mS.apply(this,arguments)}function yS(e,t,n){var r=Rm(e),i=Xm.min(),a=nb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rm(e),i=r.qi.get(n);return void 0!==i?yy.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Jg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Xm.min(),n?a:nb())})).next((function(e){return bS(r,ak(t),e),{documents:e,Hi:a}}))}))}function gS(e,t){var n=Rm(e),r=Rm(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function kS(e,t){var n=Rm(e),r=n.Ki.get(t)||Xm.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,cy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return bS(n,t,e),e}))}function bS(e,t,n){var r=Xm.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function wS(e,t,n,r){return xS.apply(this,arguments)}function xS(){return xS=kr(yr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Rm(t),o=nb(),u=Kk(),s=Rn(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(o=o.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,pS(a,function(e){return Jg(Kg(ey.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return hS(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Cs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function SS(e,t){return _S.apply(this,arguments)}function _S(){return _S=kr(yr().mark((function e(t,n){var r,i,a,o=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:nb(),e.next=3,pS(t,Jg(Dw(n.bundledQuery)));case 3:return i=e.sent,a=Rm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=bb(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ns.saveNamedQuery(e,n);var o=i.withResumeToken(Uy.EMPTY_BYTE_STRING,t);return a.Ui=a.Ui.insert(o.targetId,o),a.Cs.updateTargetData(e,o).next((function(){return a.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),_S.apply(this,arguments)}function IS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function ES(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function TS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var CS=function(){function e(t,n,r,i){Nn(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Pn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Mm(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Am("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),AS=function(){function e(t,n,r){Nn(this,e),this.targetId=t,this.state=n,this.error=r}return Pn(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mm(i.error.code,i.error.message))),a?new e(t,i.state,r):(Am("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),NS=function(){function e(t,n){Nn(this,e),this.clientId=t,this.activeTargetIds=n}return Pn(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=ib(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xy(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Am("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),OS=function(){function e(t,n){Nn(this,e),this.clientId=t,this.onlineState=n}return Pn(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Am("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),PS=function(){function e(){Nn(this,e),this.activeTargetIds=ib()}return Pn(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),DS=function(){function e(t,n,r,i,a){Nn(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Dy(Gm),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=IS(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new PS),this.lr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return Pn(e,[{key:"start",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Rn(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(IS(this.persistenceKey,i)))&&(o=NS.Zi(i,a))&&(this.ur=this.ur.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(u=this.storage.getItem(this.wr))&&(s=this.yr(u))&&this.pr(s),c=Rn(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(TS(this.persistenceKey,e));if(n){var r=AS.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(TS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Cm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Cm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Cm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Cm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void Am("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(kr(yr().mark((function e(){var r,i,a,o,u,s,c;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(a));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(u));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=Ay.at;if(null!=e)try{var n=JSON.parse(e);Dm("number"==typeof n),t=n}catch(e){Am("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ay.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new CS(this.currentUser,e,t,n),i=ES(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=ES(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=TS(this.persistenceKey,e),i=new AS(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return NS.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return CS.Zi(new _m(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return AS.Zi(r,t)}},{key:"yr",value:function(e){return OS.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:Cm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Br(o,u).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=ib();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),RS=function(){function e(){Nn(this,e),this.Lr=new PS,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new PS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),LS=function(){function e(){Nn(this,e)}return Pn(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),MS=function(){function e(){var t=this;Nn(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return Pn(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Cm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Cm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Rn(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),FS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jS=function(){function e(t){Nn(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return Pn(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),VS=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Pn(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new xm;o.listenOnce(ym.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case mm.NO_ERROR:var t=o.getResponseJson();Cm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case mm.TIMEOUT:Cm("Connection",'RPC "'+e+'" timed out'),a(new Mm(Lm.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:var n=o.getStatus();if(Cm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Lm).indexOf(t)>=0?t:Lm.UNKNOWN}(r.status);a(new Mm(u,r.message))}else a(new Mm(Lm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Mm(Lm.UNAVAILABLE,"Connection failed."));break;default:Pm()}}finally{Cm("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=pm(),a=vm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new bm({})),this.ho(o.initMessageHeaders,t,n),Yn()||er()||$n().indexOf("Electron/")>=0||tr()||$n().indexOf("MSAppHost/")>=0||Jn()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Cm("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new jS({Hr:function(e){l?Cm("Connection","Not sending because WebChannel is closed:",e):(c||(Cm("Connection","Opening WebChannel transport."),s.open(),c=!0),Cm("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,wm.EventType.OPEN,(function(){l||Cm("Connection","WebChannel transport opened.")})),h(s,wm.EventType.CLOSE,(function(){l||(l=!0,Cm("Connection","WebChannel transport closed"),f.io())})),h(s,wm.EventType.ERROR,(function(e){l||(l=!0,Nm("Connection","WebChannel transport errored:",e),f.io(new Mm(Lm.UNAVAILABLE,"The operation could not be completed")))})),h(s,wm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Dm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Cm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=jk[e];if(void 0!==t)return qk(t)}(a),u=i.message;void 0===o&&(o=Lm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.io(new Mm(o,u)),s.close()}else Cm("Connection","WebChannel received:",n),f.ro(n)}})),h(a,gm.STAT_EVENT,(function(e){e.stat===km.PROXY?Cm("Connection","Detected buffering proxy"):e.stat===km.NOPROXY&&Cm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){Nn(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Pn(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Cm("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Cm("RestConnection","Received: ",e),e}),(function(t){throw Nm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Im,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=FS[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function US(){return"undefined"!=typeof window?window:null}function zS(){return"undefined"!=typeof document?document:null}function ZS(e){return new mb(e,!0)}var BS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Nn(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return Pn(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Cm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),qS=function(){function e(t,n,r,i,a,o,u,s){Nn(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new BS(t,n)}return Pn(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Lm.RESOURCE_EXHAUSTED?(Am(n.toString()),Am("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Lm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,h.Z)(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Mm(Lm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Cm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Cm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),HS=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a,o,u){var s;return Nn(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return Pn(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Pm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Dm(void 0===t||"string"==typeof t),Uy.fromBase64String(t||"")):(Dm(void 0===t||t instanceof Uint8Array),Uy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Lm.UNKNOWN:qk(e.code);return new Mm(t,e.message||"")}(o);n=new cb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=_b(e,s.document.name),l=bb(s.document.updateTime),f=new bg({mapValue:{fields:s.document.fields}}),h=xg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new ub(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=_b(e,v.document),y=v.readTime?bb(v.readTime):Xm.min(),g=xg.newNoDocument(m,y),k=v.removedTargetIds||[];n=new ub([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=_b(e,b.document),x=b.removedTargetIds||[];n=new ub([],x,w,null)}else{if(!("filter"in t))return Pm();t.filter;var S=t.filter;S.targetId;var _=S.count||0,I=new Zk(_),E=S.targetId;n=new sb(E,I)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Xm.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Xm.min():t.readTime?bb(t.readTime):Xm.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Tb(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=Tg(r)?{documents:Rb(e,r)}:{query:Lb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=gb(e,t.resumeToken):t.snapshotVersion.compareTo(Xm.min())>0&&(n.readTime=yb(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Pm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Tb(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(qS),WS=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a,o,u){var s;return Nn(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return Pn(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Gi(Mn(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Dm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Dm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?bb(e.updateTime):bb(t);return n.isEqual(Xm.min())&&(n=bb(t)),new _k(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=bb(e.commitTime);return this.listener.Zo(n,t)}return Dm(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Tb(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Pb(t.It,e)}))};this.Bo(n)}}]),n}(qS),KS=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a){var o;return Nn(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return Pn(n,[{key:"su",value:function(){if(this.nu)throw new Mm(Lm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,h.Z)(i,2),o=a[0],u=a[1];return r.Vo.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Mm(Lm.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,h.Z)(a,2),u=o[0],s=o[1];return i.Vo.fo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Lm.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Mm(Lm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return Pn((function e(){Nn(this,e)}))}()),GS=function(){function e(t,n){Nn(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return Pn(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Am(t),this.ou=!1):Cm("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),QS=Pn((function e(t,n,r,i,a){var o=this;Nn(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=o_(o),!e.t0){e.next=5;break}return Cm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rm(t))._u.add(4),e.next=4,XS(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,$S(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new GS(r,i)}));function $S(e){return YS.apply(this,arguments)}function YS(){return YS=kr(yr().mark((function e(t){var n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o_(t)){e.next=18;break}n=Rn(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),YS.apply(this,arguments)}function XS(e){return JS.apply(this,arguments)}function JS(){return JS=kr(yr().mark((function e(t){var n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rn(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),JS.apply(this,arguments)}function e_(e,t){var n=Rm(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),a_(n)?i_(n):L_(n).ko()&&n_(n,t))}function t_(e,t){var n=Rm(e),r=L_(n);n.du.delete(t),r.ko()&&r_(n,t),0===n.du.size&&(r.ko()?r.Fo():o_(n)&&n.gu.set("Unknown"))}function n_(e,t){e.yu.Ot(t.targetId),L_(e).zo(t)}function r_(e,t){e.yu.Ot(t),L_(e).Ho(t)}function i_(e){e.yu=new fb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),L_(e).start(),e.gu.uu()}function a_(e){return o_(e)&&!L_(e).No()&&e.du.size>0}function o_(e){return 0===Rm(e)._u.size}function u_(e){e.yu=void 0}function s_(e){return c_.apply(this,arguments)}function c_(){return c_=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){n_(t,e)}));case 1:case"end":return e.stop()}}),e)}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u_(t),a_(t)?(t.gu.hu(n),i_(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e,t,n){return d_.apply(this,arguments)}function d_(){return d_=kr(yr().mark((function e(t,n,r){var i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof cb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Rn(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Cm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,p_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof ub?t.yu.Gt(n):n instanceof sb?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Xm.min())){e.next=29;break}return e.prev=14,e.next=17,lS(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Uy.EMPTY_BYTE_STRING,n.snapshotVersion)),r_(e,t);var r=new _w(n.target,t,1,n.sequenceNumber);n_(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Cm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,p_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),d_.apply(this,arguments)}function p_(e,t,n){return v_.apply(this,arguments)}function v_(){return v_=kr(yr().mark((function e(t,n,r){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xy(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,XS(t);case 5:t.gu.set("Offline"),r||(r=function(){return lS(t.localStore)}),t.asyncQueue.enqueueRetryable(kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,$S(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t){return t().catch((function(n){return p_(e,n,t)}))}function y_(e){return g_.apply(this,arguments)}function g_(){return g_=kr(yr().mark((function e(t){var n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rm(t),r=M_(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!k_(n)){e.next=19;break}return e.prev=3,e.next=6,dS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,b_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,p_(n,e.t0);case 17:e.next=2;break;case 19:w_(n)&&x_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),g_.apply(this,arguments)}function k_(e){return o_(e)&&e.fu.length<10}function b_(e,t){e.fu.push(t);var n=M_(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function w_(e){return o_(e)&&!M_(e).No()&&e.fu.length>0}function x_(e){M_(e).start()}function S_(e){return __.apply(this,arguments)}function __(){return __=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M_(t).eu();case 1:case"end":return e.stop()}}),e)}))),__.apply(this,arguments)}function I_(e){return E_.apply(this,arguments)}function E_(){return E_=kr(yr().mark((function e(t){var n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=M_(t),r=Rn(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function T_(e,t,n){return C_.apply(this,arguments)}function C_(){return C_=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=xw.from(i,n,r),e.next=3,m_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,y_(t);case 5:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function A_(e,t){return N_.apply(this,arguments)}function N_(){return N_=kr(yr().mark((function e(t,n){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&M_(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Bk(i=n.code)||i===Lm.ABORTED){e.next=7;break}return r=t.fu.shift(),M_(t).Oo(),e.next=5,m_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,y_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:w_(t)&&x_(t);case 5:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function O_(e,t){return P_.apply(this,arguments)}function P_(){return P_=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rm(t)).asyncQueue.verifyOperationInProgress(),Cm("RemoteStore","RemoteStore received new credentials"),i=o_(r),r._u.add(3),e.next=6,XS(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,$S(r);case 12:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}function D_(e,t){return R_.apply(this,arguments)}function R_(){return R_=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rm(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,$S(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,XS(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function L_(e){return e.pu||(e.pu=function(e,t,n){var r=Rm(e);return r.su(),new HS(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:s_.bind(null,e),Zr:l_.bind(null,e),Wo:h_.bind(null,e)}),e.wu.push(function(){var t=kr(yr().mark((function t(n){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),a_(e)?i_(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:u_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function M_(e){return e.Iu||(e.Iu=function(e,t,n){var r=Rm(e);return r.su(),new WS(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:S_.bind(null,e),Zr:A_.bind(null,e),tu:I_.bind(null,e),Zo:T_.bind(null,e)}),e.wu.push(function(){var t=kr(yr().mark((function t(n){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,y_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Cm("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var F_=function(){function e(t,n,r,i,a){Nn(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Fm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mm(Lm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function j_(e,t){if(Am("AsyncQueue","".concat(t,": ").concat(e)),xy(e))return new Mm(Lm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var V_=function(){function e(t){Nn(this,e),this.comparator=t?function(e,n){return t(e,n)||ry.comparator(e.key,n.key)}:function(e,t){return ry.comparator(e.key,t.key)},this.keyedMap=Qk(),this.sortedSet=new Dy(this.comparator)}return Pn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),U_=function(){function e(){Nn(this,e),this.Tu=new Dy(ry.comparator)}return Pn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Pm():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),z_=function(){function e(t,n,r,i,a,o,u,s){Nn(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Pn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,V_.emptySet(n),a,r,i,!0,!1)}}]),e}(),Z_=Pn((function e(){Nn(this,e),this.Au=void 0,this.listeners=[]})),B_=Pn((function e(){Nn(this,e),this.queries=new Hk((function(e){return nk(e)}),tk),this.onlineState="Unknown",this.Ru=new Set}));function q_(e,t){return H_.apply(this,arguments)}function H_(){return H_=kr(yr().mark((function e(t,n){var r,i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Z_),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=j_(e.t0,"Initialization of query '".concat(rk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&$_(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),H_.apply(this,arguments)}function W_(e,t){return K_.apply(this,arguments)}function K_(){return K_=kr(yr().mark((function e(t,n){var r,i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function G_(e,t){var n,r=Rm(e),i=!1,a=Rn(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Rn(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&$_(r)}function Q_(e,t,n){var r=Rm(e),i=r.queries.get(t);if(i){var a,o=Rn(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function $_(e){e.Ru.forEach((function(e){e.next()}))}var Y_=function(){function e(t,n,r){Nn(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return Pn(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Rn(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new z_(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=z_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),X_=function(){function e(t,n){Nn(this,e),this.payload=t,this.byteLength=n}return Pn(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),J_=function(){function e(t){Nn(this,e),this.It=t}return Pn(e,[{key:"Ji",value:function(e){return _b(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?Nb(this.It,e.document,!1):xg.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return bb(e)}}]),e}(),eI=function(){function e(t,n,r){Nn(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=tI(t)}return Pn(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ey.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new J_(this.It),i=Rn(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Ji(a.metadata.name),s=Rn(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||nb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wS(this.localStore,new J_(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Rn(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,SS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function tI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var nI=Pn((function e(t){Nn(this,e),this.key=t})),rI=Pn((function e(t){Nn(this,e),this.key=t})),iI=function(){function e(t,n){Nn(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=nb(),this.mutatedKeys=nb(),this.Ku=ok(t),this.Gu=new V_(this.Ku)}return Pn(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new U_,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=ik(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pm()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new z_(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new U_,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=nb(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new rI(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new nI(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=nb();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return z_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),aI=Pn((function e(t,n,r){Nn(this,e),this.query=t,this.targetId=n,this.view=r})),oI=Pn((function e(t){Nn(this,e),this.key=t,this.ec=!1})),uI=function(){function e(t,n,r,i,a,o){Nn(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Hk((function(e){return nk(e)}),tk),this.ic=new Map,this.rc=new Set,this.oc=new Dy(ry.comparator),this.uc=new Map,this.cc=new zx,this.ac={},this.hc=new Map,this.lc=yx.vn(),this.onlineState="Unknown",this.fc=void 0}return Pn(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function sI(e,t){return cI.apply(this,arguments)}function cI(){return cI=kr(yr().mark((function e(t,n){var r,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=tE(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,pS(r.localStore,Jg(n));case 8:return u=e.sent,r.isPrimaryClient&&e_(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,lI(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function lI(e,t,n,r){return fI.apply(this,arguments)}function fI(){return fI=kr(yr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=kr(yr().mark((function e(t,n,r,i){var a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,yS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(OI(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yS(t.localStore,n,!0);case 3:return a=e.sent,o=new iI(n,a.Hi),u=o.ju(a.documents),s=ob.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),OI(t,r,c.Yu),l=new aI(n,r,o),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){return dI.apply(this,arguments)}function dI(){return dI=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rm(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!tk(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,vS(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),t_(r.remoteStore,i.targetId),AI(r,i.targetId)})).catch(vy);case 9:e.next=14;break;case 11:return AI(r,i.targetId),e.next=14,vS(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),dI.apply(this,arguments)}function pI(e,t,n){return vI.apply(this,arguments)}function vI(){return vI=kr(yr().mark((function e(t,n,r){var i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Rm(e),a=Ym.now(),o=t.reduce((function(e,t){return e.add(t.key)}),nb());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Kk(),s=nb();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=Rn(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ok(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Rk(c.key,l,wg(l.value.mapValue),Ik.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$k(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Dy(Gm)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,RI(i,a.changes);case 9:return e.next=11,y_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=j_(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),vI.apply(this,arguments)}function mI(e,t){return yI.apply(this,arguments)}function yI(){return yI=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),e.prev=1,e.next=4,fS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Dm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Dm(n.ec):e.removedDocuments.size>0&&(Dm(n.ec),n.ec=!1))})),e.next=8,RI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),yI.apply(this,arguments)}function gI(e,t,n){var r=Rm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Rn(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$_(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function kI(e,t,n){return bI.apply(this,arguments)}function bI(){return bI=kr(yr().mark((function e(t,n,r){var i,a,o,u,s,c;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Dy(ry.comparator)).insert(o,xg.newNoDocument(o,Xm.min())),s=nb().add(o),c=new ab(Xm.min(),new Map,new My(Gm),u,s),e.next=9,mI(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),DI(i),e.next=16;break;case 14:return e.next=16,vS(i.localStore,n,!1).then((function(){return AI(i,n,r)})).catch(vy);case 16:case"end":return e.stop()}}),e)}))),bI.apply(this,arguments)}function wI(e,t){return xI.apply(this,arguments)}function xI(){return xI=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),i=n.batch.batchId,e.prev=1,e.next=4,cS(r.localStore,n);case 4:return a=e.sent,CI(r,i,null),TI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,RI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xI.apply(this,arguments)}function SI(e,t,n){return _I.apply(this,arguments)}function _I(){return _I=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rm(t),e.prev=1,e.next=4,function(e,t){var n=Rm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Dm(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,CI(i,n,r),TI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,RI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),_I.apply(this,arguments)}function II(e,t){return EI.apply(this,arguments)}function EI(){return EI=kr(yr().mark((function e(t,n){var r,i,a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o_((r=Rm(t)).remoteStore)||Cm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.hc.get(i)||[]).push(n),r.hc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=j_(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),EI.apply(this,arguments)}function TI(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function CI(e,t,n){var r=Rm(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function AI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Rn(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||NI(e,t)}))}function NI(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(t_(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),DI(e))}function OI(e,t,n){var r,i=Rn(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof nI?(e.cc.addReference(a.key,t),PI(e,a)):a instanceof rI?(Cm("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||NI(e,a.key)):Pm()}}catch(o){i.e(o)}finally{i.f()}}function PI(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Cm("SyncEngine","New document in limbo: "+n),e.rc.add(r),DI(e))}function DI(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new ry(ey.fromString(t)),r=e.lc.next();e.uc.set(r,new oI(n)),e.oc=e.oc.insert(n,r),e_(e.remoteStore,new _w(Jg(Kg(n.path)),r,2,Ay.at))}}function RI(e,t,n){return LI.apply(this,arguments)}function LI(){return LI=kr(yr().mark((function e(t,n,r){var i,a,o,u;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rm(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=rS.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=kr(yr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return yy.forEach(n,(function(t){return yy.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return yy.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),xy(e.t0)){e.next=10;break}throw e.t0;case 10:Cm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Rn(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){return FI.apply(this,arguments)}function FI(){return FI=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rm(t)).currentUser.isEqual(n)){e.next=11;break}return Cm("SyncEngine","User change. New user:",n.toKey()),e.next=5,uS(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Mm(Lm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,RI(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function jI(e,t){var n=Rm(e),r=n.uc.get(t);if(r&&r.ec)return nb().add(r.key);var i=nb(),a=n.ic.get(t);if(!a)return i;var o,u=Rn(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){u.e(l)}finally{u.f()}return i}function VI(e,t){return UI.apply(this,arguments)}function UI(){return UI=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),e.next=3,yS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&OI(r,n.targetId,a.Yu),a));case 6:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function zI(e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=kr(yr().mark((function e(t,n){var r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),e.abrupt("return",kS(r.localStore,n).then((function(e){return RI(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function BI(e,t,n,r){return qI.apply(this,arguments)}function qI(){return qI=kr(yr().mark((function e(t,n,r,i){var a,o;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rm(t),e.next=3,function(e,t){var n=Rm(e),r=Rm(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):yy.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,y_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(CI(a,n,i||null),TI(a,n),function(e,t){Rm(Rm(e).mutationQueue).An(t)}(a.localStore,n)):Pm();case 11:return e.next=13,RI(a,o);case 13:e.next=16;break;case 15:Cm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function HI(e,t){return WI.apply(this,arguments)}function WI(){return WI=kr(yr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tE(r=Rm(t)),nE(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,KI(r,i.toArray());case 5:return a=e.sent,r.fc=!0,e.next=9,D_(r.remoteStore,!0);case 9:o=Rn(a);try{for(o.s();!(u=o.n()).done;)s=u.value,e_(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return AI(r,t),vS(r.localStore,t,!0)})),t_(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,KI(r,c);case 21:return function(e){var t=Rm(e);t.uc.forEach((function(e,n){t_(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new Dy(ry.comparator)}(r),r.fc=!1,e.next=25,D_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),WI.apply(this,arguments)}function KI(e,t,n){return GI.apply(this,arguments)}function GI(){return GI=kr(yr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rm(t),a=[],o=[],u=Rn(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,pS(i.localStore,Jg(f[0]));case 11:l=e.sent,h=Rn(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,VI(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,gS(i.localStore,c);case 36:return y=e.sent,e.next=39,pS(i.localStore,y);case 39:return l=e.sent,e.next=42,lI(i,QI(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),GI.apply(this,arguments)}function QI(e){return Wg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $I(e){var t=Rm(e);return Rm(Rm(t.localStore).persistence).vi()}function YI(e,t,n,r){return XI.apply(this,arguments)}function XI(){return XI=kr(yr().mark((function e(t,n,r,i){var a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Rm(t)).fc){e.next=3;break}return e.abrupt("return",void Cm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ic.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,kS(a.localStore,ak(o[0]));case 10:return u=e.sent,s=ab.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,RI(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,vS(a.localStore,n,!0);case 17:return AI(a,n,i),e.abrupt("break",20);case 19:Pm();case 20:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e,t,n){return eE.apply(this,arguments)}function eE(){return eE=kr(yr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=tE(t)).fc){e.next=45;break}a=Rn(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ic.has(u)){e.next=10;break}return Cm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,gS(i.localStore,u);case 12:return s=e.sent,e.next=15,pS(i.localStore,s);case 15:return c=e.sent,e.next=18,lI(i,QI(s),c.targetId,!1);case 18:e_(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Rn(r),e.prev=30,h=yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,vS(i.localStore,t,!1).then((function(){t_(i.remoteStore,t),AI(i,t)})).catch(vy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),eE.apply(this,arguments)}function tE(e){var t=Rm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kI.bind(null,t),t.nc.Wo=G_.bind(null,t.eventManager),t.nc._c=Q_.bind(null,t.eventManager),t}function nE(e){var t=Rm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=SI.bind(null,t),t}function rE(e,t,n){var r=Rm(e);(function(){var e=kr(yr().mark((function e(t,n,r){var i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rm(e),r=bb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(tI(i)),a=new eI(i,t.localStore,n.It),e.next=15,n.wc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Ou(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.wc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,RI(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Rm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Nm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var iE=function(){function e(){Nn(this,e),this.synchronizeTabs=!1}return Pn(e,[{key:"initialize",value:function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=ZS(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return oS(this.persistence,new iS,e.initialUser,this.It)}},{key:"gc",value:function(e){return new Kx(Qx.Bs,this.It)}},{key:"mc",value:function(e){return new RS}},{key:"terminate",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aE=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).Ec=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Pn(n,[{key:"initialize",value:function(){var e=kr(yr().mark((function e(t){var r=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(Mn(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,nE(this.Ec.syncEngine);case 6:return e.next=8,y_(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return oS(this.persistence,new iS,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new _x(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new Cy(t,this.persistence);return new Ty(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=nS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?cx.withCacheSize(this.cacheSizeBytes):cx.DEFAULT;return new Jx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,US(),zS(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new RS}}]),n}(iE),oE=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Pn(n,[{key:"initialize",value:function(){var e=kr(yr().mark((function e(t){var r,i=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gi(Mn(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof DS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:BI.bind(null,r),$r:YI.bind(null,r),Br:JI.bind(null,r),vi:$I.bind(null,r),Or:zI.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HI(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=US();if(!DS.C(t))throw new Mm(Lm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=nS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new DS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(aE),uE=function(){function e(){Nn(this,e)}return Pn(e,[{key:"initialize",value:function(){var e=kr(yr().mark((function e(t,n){var r=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return gI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=MI.bind(null,this.syncEngine),e.next=12,D_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new B_}},{key:"createDatastore",value:function(e){var t,n=ZS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new VS(t));return function(e,t,n,r){return new KS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return gI(o.syncEngine,e,0)},a=MS.C()?new MS:new LS,new QS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new uI(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rm(t),Cm("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,XS(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function sE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return kr(yr().mark((function r(){var i;return yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var cE=function(){function e(t){Nn(this,e),this.observer=t,this.muted=!1}return Pn(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Am("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),lE=function(){function e(t,n){var r=this;Nn(this,e),this.bc=t,this.It=n,this.metadata=new Fm,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Pn(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=kr(yr().mark((function e(){var t,n,r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new X_(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=kr(yr().mark((function e(){var t,n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=kr(yr().mark((function e(){var t,n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),fE=function(){function e(t){Nn(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Pn(e,[{key:"lookup",value:function(){var e=kr(yr().mark((function e(t){var n,r=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Mm(Lm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=kr(yr().mark((function e(t,n){var r,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),i=Tb(r.It)+"/documents",a={documents:n.map((function(e){return Sb(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Ob(r.It,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Dm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Uk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=kr(yr().mark((function e(){var t,n=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=ry.fromPath(t);n.mutations.push(new zk(r,n.precondition(r)))})),e.next=7,function(){var e=kr(yr().mark((function e(t,n){var r,i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rm(t),i=Tb(r.It)+"/documents",a={writes:n.map((function(e){return Pb(r.It,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Pm();t=Xm.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Mm(Lm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Xm.min())?Ik.exists(!1):Ik.updateTime(t):Ik.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xm.min()))throw new Mm(Lm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ik.updateTime(t)}return Ik.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),hE=function(){function e(t,n,r,i,a){Nn(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Nc=r.maxAttempts,this.xo=new BS(this.asyncQueue,"transaction_retry")}return Pn(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(kr(yr().mark((function t(){var n,r;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new fE(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!$y(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Bk(t)}return!1}}]),e}(),dE=function(){function e(t,n,r,i){var a=this;Nn(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_m.UNAUTHENTICATED,this.clientId=Km.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Cm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pn(e,[{key:"getConfiguration",value:function(){var e=kr(yr().mark((function e(){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Mm(Lm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Fm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(kr(yr().mark((function n(){var r;return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=j_(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function pE(e,t){return vE.apply(this,arguments)}function vE(){return vE=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Cm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,uS(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),vE.apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=kr(yr().mark((function e(t,n){var r,i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,gE(t);case 3:return r=e.sent,Cm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return O_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return O_(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e){return kE.apply(this,arguments)}function kE(){return kE=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Cm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,pE(t,new iE);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function bE(e){return wE.apply(this,arguments)}function wE(){return wE=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Cm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,mE(t,new uE);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),wE.apply(this,arguments)}function xE(e){return gE(e).then((function(e){return e.persistence}))}function SE(e){return gE(e).then((function(e){return e.localStore}))}function _E(e){return bE(e).then((function(e){return e.remoteStore}))}function IE(e){return bE(e).then((function(e){return e.syncEngine}))}function EE(e){return TE.apply(this,arguments)}function TE(){return TE=kr(yr().mark((function e(t){var n,r;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sI.bind(null,n.syncEngine),r.onUnlisten=hI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function CE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function i(){return yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cE({next:function(a){t.enqueueAndForget((function(){return W_(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Mm(Lm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Mm(Lm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Y_(Kg(n.path),a,{includeMetadataChanges:!0,Nu:!0});return q_(e,o)},i.next=3,EE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function AE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function i(){return yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new cE({next:function(n){t.enqueueAndForget((function(){return W_(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Mm(Lm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Y_(n,a,{includeMetadataChanges:!0,Nu:!0});return q_(e,o)},i.next=3,EE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var NE=new Map;function OE(e,t,n){if(!n)throw new Mm(Lm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function PE(e,t,n,r){if(!0===t&&!0===r)throw new Mm(Lm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function DE(e){if(!ry.isDocumentKey(e))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function RE(e){if(ry.isDocumentKey(e))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function LE(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Pm()}function ME(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Mm(Lm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=LE(e);throw new Mm(Lm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function FE(e,t){if(t<=0)throw new Mm(Lm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var jE=function(){function e(t){var n;if(Nn(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Mm(Lm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mm(Lm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,PE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Pn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),VE=function(){function e(t,n,r,i){Nn(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jE({}),this._settingsFrozen=!1}return Pn(e,[{key:"app",get:function(){if(!this._app)throw new Mm(Lm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Mm(Lm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jE(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Vm;switch(e.type){case"gapi":var t=e.client;return new Bm(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Mm(Lm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=NE.get(e);t&&(Cm("ComponentProvider","Removing Datastore"),NE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function UE(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ME(e,VE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Nm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=_m.MOCK_USER;else{o=Qn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Mm(Lm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _m(s)}e._authCredentials=new Um(new jm(o,u))}}var zE=function(){function e(t,n,r){Nn(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new BE(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),ZE=function(){function e(t,n,r){Nn(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),BE=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this,e,r,Kg(i)))._path=i,a.type="collection",a}return Pn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new zE(this.firestore,null,new ry(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(ZE);function qE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mr(e),OE("collection","path",t),e instanceof VE){var a=ey.fromString.apply(ey,[t].concat(r));return RE(a),new BE(e,null,a)}if(!(e instanceof zE||e instanceof BE))throw new Mm(Lm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ey.fromString.apply(ey,[t].concat(r)));return RE(o),new BE(e.firestore,null,o)}function HE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mr(e),1===arguments.length&&(t=Km.R()),OE("doc","path",t),e instanceof VE){var a=ey.fromString.apply(ey,[t].concat(r));return DE(a),new zE(e,null,new ry(a))}if(!(e instanceof zE||e instanceof BE))throw new Mm(Lm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ey.fromString.apply(ey,[t].concat(r)));return DE(o),new zE(e.firestore,e instanceof BE?e.converter:null,new ry(o))}function WE(e,t){return e=mr(e),t=mr(t),(e instanceof zE||e instanceof BE)&&(t instanceof zE||t instanceof BE)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function KE(e,t){return e=mr(e),t=mr(t),e instanceof ZE&&t instanceof ZE&&e.firestore===t.firestore&&tk(e._query,t._query)&&e.converter===t.converter}var GE=function(){function e(){var t=this;Nn(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new BS(this,"async_queue_retry"),this.jc=function(){var e=zS();e&&Cm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=zS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return Pn(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=zS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Fm;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=kr(yr().mark((function e(){var t=this;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),xy(e.t0)){e.next=12;break}throw e.t0;case 12:Cm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Am("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=F_.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Pm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=kr(yr().mark((function e(){var t;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Rn(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Rn(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function QE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Rn(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $E=function(){function e(){Nn(this,e),this._progressObserver={},this._taskCompletionResolver=new Fm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Pn(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YE=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a){var o;return Nn(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new GE,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Pn(n,[{key:"_terminate",value:function(){return this._firestoreClient||JE(this),this._firestoreClient.terminate()}}]),n}(VE);function XE(e){return e._firestoreClient||JE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JE(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Gy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new dE(e._authCredentials,e._appCheckCredentials,e._queue,r)}function eT(e,t,n){var r=new Fm;return e.asyncQueue.enqueue(kr(yr().mark((function i(){var a;return yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,pE(e,n);case 3:return i.next=5,mE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Lm.FAILED_PRECONDITION||e.code===Lm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Nm("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function tT(e){return function(e){return e.asyncQueue.enqueue(kr(yr().mark((function t(){var n,r;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xE(e);case 2:return n=t.sent,t.next=5,_E(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rm(e);return t._u.delete(0),$S(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(XE(e=ME(e,YE)))}function nT(e){return function(e){return e.asyncQueue.enqueue(kr(yr().mark((function t(){var n,r;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xE(e);case 2:return n=t.sent,t.next=5,_E(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rm(t))._u.add(0),e.next=4,XS(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(XE(e=ME(e,YE)))}function rT(e,t){var n=XE(e=ME(e,YE)),r=new $E;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new lE(e,t)}(function(e,t){if(e instanceof Uint8Array)return sE(e,t);if(e instanceof ArrayBuffer)return sE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ZS(t));e.asyncQueue.enqueueAndForget(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rE,t.next=3,IE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function iT(e,t){return function(e,t){return e.asyncQueue.enqueue(kr(yr().mark((function n(){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,SE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(XE(e=ME(e,YE)),t).then((function(t){return t?new ZE(e,null,t.query):null}))}function aT(e){if(e._initialized||e._terminated)throw new Mm(Lm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var oT=function(){function e(){Nn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ny(n)}return Pn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var uT=function(){function e(t){Nn(this,e),this._byteString=t}return Pn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Uy.fromBase64String(t))}catch(t){throw new Mm(Lm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Uy.fromUint8Array(t))}}]),e}(),sT=Pn((function e(t){Nn(this,e),this._methodName=t})),cT=function(){function e(t,n){if(Nn(this,e),!isFinite(t)||t<-90||t>90)throw new Mm(Lm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Mm(Lm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gm(this._lat,e._lat)||Gm(this._long,e._long)}}]),e}(),lT=/^__.*__$/,fT=function(){function e(t,n,r){Nn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Rk(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dk(e,this.data,t,this.fieldTransforms)}}]),e}(),hT=function(){function e(t,n,r){Nn(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pn(e,[{key:"toMutation",value:function(e,t){return new Rk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function dT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pm()}}var pT=function(){function e(t,n,r,i,a,o){Nn(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pn(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return RT(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(dT(this.na)&&lT.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),vT=function(){function e(t,n,r){Nn(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||ZS(t)}return Pn(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pT({na:e,methodName:t,la:n,path:ny.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function mT(e){var t=e._freezeSettings(),n=ZS(e._databaseId);return new vT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);NT("Data must be an object, but it was:",o,r);var u,s,c=CT(r,o);if(a.merge)u=new Vy(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Rn(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=OT(t,d,n);if(!o.contains(p))throw new Mm(Lm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));LT(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Vy(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new fT(new bg(c),u,s)}var gT=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sT);function kT(e,t,n){return new pT({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var bT=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"_toFieldTransform",value:function(e){return new Sk(e.path,new vk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(sT),wT=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e)).da=r,i}return Pn(n,[{key:"_toFieldTransform",value:function(e){var t=kT(this,e,!0),n=this.da.map((function(e){return TT(e,t)})),r=new mk(n);return new Sk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sT),xT=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e)).da=r,i}return Pn(n,[{key:"_toFieldTransform",value:function(e){var t=kT(this,e,!0),n=this.da.map((function(e){return TT(e,t)})),r=new gk(n);return new Sk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sT),ST=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e))._a=r,i}return Pn(n,[{key:"_toFieldTransform",value:function(e){var t=new bk(e.It,lk(e.It,this._a));return new Sk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(sT);function _T(e,t,n,r){var i=e.fa(1,t,n);NT("Data must be an object, but it was:",i,r);var a=[],o=bg.empty();Oy(r,(function(e,r){var u=DT(t,e,n);r=mr(r);var s=i.ua(u);if(r instanceof gT)a.push(u);else{var c=TT(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Vy(a);return new hT(o,u,i.fieldTransforms)}function IT(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[OT(t,r,n)],s=[i];if(a.length%2!=0)throw new Mm(Lm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(OT(t,a[c])),s.push(a[c+1]);for(var l=[],f=bg.empty(),h=u.length-1;h>=0;--h)if(!LT(l,u[h])){var d=u[h],p=s[h];p=mr(p);var v=o.ua(d);if(p instanceof gT)l.push(d);else{var m=TT(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Vy(l);return new hT(f,y,o.fieldTransforms)}function ET(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return TT(n,e.fa(r?4:3,t))}function TT(e,t){if(AT(e=mr(e)))return NT("Unsupported field value:",t,e),CT(e,t);if(e instanceof sT)return function(e,t){if(!dT(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Rn(e);try{for(a.s();!(n=a.n()).done;){var o=TT(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lk(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ym.fromDate(e);return{timestampValue:yb(t.It,n)}}if(e instanceof Ym){var r=new Ym(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:yb(t.It,r)}}if(e instanceof cT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uT)return{bytesValue:gb(t.It,e._byteString)};if(e instanceof zE){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:wb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(LE(e)))}(e,t)}function CT(e,t){var n={};return Py(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Oy(e,(function(e,r){var i=TT(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function AT(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ym||e instanceof cT||e instanceof uT||e instanceof zE||e instanceof sT)}function NT(e,t,n){if(!AT(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=LE(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function OT(e,t,n){if((t=mr(t))instanceof oT)return t._internalPath;if("string"==typeof t)return DT(e,t);throw RT("Field path arguments must be of type string or ",e,!1,void 0,n)}var PT=new RegExp("[~\\*/\\[\\]]");function DT(e,t,n){if(t.search(PT)>=0)throw RT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return zn(oT,(0,m.Z)(t.split(".")))._internalPath}catch(et){throw RT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function RT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Mm(Lm.INVALID_ARGUMENT,u+e+s)}function LT(e,t){return e.some((function(e){return e.isEqual(t)}))}var MT=function(){function e(t,n,r,i,a){Nn(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new zE(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new FT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(jT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),FT=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"data",value:function(){return Gi(Mn(n.prototype),"data",this).call(this)}}]),n}(MT);function jT(e,t){return"string"==typeof t?DT(e,t):t instanceof oT?t._internalPath:t._delegate._internalPath}var VT=function(){function e(t,n){Nn(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UT=function(e){Ln(n,e);var t=Un(n);function n(e,r,i,a,o,u){var s;return Nn(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Pn(n,[{key:"exists",value:function(){return Gi(Mn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(jT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(MT),zT=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gi(Mn(n.prototype),"data",this).call(this,e)}}]),n}(UT),ZT=function(){function e(t,n,r,i){Nn(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new VT(i.hasPendingWrites,i.fromCache),this.query=r}return Pn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zT(n._firestore,n._userDataWriter,r.key,r,new VT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Mm(Lm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:BT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function BT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pm()}}function qT(e,t){return e instanceof UT&&t instanceof UT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof ZT&&t instanceof ZT&&e._firestore===t._firestore&&KE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function HT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Mm(Lm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var WT=Pn((function e(){Nn(this,e)}));function KT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var GT=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return Pn(n,[{key:"_apply",value:function(e){var t=mT(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){aC(o,a);var s,c=[],l=Rn(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(iC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=iC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||aC(o,a),u=ET(n,"where",o,"in"===a||"not-in"===a);var h=Og.create(i,a,u);return function(e,t){if(t.dt()){var n=$g(e);if(null!==n&&!n.isEqual(t.field))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Qg(e);null!==r&&oC(e,t.field,r)}var i=function(e,t){var n,r=Rn(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ZE(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(WT);var QT=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return Pn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new zg(t,n);return function(e,t){if(null===Qg(e)){var n=$g(e);null!==n&&oC(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new ZE(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Hg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(WT);var $T=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).type=e,a.pa=r,a.Ia=i,a}return Pn(n,[{key:"_apply",value:function(e){return new ZE(e.firestore,e.converter,ek(e._query,this.pa,this.Ia))}}]),n}(WT);var YT=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Pn(n,[{key:"_apply",value:function(e){var t=rC(e,this.type,this.Ta,this.Ea);return new ZE(e.firestore,e.converter,function(e,t){return new Hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(WT);function XT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("startAt",t,!0)}function JT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YT("startAfter",t,!1)}var eC=function(e){Ln(n,e);var t=Un(n);function n(e,r,i){var a;return Nn(this,n),(a=t.call(this)).type=e,a.Ta=r,a.Ea=i,a}return Pn(n,[{key:"_apply",value:function(e){var t=rC(e,this.type,this.Ta,this.Ea);return new ZE(e.firestore,e.converter,function(e,t){return new Hg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(WT);function tC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eC("endBefore",t,!1)}function nC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new eC("endAt",t,!0)}function rC(e,t,n,r){if(n[0]=mr(n[0]),n[0]instanceof MT)return function(e,t,n,r,i){if(!r)throw new Mm(Lm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Rn(Xg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(sg(t,r.key));else{var c=r.data.field(s.field);if(Hy(c))throw new Mm(Lm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ug(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=mT(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Mm(Lm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Yg(e)&&-1!==c.indexOf("/"))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ey.fromString(c));if(!ry.isDocumentKey(l))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new ry(l);u.push(sg(t,f))}else{var h=ET(n,r,c);u.push(h)}}return new Ug(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function iC(e,t,n){if("string"==typeof(n=mr(n))){if(""===n)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yg(t)&&-1!==n.indexOf("/"))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ey.fromString(n));if(!ry.isDocumentKey(r))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sg(e,new ry(r))}if(n instanceof zE)return sg(e,n._key);throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(LE(n),"."))}function aC(e,t){if(!Array.isArray(e)||0===e.length)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function oC(e,t,n){if(!n.isEqual(t))throw new Mm(Lm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var uC={maxAttempts:5},sC=function(){function e(){Nn(this,e)}return Pn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return By(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Pm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Oy(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new cT(By(e.latitude),By(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Wy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ky(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Zy(e);return new Ym(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ey.fromString(e);Dm(Hb(n));var r=new Qy(n.get(1),n.get(3)),i=new ry(n.popFirst(5));return r.isEqual(t)||Am("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function cC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lC=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).firestore=e,r}return Pn(n,[{key:"convertBytes",value:function(e){return new uT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zE(this.firestore,null,t)}}]),n}(sC),fC=function(){function e(t,n){Nn(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=mT(t)}return Pn(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=hC(e,this._firestore),i=cC(r.converter,t,n),a=yT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Ik.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=hC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mr(t))||t instanceof oT?IT(this._dataReader,"WriteBatch.update",i._key,t,n,o):_T(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Ik.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=hC(e,this._firestore);return this._mutations=this._mutations.concat(new Uk(t._key,Ik.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Mm(Lm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function hC(e,t){if((e=mr(e)).firestore!==t)throw new Mm(Lm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var dC=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).firestore=e,r}return Pn(n,[{key:"convertBytes",value:function(e){return new uT(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new zE(this.firestore,null,t)}}]),n}(sC);function pC(e){e=ME(e,zE);var t=ME(e.firestore,YE),n=XE(t),r=new dC(t);return function(e,t){var n=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function r(){return yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=kr(yr().mark((function e(t,n,r){var i,a;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Mm(Lm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=j_(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UT(t,r,e._key,n,new VT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function vC(e){e=ME(e,ZE);var t=ME(e.firestore,YE),n=XE(t),r=new dC(t);return function(e,t){var n=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function r(){return yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=kr(yr().mark((function e(t,n,r){var i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yS(t,n,!0);case 3:i=e.sent,a=new iI(n,i.Hi),o=a.ju(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=j_(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,SE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new ZT(t,r,e,n)}))}function mC(e,t,n){e=ME(e,zE);var r=ME(e.firestore,YE),i=cC(e.converter,t,n);return bC(r,[yT(mT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ik.none())])}function yC(e,t,n){e=ME(e,zE);for(var r=ME(e.firestore,YE),i=mT(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return bC(r,[("string"==typeof(t=mr(t))||t instanceof oT?IT(i,"updateDoc",e._key,t,n,o):_T(i,"updateDoc",e._key,t)).toMutation(e._key,Ik.exists(!0))])}function gC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||QE(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(QE(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof zE)l=ME(e.firestore,YE),f=Kg(e._key.path),c={next:function(t){n[s]&&n[s](wC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=ME(e,ZE);l=ME(p.firestore,YE),f=p._query;var v=new dC(l);c={next:function(e){n[s]&&n[s](new ZT(l,v,p,e))},error:n[s+1],complete:n[s+2]},HT(e._query)}return function(e,t,n,r){var i=new cE(r),a=new Y_(t,i,n);return e.asyncQueue.enqueueAndForget(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=q_,t.next=3,EE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=W_,t.next=3,EE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XE(l),f,h,c)}function kC(e,t){return function(e,t){var n=new cE(t);return e.asyncQueue.enqueueAndForget(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rm(e).Ru.add(t),t.next()},t.next=3,EE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(kr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rm(e).Ru.delete(t)},t.next=3,EE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XE(e=ME(e,YE)),QE(t)?t:{next:t})}function bC(e,t){return function(e,t){var n=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function r(){return yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=pI,r.next=3,IE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(XE(e),t)}function wC(e,t,n){var r=n.docs.get(t._key),i=new dC(e);return new UT(e,i,t._key,r,new VT(n.hasPendingWrites,n.fromCache),t.converter)}var xC=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,r))._firestore=e,i}return Pn(n,[{key:"get",value:function(e){var t=this,r=hC(e,this._firestore),i=new dC(this._firestore);return Gi(Mn(n.prototype),"get",this).call(this,e).then((function(e){return new UT(t._firestore,i,r._key,e._document,new VT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Nn(this,e),this._firestore=t,this._transaction=n,this._dataReader=mT(t)}return Pn(e,[{key:"get",value:function(e){var t=this,n=hC(e,this._firestore),r=new lC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Pm();var i=e[0];if(i.isFoundDocument())return new MT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new MT(t._firestore,r,n._key,null,n.converter);throw Pm()}))}},{key:"set",value:function(e,t,n){var r=hC(e,this._firestore),i=cC(r.converter,t,n),a=yT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=hC(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=mr(t))||t instanceof oT?IT(this._dataReader,"Transaction.update",i._key,t,n,o):_T(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=hC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function SC(e,t,n){e=ME(e,YE);var r=Object.assign(Object.assign({},uC),n);return function(e){if(e.maxAttempts<1)throw new Mm(Lm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function i(){var a;return yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return bE(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new hE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(XE(e),(function(n){return t(new xC(e,n))}),r)}function _C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wT("arrayUnion",t)}function IC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new xT("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Im=e}(di),oi(new br("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new YE(new zm(e.getProvider("auth-internal")),new Hm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Mm(Lm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ki(Sm,"3.4.15",e),ki(Sm,"3.4.15","esm2017")}();function EC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Mm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TC(){if("undefined"===typeof Uint8Array)throw new Mm("unimplemented","Uint8Arrays are not available in this environment.")}function CC(){if("undefined"==typeof atob)throw new Mm("unimplemented","Blobs are unavailable in Firestore in this environment.")}var AC=function(){function e(t){Nn(this,e),this._delegate=t}return Pn(e,[{key:"toBase64",value:function(){return CC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return TC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return CC(),new e(uT.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return TC(),new e(uT.fromUint8Array(t))}}]),e}();function NC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Rn(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var OC=function(){function e(){Nn(this,e)}return Pn(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){aT(e=ME(e,YE));var n=XE(e),r=e._freezeSettings(),i=new uE;return eT(n,i,new aE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){aT(e=ME(e,YE));var t=XE(e),n=e._freezeSettings(),r=new uE;return eT(t,r,new oE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Mm(Lm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Fm;return e._queue.enqueueAndForgetEvenWhileRestricted(kr(yr().mark((function n(){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ky.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ky.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(nS(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),PC=function(){function e(t,n,r){var i=this;Nn(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Qy||(this._appCompat=t)}return Pn(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Nm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};UE(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return tT(this._delegate)}},{key:"disableNetwork",value:function(){return nT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&PE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Fm;return e.asyncQueue.enqueueAndForget(kr(yr().mark((function n(){return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=II,n.next=3,IE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(XE(e=ME(e,YE)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return kC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Mm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new WC(this,qE(this._delegate,e))}catch(t){throw jC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new FC(this,HE(this._delegate,e))}catch(t){throw jC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new BC(this,function(e,t){if(e=ME(e,VE),OE("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Mm(Lm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ZE(e,null,function(e){return new Hg(ey.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw jC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return SC(this._delegate,(function(n){return e(new RC(t,n))}))}},{key:"batch",value:function(){var e=this;return XE(this._delegate),new LC(new fC(this._delegate,(function(t){return bC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return rT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return iT(this._delegate,e).then((function(e){return e?new BC(t,e):null}))}}]),e}(),DC=function(e){Ln(n,e);var t=Un(n);function n(e){var r;return Nn(this,n),(r=t.call(this)).firestore=e,r}return Pn(n,[{key:"convertBytes",value:function(e){return new AC(new uT(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return FC.forKey(t,this.firestore,null)}}]),n}(sC);var RC=function(){function e(t,n){Nn(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new DC(t)}return Pn(e,[{key:"get",value:function(e){var t=this,n=KC(e);return this._delegate.get(n).then((function(e){return new zC(t._firestore,new UT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=KC(e);return n?(EC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=KC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KC(e);return this._delegate.delete(t),this}}]),e}(),LC=function(){function e(t){Nn(this,e),this._delegate=t}return Pn(e,[{key:"set",value:function(e,t,n){var r=KC(e);return n?(EC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=KC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),MC=function(){function e(t,n,r){Nn(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Pn(e,[{key:"fromFirestore",value:function(e,t){var n=new zT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ZC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new DC(t),n),i.set(n,a)),a}}]),e}();MC.INSTANCES=new WeakMap;var FC=function(){function e(t,n){Nn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DC(t)}return Pn(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new WC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new WC(this.firestore,qE(this._delegate,e))}catch(t){throw jC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=mr(e))instanceof zE&&WE(this._delegate,e)}},{key:"set",value:function(e,t){t=EC("DocumentReference.set",t);try{return t?mC(this._delegate,e,t):mC(this._delegate,e)}catch(n){throw jC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?yC(this._delegate,e):yC.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw jC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return bC(ME(e.firestore,YE),[new Uk(e._key,Ik.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VC(n),a=UC(n,(function(t){return new zC(e.firestore,new UT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return gC(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?pC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ME(e,zE);var t=ME(e.firestore,YE);return CE(XE(t),e._key,{source:"server"}).then((function(n){return wC(t,e,n)}))}(this._delegate):function(e){e=ME(e,zE);var t=ME(e.firestore,YE);return CE(XE(t),e._key).then((function(n){return wC(t,e,n)}))}(this._delegate),t.then((function(e){return new zC(n.firestore,new UT(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(MC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Mm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new zE(n._delegate,r,new ry(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new zE(n._delegate,r,t))}}]),e}();function jC(e,t,n){return e.message=e.message.replace(t,n),e}function VC(e){var t,n=Rn(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!NC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function UC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=NC(e[0])?e[0]:NC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zC=function(){function e(t,n){Nn(this,e),this._firestore=t,this._delegate=n}return Pn(e,[{key:"ref",get:function(){return new FC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qT(this._delegate,e._delegate)}}]),e}(),ZC=function(e){Ln(n,e);var t=Un(n);function n(){return Nn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Pm()}(void 0!==t),t}}]),n}(zC),BC=function(){function e(t,n){Nn(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new DC(t)}return Pn(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KT(this._delegate,function(e,t,n){var r=t,i=jT("where",e);return new GT(i,r,n)}(t,n,r)))}catch(i){throw jC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jT("orderBy",e);return new QT(n,t)}(t,n)))}catch(r){throw jC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KT(this._delegate,function(e){return FE("limit",e),new $T("limit",e,"F")}(t)))}catch(n){throw jC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KT(this._delegate,function(e){return FE("limitToLast",e),new $T("limitToLast",e,"L")}(t)))}catch(n){throw jC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,KT(this._delegate,XT.apply(void 0,arguments)))}catch(t){throw jC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KT(this._delegate,JT.apply(void 0,arguments)))}catch(t){throw jC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KT(this._delegate,tC.apply(void 0,arguments)))}catch(t){throw jC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KT(this._delegate,nC.apply(void 0,arguments)))}catch(t){throw jC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return KE(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?vC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ME(e,ZE);var t=ME(e.firestore,YE),n=XE(t),r=new dC(t);return AE(n,e._query,{source:"server"}).then((function(n){return new ZT(t,r,e,n)}))}(this._delegate):function(e){e=ME(e,ZE);var t=ME(e.firestore,YE),n=XE(t),r=new dC(t);return HT(e._query),AE(n,e._query).then((function(n){return new ZT(t,r,e,n)}))}(this._delegate),t.then((function(e){return new HC(n.firestore,new ZT(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=VC(n),a=UC(n,(function(t){return new HC(e.firestore,new ZT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return gC(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(MC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),qC=function(){function e(t,n){Nn(this,e),this._firestore=t,this._delegate=n}return Pn(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new ZC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),HC=function(){function e(t,n){Nn(this,e),this._firestore=t,this._delegate=n}return Pn(e,[{key:"query",get:function(){return new BC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new ZC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new ZC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qT(this._delegate,e._delegate)}}]),e}(),WC=function(e){Ln(n,e);var t=Un(n);function n(e,r){var i;return Nn(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Pn(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new FC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new FC(this.firestore,void 0===e?HE(this._delegate):HE(this._delegate,e))}catch(t){throw jC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=ME(e.firestore,YE),r=HE(e),i=cC(e.converter,t);return bC(n,[yT(mT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ik.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new FC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return WE(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(MC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(BC);function KC(e){return ME(e,zE)}var GC=function(){function e(){Nn(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=zn(oT,n)}return Pn(e,[{key:"isEqual",value:function(e){return(e=mr(e))instanceof oT&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ny.keyField().canonicalString())}}]),e}(),QC=function(){function e(t){Nn(this,e),this._delegate=t}return Pn(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new bT("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new gT("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=_C.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=IC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new ST("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),$C={Firestore:PC,GeoPoint:cT,Timestamp:Ym,Blob:AC,Transaction:RC,WriteBatch:LC,DocumentReference:FC,DocumentSnapshot:zC,Query:BC,QueryDocumentSnapshot:ZC,QuerySnapshot:HC,CollectionReference:WC,FieldPath:GC,FieldValue:QC,setLogLevel:function(e){!function(e){Em.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new br("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$C)))}(e,(function(e,t){return new PC(e,t,new OC)})),e.registerVersion("@firebase/firestore-compat","0.1.24")}(Bi);var YC=Bi.initializeApp({apiKey:"AIzaSyCjCGdEFucq67XQUl12f4Ub1LDcF-MS-5c",authDomain:"react--cln.firebaseapp.com",projectId:"react--cln",storageBucket:"react--cln.appspot.com",messagingSenderId:"934011416851",appId:"1:934011416851:web:7f77692b3c6a6efbc8eae6",measurementId:"G-F4TS9QYS4W"}).firestore(),XC=Bi.auth(),JC=new Bi.auth.GoogleAuthProvider;var eA=function(){var e=Le(Cn),t=qe();return(0,N.jsxs)("div",{className:"header",children:[(0,N.jsxs)("div",{className:"header_left",children:[(0,N.jsx)(ce,{children:(0,N.jsx)(ke.Z,{})}),(0,N.jsx)("img",{src:"https://www.citypng.com/public/uploads/preview/-11597272377xtovj4zmfl.png",alt:"logo"})]}),(0,N.jsxs)("div",{className:"header_middle",children:[(0,N.jsx)(be.Z,{}),(0,N.jsx)("input",{placeholder:"Search mail",type:"text"}),(0,N.jsx)(we.Z,{className:"header_inputCaret"})]}),(0,N.jsxs)("div",{className:"header_right",children:[(0,N.jsx)(ce,{children:(0,N.jsx)(Se.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(xe.Z,{})}),(0,N.jsx)(ge,{onClick:function(){XC.signOut().then((function(){t(Tn())})).catch((function(e){return alert(e.message)}))},src:null===e||void 0===e?void 0:e.photoUrl})]})]})};var tA=function(e){var t=e.Icon,n=e.title,r=e.number,i=e.selected;return(0,N.jsxs)("div",{className:"sidebar_option  ".concat(i&&"sidebar_option--active"),children:[(0,N.jsx)(t,{}),(0,N.jsx)("h3",{children:n}),(0,N.jsx)("p",{children:r})]})},nA=n(5735);function rA(e){return(0,$.Z)("MuiButton",e)}var iA=(0,P.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var aA=t.createContext({}),oA=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],uA=["root"],sA=function(e){return(0,o.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},cA=(0,l.ZP)(re,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,ie.Z)(n.color))],t["size".concat((0,ie.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,ie.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,a=e.theme,u=e.ownerState;return(0,o.Z)({},a.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(a.vars||a).shape.borderRadius,transition:a.transitions.create(["background-color","box-shadow","border-color","color"],{duration:a.transitions.duration.short}),"&:hover":(0,o.Z)({textDecoration:"none",backgroundColor:a.vars?"rgba(".concat(a.vars.palette.text.primaryChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(a.palette.text.primary,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===u.variant&&"inherit"!==u.color&&{backgroundColor:a.vars?"rgba(".concat(a.vars.palette[u.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(a.palette[u.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===u.variant&&"inherit"!==u.color&&{border:"1px solid ".concat((a.vars||a).palette[u.color].main),backgroundColor:a.vars?"rgba(".concat(a.vars.palette[u.color].mainChannel," / ").concat(a.vars.palette.action.hoverOpacity,")"):(0,c.Fq)(a.palette[u.color].main,a.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===u.variant&&{backgroundColor:(a.vars||a).palette.grey.A100,boxShadow:(a.vars||a).shadows[4],"@media (hover: none)":{boxShadow:(a.vars||a).shadows[2],backgroundColor:(a.vars||a).palette.grey[300]}},"contained"===u.variant&&"inherit"!==u.color&&{backgroundColor:(a.vars||a).palette[u.color].dark,"@media (hover: none)":{backgroundColor:(a.vars||a).palette[u.color].main}}),"&:active":(0,o.Z)({},"contained"===u.variant&&{boxShadow:(a.vars||a).shadows[8]})},(0,i.Z)(t,"&.".concat(iA.focusVisible),(0,o.Z)({},"contained"===u.variant&&{boxShadow:(a.vars||a).shadows[6]})),(0,i.Z)(t,"&.".concat(iA.disabled),(0,o.Z)({color:(a.vars||a).palette.action.disabled},"outlined"===u.variant&&{border:"1px solid ".concat((a.vars||a).palette.action.disabledBackground)},"outlined"===u.variant&&"secondary"===u.color&&{border:"1px solid ".concat((a.vars||a).palette.action.disabled)},"contained"===u.variant&&{color:(a.vars||a).palette.action.disabled,boxShadow:(a.vars||a).shadows[0],backgroundColor:(a.vars||a).palette.action.disabledBackground})),t),"text"===u.variant&&{padding:"6px 8px"},"text"===u.variant&&"inherit"!==u.color&&{color:(a.vars||a).palette[u.color].main},"outlined"===u.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===u.variant&&"inherit"!==u.color&&{color:(a.vars||a).palette[u.color].main,border:a.vars?"1px solid rgba(".concat(a.vars.palette[u.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.Fq)(a.palette[u.color].main,.5))},"contained"===u.variant&&{color:a.vars?a.vars.palette.text.primary:null==(n=(r=a.palette).getContrastText)?void 0:n.call(r,a.palette.grey[300]),backgroundColor:(a.vars||a).palette.grey[300],boxShadow:(a.vars||a).shadows[2]},"contained"===u.variant&&"inherit"!==u.color&&{color:(a.vars||a).palette[u.color].contrastText,backgroundColor:(a.vars||a).palette[u.color].main},"inherit"===u.color&&{color:"inherit",borderColor:"currentColor"},"small"===u.size&&"text"===u.variant&&{padding:"4px 5px",fontSize:a.typography.pxToRem(13)},"large"===u.size&&"text"===u.variant&&{padding:"8px 11px",fontSize:a.typography.pxToRem(15)},"small"===u.size&&"outlined"===u.variant&&{padding:"3px 9px",fontSize:a.typography.pxToRem(13)},"large"===u.size&&"outlined"===u.variant&&{padding:"7px 21px",fontSize:a.typography.pxToRem(15)},"small"===u.size&&"contained"===u.variant&&{padding:"4px 10px",fontSize:a.typography.pxToRem(13)},"large"===u.size&&"contained"===u.variant&&{padding:"8px 22px",fontSize:a.typography.pxToRem(15)},u.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,i.Z)(t,"&.".concat(iA.focusVisible),{boxShadow:"none"}),(0,i.Z)(t,"&:active",{boxShadow:"none"}),(0,i.Z)(t,"&.".concat(iA.disabled),{boxShadow:"none"}),t)})),lA=(0,l.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,ie.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},sA(t))})),fA=(0,l.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,ie.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,o.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},sA(t))})),hA=t.forwardRef((function(e,n){var r=t.useContext(aA),i=(0,nA.Z)(r,e),c=(0,f.Z)({props:i,name:"MuiButton"}),l=c.children,h=c.color,d=void 0===h?"primary":h,p=c.component,v=void 0===p?"button":p,m=c.className,y=c.disabled,g=void 0!==y&&y,k=c.disableElevation,b=void 0!==k&&k,w=c.disableFocusRipple,x=void 0!==w&&w,S=c.endIcon,_=c.focusVisibleClassName,I=c.fullWidth,E=void 0!==I&&I,T=c.size,C=void 0===T?"medium":T,A=c.startIcon,O=c.type,P=c.variant,D=void 0===P?"text":P,R=(0,a.Z)(c,oA),L=(0,o.Z)({},c,{color:d,component:v,disabled:g,disableElevation:b,disableFocusRipple:x,fullWidth:E,size:C,type:O,variant:D}),M=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,u=e.classes,c={root:["root",a,"".concat(a).concat((0,ie.Z)(t)),"size".concat((0,ie.Z)(i)),"".concat(a,"Size").concat((0,ie.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,ie.Z)(i))],endIcon:["endIcon","iconSize".concat((0,ie.Z)(i))]},l=(0,s.Z)(c,rA,u);return(0,o.Z)({},u,l)}(L),F=M.root,j=(0,a.Z)(M,uA),V=A&&(0,N.jsx)(lA,{className:j.startIcon,ownerState:L,children:A}),U=S&&(0,N.jsx)(fA,{className:j.endIcon,ownerState:L,children:S});return(0,N.jsxs)(cA,(0,o.Z)({ownerState:L,className:(0,u.Z)(r.className,F,m),component:v,disabled:g,focusRipple:!x,focusVisibleClassName:(0,u.Z)(j.focusVisible,_),ref:n,type:O},R,{classes:j,children:[V,l,U]}))})),dA=hA,pA=n(2419),vA=n(2041),mA=n(151),yA=n(9212),gA=n(332),kA=n(963),bA=n(7015),wA=n(1131),xA=n(501),SA=n(4413),_A=n(2716),IA=xn({name:"mail",initialState:{selectedMail:null,sendMessageIsOpen:!1},reducers:{selectMail:function(e,t){e.selectedMail=t.payload},openSendMessage:function(e){e.sendMessageIsOpen=!0},closeSendMessage:function(e){e.sendMessageIsOpen=!1}}}),EA=IA.actions,TA=EA.selectMail,CA=EA.openSendMessage,AA=EA.closeSendMessage,NA=function(e){return e.mail.selectedMail},OA=function(e){return e.mail.sendMessageIsOpen},PA=IA.reducer;var DA,RA=function(){var e=qe();return(0,N.jsxs)("div",{className:"sidebar",children:[(0,N.jsx)(dA,{startIcon:(0,N.jsx)(pA.Z,{fontSize:"large"}),className:"sidebar_compose",onClick:function(){return e(CA())},children:"Compose"}),(0,N.jsx)(tA,{Icon:vA.Z,title:"Inbox",number:54,selected:!0}),(0,N.jsx)(tA,{Icon:mA.Z,title:"Starred",number:54}),(0,N.jsx)(tA,{Icon:yA.Z,title:"Snoozed",number:54}),(0,N.jsx)(tA,{Icon:gA.Z,title:"Important",number:54}),(0,N.jsx)(tA,{Icon:kA.Z,title:"Sent",number:54}),(0,N.jsx)(tA,{Icon:bA.Z,title:"Draft",number:54}),(0,N.jsx)(tA,{Icon:wA.Z,title:"More",number:54}),(0,N.jsx)("div",{className:"sidebar_footer",children:(0,N.jsxs)("div",{className:"sidebar_footerIcon",children:[(0,N.jsx)(ce,{children:(0,N.jsx)(xA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(SA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(_A.Z,{})})]})})]})},LA=n(7394),MA=n(8698),FA=n(9388),jA=n(7247),VA=n(4281),UA=n(2686),zA=n(8384),ZA=n(2898),BA=n(2207),qA=n(8014),HA=n(7608);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(DA||(DA={}));var WA=function(e){return e};var KA="beforeunload",GA="popstate";function QA(e){e.preventDefault(),e.returnValue=""}function $A(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function YA(){return Math.random().toString(36).substr(2,8)}function XA(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function JA(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var eN=(0,t.createContext)(null);var tN=(0,t.createContext)(null);var nN=(0,t.createContext)({outlet:null,matches:[]});function rN(e,t){if(!e)throw new Error(t)}function iN(e,t,n){void 0===n&&(n="/");var r=hN(("string"===typeof t?JA(t):t).pathname||"/",n);if(null==r)return null;var i=aN(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=cN(i[o],r);return a}function aN(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||rN(!1),a.relativePath=a.relativePath.slice(r.length));var o=dN([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&rN(!1),aN(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:sN(o,e.index),routesMeta:u})})),t}var oN=/^:\w+$/,uN=function(e){return"*"===e};function sN(e,t){var n=e.split("/"),r=n.length;return n.some(uN)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!uN(e)})).reduce((function(e,t){return e+(oN.test(t)?3:""===t?1:10)}),r)}function cN(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=lN({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:dN([i,l.pathname]),pathnameBase:pN(dN([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=dN([i,l.pathnameBase]))}return a}function lN(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,h.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function fN(e,t,n){var r,i="string"===typeof e?JA(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?JA(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:vN(a),hash:mN(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function hN(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var dN=function(e){return e.join("/").replace(/\/\/+/g,"/")},pN=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},vN=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},mN=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function yN(){return null!=(0,t.useContext)(tN)}function gN(){return yN()||rN(!1),(0,t.useContext)(tN).location}function kN(){yN()||rN(!1);var e=(0,t.useContext)(eN),n=e.basename,r=e.navigator,i=(0,t.useContext)(nN).matches,a=gN().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=fN(e,JSON.parse(o),a);"/"!==n&&(i.pathname=dN([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function bN(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(nN.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function wN(e){rN(!1)}function xN(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?DA.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;yN()&&rN(!1);var h=pN(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=JA(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,S=p.key,_=void 0===S?"default":S,I=(0,t.useMemo)((function(){var e=hN(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:_}}),[h,m,g,b,x,_]);return null==I?null:(0,t.createElement)(eN.Provider,{value:d},(0,t.createElement)(tN.Provider,{children:a,value:{location:I,navigationType:s}}))}function SN(e){var n=e.children,r=e.location;return function(e,n){yN()||rN(!1);var r,i=(0,t.useContext)(nN).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,gN());if(n){var c,l="string"===typeof n?JA(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||rN(!1),r=l}else r=s;var f=r.pathname||"/",h=iN(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return bN(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:dN([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:dN([u,e.pathnameBase])})})),i)}(_N(n),r)}function _N(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==wN&&rN(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=_N(e.props.children)),n.push(r)}else n.push.apply(n,_N(e.props.children))})),n}var IN=function(){var e=kN(),t=Le(NA);return(0,N.jsxs)("div",{className:"email",children:[(0,N.jsxs)("div",{className:"email_tools",children:[(0,N.jsxs)("div",{className:"email_toolsLeft",children:[(0,N.jsx)(ce,{onClick:function(){e("/")},children:(0,N.jsx)(LA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(MA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(FA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(jA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(VA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(UA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(zA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(gA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(ZA.Z,{})})]}),(0,N.jsxs)("div",{className:"email_toolsRight",children:[(0,N.jsx)(ce,{children:(0,N.jsx)(BA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(qA.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(HA.Z,{})})]})]}),(0,N.jsxs)("div",{className:"mail_body",children:[(0,N.jsxs)("div",{className:"mail_bodyHeader",children:[(0,N.jsx)("h2",{children:null===t||void 0===t?void 0:t.subject}),(0,N.jsx)(gA.Z,{className:"mail_important"}),(0,N.jsx)("p",{children:null===t||void 0===t?void 0:t.title}),(0,N.jsx)("p",{className:"mail_time",children:null===t||void 0===t?void 0:t.time})]}),(0,N.jsx)("div",{className:"mail_message",children:(0,N.jsx)("p",{children:null===t||void 0===t?void 0:t.description})})]})]})},EN=n(492),TN=n(1009),CN=n(8996),AN=n(8638),NN=n(7122),ON=n(2216),PN=n(1137);var DN=function(e){var t=e.Icon,n=e.title,r=e.color,i=e.selected;return(0,N.jsxs)("div",{className:"section  ".concat(i&&"section--selected"),style:{borderBottom:"3px solid ".concat(r),color:"{selected && color}"},children:[(0,N.jsx)(t,{}),(0,N.jsx)("h4",{children:n})]})},RN=n(4938);var LN=t.createContext();function MN(e){return(0,$.Z)("PrivateSwitchBase",e)}(0,P.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var FN=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],jN=(0,l.ZP)(re)((function(e){var t=e.ownerState;return(0,o.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),VN=(0,l.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),UN=t.forwardRef((function(e,n){var r=e.autoFocus,i=e.checked,c=e.checkedIcon,l=e.className,f=e.defaultChecked,d=e.disabled,p=e.disableFocusRipple,v=void 0!==p&&p,m=e.edge,y=void 0!==m&&m,g=e.icon,k=e.id,b=e.inputProps,w=e.inputRef,x=e.name,S=e.onBlur,_=e.onChange,I=e.onFocus,E=e.readOnly,T=e.required,C=e.tabIndex,A=e.type,O=e.value,P=(0,a.Z)(e,FN),D=(0,RN.Z)({controlled:i,default:Boolean(f),name:"SwitchBase",state:"checked"}),R=(0,h.Z)(D,2),L=R[0],M=R[1],F=t.useContext(LN),j=d;F&&"undefined"===typeof j&&(j=F.disabled);var V="checkbox"===A||"radio"===A,U=(0,o.Z)({},e,{checked:L,disabled:j,disableFocusRipple:v,edge:y}),z=function(e){var t=e.classes,n=e.checked,r=e.disabled,i=e.edge,a={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,ie.Z)(i))],input:["input"]};return(0,s.Z)(a,MN,t)}(U);return(0,N.jsxs)(jN,(0,o.Z)({component:"span",className:(0,u.Z)(z.root,l),centerRipple:!0,focusRipple:!v,disabled:j,tabIndex:null,role:void 0,onFocus:function(e){I&&I(e),F&&F.onFocus&&F.onFocus(e)},onBlur:function(e){S&&S(e),F&&F.onBlur&&F.onBlur(e)},ownerState:U,ref:n},P,{children:[(0,N.jsx)(VN,(0,o.Z)({autoFocus:r,checked:i,defaultChecked:f,className:z.input,disabled:j,id:V&&k,name:x,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;M(t),_&&_(e,t)}},readOnly:E,ref:w,required:T,ownerState:U,tabIndex:C,type:A},"checkbox"===A&&void 0===O?{}:{value:O},b)),L?c:g]}))})),zN=UN,ZN=(0,le.Z)((0,N.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),BN=(0,le.Z)((0,N.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),qN=(0,le.Z)((0,N.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function HN(e){return(0,$.Z)("MuiCheckbox",e)}var WN=(0,P.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),KN=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],GN=(0,l.ZP)(zN,{shouldForwardProp:function(e){return(0,l.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,ie.Z)(n.color))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,o.Z)({color:(n.vars||n).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===r.color?n.vars.palette.action.activeChannel:n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,c.Fq)("default"===r.color?n.palette.action.active:n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(t={},(0,i.Z)(t,"&.".concat(WN.checked,", &.").concat(WN.indeterminate),{color:(n.vars||n).palette[r.color].main}),(0,i.Z)(t,"&.".concat(WN.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),QN=(0,N.jsx)(BN,{}),$N=(0,N.jsx)(ZN,{}),YN=(0,N.jsx)(qN,{}),XN=t.forwardRef((function(e,n){var r,i,u=(0,f.Z)({props:e,name:"MuiCheckbox"}),c=u.checkedIcon,l=void 0===c?QN:c,h=u.color,d=void 0===h?"primary":h,p=u.icon,v=void 0===p?$N:p,m=u.indeterminate,y=void 0!==m&&m,g=u.indeterminateIcon,k=void 0===g?YN:g,b=u.inputProps,w=u.size,x=void 0===w?"medium":w,S=(0,a.Z)(u,KN),_=y?k:v,I=y?k:l,E=(0,o.Z)({},u,{color:d,indeterminate:y,size:x}),T=function(e){var t=e.classes,n=e.indeterminate,r=e.color,i={root:["root",n&&"indeterminate","color".concat((0,ie.Z)(r))]},a=(0,s.Z)(i,HN,t);return(0,o.Z)({},t,a)}(E);return(0,N.jsx)(GN,(0,o.Z)({type:"checkbox",inputProps:(0,o.Z)({"data-indeterminate":y},b),icon:t.cloneElement(_,{fontSize:null!=(r=_.props.fontSize)?r:x}),checkedIcon:t.cloneElement(I,{fontSize:null!=(i=I.props.fontSize)?i:x}),ownerState:E,ref:n},S,{classes:T}))})),JN=n(7113),eO=n(9990);var tO=function(e){var t=e.id,n=e.title,r=e.subject,i=e.description,a=e.time,o=kN(),u=qe();return(0,N.jsxs)("div",{className:"emailRow",children:[(0,N.jsxs)("div",{className:"emailRow_options",onClick:function(){u(TA({id:t,title:n,subject:r,description:i,time:a})),o("/Email")},children:[(0,N.jsx)(XN,{}),(0,N.jsx)(ce,{children:(0,N.jsx)(JN.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(eO.Z,{})})]}),(0,N.jsx)("h3",{className:"emailRow_title",children:n}),(0,N.jsx)("div",{className:"emailRow_message",children:(0,N.jsxs)("h4",{children:[r," ",(0,N.jsx)("span",{className:"emailRow_description",children:i})]})}),(0,N.jsx)("p",{className:"emailRow_time",children:a})]})};var nO=function(){var e=(0,t.useState)([]),n=(0,h.Z)(e,2),r=n[0],i=n[1];return(0,t.useEffect)((function(){YC.collection("EmailData").orderBy("timestamp","desc").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),(0,N.jsxs)("div",{className:"emailList",children:[(0,N.jsxs)("div",{className:"emailList_settings",children:[(0,N.jsxs)("div",{className:"emailList_settingsLeft",children:[(0,N.jsx)(XN,{}),(0,N.jsx)(ce,{children:(0,N.jsx)(we.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(EN.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(ZA.Z,{})})]}),(0,N.jsxs)("div",{className:"emailList_settingsRight",children:[(0,N.jsx)(ce,{children:(0,N.jsx)(TN.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(CN.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(AN.Z,{})}),(0,N.jsx)(ce,{children:(0,N.jsx)(NN.Z,{})})]})]}),(0,N.jsxs)("div",{className:"emaliList_sections",children:[(0,N.jsx)(DN,{Icon:vA.Z,title:"Primary",color:"red",selected:!0}),(0,N.jsx)(DN,{Icon:ON.Z,title:"Social",color:"#1A73E8"}),(0,N.jsx)(DN,{Icon:PN.Z,title:"Promotions",color:"green"})]}),(0,N.jsx)("div",{className:"emailList_list",children:r.map((function(e){var t=e.id,n=e.data,r=n.to,i=n.subject,a=n.message,o=n.timestamp;return(0,N.jsx)(tO,{id:t,title:r,subject:i,description:a,time:new Date(1e3*(null===o||void 0===o?void 0:o.seconds)).toUTCString()},t)}))})]})};function rO(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,WA({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(GA,(function(){if(a)h.call(a),a=null;else{var e=DA.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else y(e)}}));var u=DA.Pop,s=i(),c=s[0],l=s[1],f=$A(),h=$A();function d(e){return"string"===typeof e?e:XA(e)}function p(e,t){return void 0===t&&(t=null),WA((0,o.Z)({pathname:l.pathname,hash:"",search:""},"string"===typeof e?JA(e):e,{state:t,key:YA()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function y(e){u=e;var t=i();c=t[0],l=t[1],f.call({action:u,location:l})}function g(e){r.go(e)}null==c&&(c=0,r.replaceState((0,o.Z)({},r.state,{idx:c}),""));var k={get action(){return u},get location(){return l},createHref:d,push:function e(t,i){var a=DA.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var u=v(o,c+1),s=u[0],l=u[1];try{r.pushState(s,"",l)}catch(f){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=DA.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,c),u=o[0],s=o[1];r.replaceState(u,"",s),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(KA,QA),function(){t(),h.length||n.removeEventListener(KA,QA)}}};return k}({window:i}));var u=a.current,s=(0,t.useState)({action:u.action,location:u.location}),c=(0,h.Z)(s,2),l=c[0],f=c[1];return(0,t.useLayoutEffect)((function(){return u.listen(f)}),[u]),(0,t.createElement)(xN,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:u})}var iO=n(9823);function aO(e,t){if(null==e)return{};var n,r,i=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var oO=["name"],uO=["_f"],sO=["_f"],cO=function(e){return"checkbox"===e.type},lO=function(e){return e instanceof Date},fO=function(e){return null==e},hO=function(e){return"object"===typeof e},dO=function(e){return!fO(e)&&!Array.isArray(e)&&hO(e)&&!lO(e)},pO=function(e){return dO(e)&&e.target?cO(e.target)?e.target.checked:e.target.value:e},vO=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},mO=function(e){return Array.isArray(e)?e.filter(Boolean):[]},yO=function(e){return void 0===e},gO=function(e,t,n){if(!t||!dO(e))return n;var r=mO(t.split(/[,[\].]+?/)).reduce((function(e,t){return fO(e)?e:e[t]}),e);return yO(r)||r===e?yO(e[t])?n:e[t]:r},kO="blur",bO="focusout",wO="onBlur",xO="onChange",SO="onSubmit",_O="onTouched",IO="all",EO="max",TO="min",CO="maxLength",AO="minLength",NO="pattern",OO="required",PO="validate",DO=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t[i]!==IO&&(t[i]=!r||IO),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),RO=function(e){return dO(e)&&!Object.keys(e).length},LO=function(e,t,n){e.name;var r=aO(e,oO);return RO(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||IO)}))},MO=function(e){return Array.isArray(e)?e:[e]};function FO(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject.subscribe({next:n.current.callback});return function(){return function(e){e&&e.unsubscribe()}(t)}}),[e.disabled])}var jO=function(e){return"string"===typeof e},VO=function(e,t,n,r){var i=Array.isArray(e);return jO(e)?(r&&t.watch.add(e),gO(n,e)):i?e.map((function(e){return r&&t.watch.add(e),gO(n,e)})):(r&&(t.watchAll=!0),n)},UO=function(e){return"function"===typeof e},zO=function(e){for(var t in e)if(UO(e[t]))return!0;return!1};var ZO=function(e,t,n,r,a){return t?Kt(Kt({},n[e]),{},{types:Kt(Kt({},n[e]&&n[e].types?n[e].types:{}),{},(0,i.Z)({},r,a||!0))}):{}},BO=function(e){return/^\w*$/.test(e)},qO=function(e){return mO(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function HO(e,t,n){for(var r=-1,i=BO(t)?[t]:qO(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=dO(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var WO=function e(t,n,r){var i,a=Rn(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=gO(t,o);if(u){var s=u._f,c=aO(u,uO);if(s&&n(s.name)){if(s.ref.focus&&yO(s.ref.focus()))break;if(s.refs){s.refs[0].focus();break}}else dO(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},KO=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||(0,m.Z)(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},GO=function(e,t,n){var r=mO(gO(e,n));return HO(r,"root",t[n]),HO(e,n,r),e},QO=function(e){return"boolean"===typeof e},$O=function(e){return"file"===e.type},YO=function(e){return jO(e)||t.isValidElement(e)},XO=function(e){return"radio"===e.type},JO=function(e){return e instanceof RegExp},eP={value:!1,isValid:!1},tP={value:!0,isValid:!0},nP=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!yO(e[0].attributes.value)?yO(e[0].value)||""===e[0].value?tP:{value:e[0].value,isValid:!0}:tP:eP}return eP},rP={isValid:!1,value:null},iP=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),rP):rP};function aP(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(YO(e)||Array.isArray(e)&&e.every(YO)||QO(e)&&!e)return{type:n,message:YO(e)?e:"",ref:t}}var oP=function(e){return dO(e)&&!JO(e)?e:{value:e,message:""}},uP=function(){var e=kr(yr().mark((function e(t,n,r,i,a){var o,u,s,c,l,f,h,d,p,v,m,y,g,k,b,w,x,S,_,I,E,T,C,A,N,O,P,D,R,L,M,F,j,V,U,z,Z,B,q,H,W,K,G,Q;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,k=o.disabled,g&&!k){e.next=3;break}return e.abrupt("return",{});case 3:if(b=s?s[0]:u,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(QO(e)?"":e||" "),b.reportValidity())},x={},S=XO(u),_=cO(u),I=S||_,E=(y||$O(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,T=ZO.bind(null,m,r,x),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:CO,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:AO,a=e?t:n;x[m]=Kt({type:e?r:i,message:a,ref:u},T(e?r:i,a))},!(a?!Array.isArray(n)||!n.length:c&&(!I&&(E||fO(n))||QO(n)&&!n||_&&!nP(s).isValid||S&&!iP(s).isValid))){e.next=19;break}if(A=YO(c)?{value:!!c,message:c}:oP(c),N=A.value,O=A.message,!N){e.next=19;break}if(x[m]=Kt({type:OO,message:O,ref:b},T(OO,O)),r){e.next=19;break}return w(O),e.abrupt("return",x);case 19:if(E||fO(h)&&fO(d)){e.next=28;break}if(R=oP(d),L=oP(h),fO(n)||isNaN(n)?(F=u.valueAsDate||new Date(n),jO(R.value)&&(P=F>new Date(R.value)),jO(L.value)&&(D=F<new Date(L.value))):(M=u.valueAsNumber||+n,fO(R.value)||(P=M>R.value),fO(L.value)||(D=M<L.value)),!P&&!D){e.next=28;break}if(C(!!P,R.message,L.message,EO,TO),r){e.next=28;break}return w(x[m].message),e.abrupt("return",x);case 28:if(!l&&!f||E||!(jO(n)||a&&Array.isArray(n))){e.next=38;break}if(j=oP(l),V=oP(f),U=!fO(j.value)&&n.length>j.value,z=!fO(V.value)&&n.length<V.value,!U&&!z){e.next=38;break}if(C(U,j.message,V.message),r){e.next=38;break}return w(x[m].message),e.abrupt("return",x);case 38:if(!p||E||!jO(n)){e.next=45;break}if(Z=oP(p),B=Z.value,q=Z.message,!JO(B)||n.match(B)){e.next=45;break}if(x[m]=Kt({type:NO,message:q,ref:u},T(NO,q)),r){e.next=45;break}return w(q),e.abrupt("return",x);case 45:if(!v){e.next=79;break}if(!UO(v)){e.next=58;break}return e.next=49,v(n);case 49:if(H=e.sent,!(W=aP(H,b))){e.next=56;break}if(x[m]=Kt(Kt({},W),T(PO,W.message)),r){e.next=56;break}return w(W.message),e.abrupt("return",x);case 56:e.next=79;break;case 58:if(!dO(v)){e.next=79;break}K={},e.t0=yr().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(G=e.t1.value,RO(K)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=aP,e.next=68,v[G](n);case 68:e.t3=e.sent,e.t4=b,e.t5=G,(Q=(0,e.t2)(e.t3,e.t4,e.t5))&&(K=Kt(Kt({},Q),T(G,Q.message)),w(Q.message),r&&(x[m]=K)),e.next=61;break;case 75:if(RO(K)){e.next=79;break}if(x[m]=Kt({ref:b},K),r){e.next=79;break}return e.abrupt("return",x);case 79:return w(!0),e.abrupt("return",x);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();var sP="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function cP(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(sP&&(e instanceof Blob||e instanceof FileList)||!n&&!dO(e))return e;for(var r in t=n?[]:{},e){if(UO(e[r])){t=e;break}t[r]=cP(e[r])}}return t}var lP=function(e){return{isOnSubmit:!e||e===SO,isOnBlur:e===wO,isOnChange:e===xO,isOnAll:e===IO,isOnTouch:e===_O}};function fP(e){for(var t in e)if(!yO(e[t]))return!1;return!0}function hP(e,t){var n,r=BO(t)?[t]:qO(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=yO(e)?r++:e[t[r++]];return e}(e,r),a=r[r.length-1];i&&delete i[a];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(dO(s)&&RO(s)||Array.isArray(s)&&fP(s))&&(n?delete n[f]:delete e[f]),n=s}}return e}function dP(){var e=[];return{get observers(){return e},next:function(t){var n,r=Rn(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var pP=function(e){return fO(e)||!hO(e)};function vP(e,t){if(pP(e)||pP(t))return e===t;if(lO(e)&&lO(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(lO(u)&&lO(s)||dO(u)&&dO(s)||Array.isArray(u)&&Array.isArray(s)?!vP(u,s):u!==s)return!1}}return!0}var mP=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},yP=function(e){return"select-multiple"===e.type},gP=function(e){return XO(e)||cO(e)},kP=function(e){return mP(e)&&e.isConnected};function bP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(dO(e)||n)for(var r in e)Array.isArray(e[r])||dO(e[r])&&!zO(e[r])?(t[r]=Array.isArray(e[r])?[]:{},bP(e[r],t[r])):fO(e[r])||(t[r]=!0);return t}function wP(e,t,n){var r=Array.isArray(e);if(dO(e)||r)for(var i in e)Array.isArray(e[i])||dO(e[i])&&!zO(e[i])?yO(t)||pP(n[i])?n[i]=Array.isArray(e[i])?bP(e[i],[]):Kt({},bP(e[i])):wP(e[i],fO(t)?{}:t[i],n[i]):n[i]=!vP(e[i],t[i]);return n}var xP=function(e,t){return wP(e,t,bP(t))},SP=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return yO(e)?e:n?""===e||fO(e)?NaN:+e:r&&jO(e)?new Date(e):i?i(e):e};function _P(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return $O(t)?t.files:XO(t)?iP(e.refs).value:yP(t)?(0,m.Z)(t.selectedOptions).map((function(e){return e.value})):cO(t)?nP(e.refs).value:SP(yO(t.value)?e.ref.value:t.value,e)}var IP=function(e,t,n,r){var i,a={},o=Rn(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=gO(t,u);s&&HO(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:(0,m.Z)(e),fields:a,shouldUseNativeValidation:r}},EP=function(e){return yO(e)?void 0:JO(e)?e.source:dO(e)?JO(e.value)?e.value.source:e.value:e},TP=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function CP(e,t,n){var r=gO(e,n);if(r||BO(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=gO(t,a),u=gO(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var AP=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},NP=function(e,t){return!mO(gO(e,t)).length&&hP(e,t)},OP={mode:SO,reValidateMode:xO,shouldFocusError:!0};function PP(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Kt(Kt({},OP),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},a={},o=cP(n.defaultValues)||{},u=n.shouldUnregister?{}:cP(o),s={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,f={},h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={watch:dP(),array:dP(),state:dP()},p=lP(n.mode),v=lP(n.reValidateMode),y=n.criteriaMode===IO,g=function(e){return function(t){clearTimeout(l),l=window.setTimeout(e,t)}},k=function(){var e=kr(yr().mark((function e(t){var i;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,!h.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=RO,e.next=6,I();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,T(a,!0);case 12:e.t0=e.sent;case 13:i=e.t0,t||i===r.isValid||(r.isValid=i,d.state.next({isValid:i}));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,c=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(i&&n){if(s.action=!0,l&&Array.isArray(gO(a,e))){var f=n(gO(a,e),i.argA,i.argB);c&&HO(a,e,f)}if(h.errors&&l&&Array.isArray(gO(r.errors,e))){var p=n(gO(r.errors,e),i.argA,i.argB);c&&HO(r.errors,e,p),NP(r.errors,e)}if(h.touchedFields&&l&&Array.isArray(gO(r.touchedFields,e))){var v=n(gO(r.touchedFields,e),i.argA,i.argB);c&&HO(r.touchedFields,e,v)}h.dirtyFields&&(r.dirtyFields=xP(o,u)),d.state.next({isDirty:A(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else HO(u,e,t)},w=function(e,t){HO(r.errors,e,t),d.state.next({errors:r.errors})},x=function(e,t,n,r){var i=gO(a,e);if(i){var c=gO(u,e,yO(n)?gO(o,e):n);yO(c)||r&&r.defaultChecked||t?HO(u,e,t?c:_P(i._f)):P(e,c),s.mount&&k()}},S=function(e,t,n,i,a){var u=!1,s={name:e},c=gO(r.touchedFields,e);if(h.isDirty){var l=r.isDirty;r.isDirty=s.isDirty=A(),u=l!==s.isDirty}if(h.dirtyFields&&(!n||i)){var f=gO(r.dirtyFields,e);vP(gO(o,e),t)?hP(r.dirtyFields,e):HO(r.dirtyFields,e,!0),s.dirtyFields=r.dirtyFields,u=u||f!==gO(r.dirtyFields,e)}return n&&!c&&(HO(r.touchedFields,e,n),s.touchedFields=r.touchedFields,u=u||h.touchedFields&&c!==n),u&&a&&d.state.next(s),u?s:{}},_=function(){var n=kr(yr().mark((function n(i,a,o,u){var s,c,p;return yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=gO(r.errors,i),c=h.isValid&&r.isValid!==a,t.delayError&&o?(e=g((function(){return w(i,o)})))(t.delayError):(clearTimeout(l),e=null,o?HO(r.errors,i,o):hP(r.errors,i)),(o?vP(s,o):!s)&&RO(u)&&!c||(p=Kt(Kt(Kt({},u),c?{isValid:a}:{}),{},{errors:r.errors,name:i}),r=Kt(Kt({},r),p),d.state.next(p)),f[i]--,h.isValidating&&!Object.values(f).some((function(e){return e}))&&(d.state.next({isValidating:!1}),f={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),I=function(){var e=kr(yr().mark((function e(t){return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Kt({},u),n.context,IP(t||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=kr(yr().mark((function e(t){var n,i,a,o,u,s;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(n=e.sent,i=n.errors,t){a=Rn(t);try{for(a.s();!(o=a.n()).done;)u=o.value,(s=gO(i,u))?HO(r.errors,u,s):hP(r.errors,u)}catch(c){a.e(c)}finally{a.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=kr(yr().mark((function e(t,i){var a,o,s,l,f,h,d,p=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=yr().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(s=t[o])){e.next=21;break}if(l=s._f,f=aO(s,sO),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,uP(s,gO(u,l.name),y,n.shouldUseNativeValidation,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:!i&&(gO(d,l.name)?h?GO(r.errors,d,l.name):HO(r.errors,l.name,d[l.name]):hP(r.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,T(f,i,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e,t=Rn(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=gO(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!kP(e)})):!kP(r._f.ref))&&Z(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},A=function(e,t){return e&&t&&HO(u,e,t),!vP(F(),o)},N=function(e,t,n){var r=Kt({},s.mount?u:yO(t)?o:jO(e)?(0,i.Z)({},e,t):t);return VO(e,c,r,n)},O=function(e){return mO(gO(s.mount?u:o,e,t.shouldUnregister?gO(o,e,[]):[]))},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=gO(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&HO(u,e,SP(t,o)),i=sP&&mP(o.ref)&&fO(t)?"":t,yP(o.ref)?(0,m.Z)(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?cO(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):$O(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&S(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},D=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=gO(a,u);!c.array.has(t)&&pP(o)&&(!s||s._f)||lO(o)?P(u,o,r):e(u,o,r)}},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=gO(a,e),s=c.array.has(e),l=cP(t);HO(u,e,l),s?(d.array.next({name:e,values:u}),(h.isDirty||h.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=xP(o,u),d.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:A(e,l)}))):!i||i._f||fO(l)?P(e,l,n):D(e,l,n),KO(e,c)&&d.state.next({}),d.watch.next({name:e})},L=function(){var t=kr(yr().mark((function t(i){var o,s,l,h,m,g,b,w,x,E,T,C,A,N,O;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i.target,s=o.name,!(l=gO(a,s))){t.next=39;break}if(g=o.type?_P(l._f):pO(i),b=i.type===kO||i.type===bO,w=!TP(l._f)&&!n.resolver&&!gO(r.errors,s)&&!l._f.deps||AP(b,gO(r.touchedFields,s),r.isSubmitted,v,p),x=KO(s,c,b),HO(u,s,g),b?(l._f.onBlur&&l._f.onBlur(i),e&&e(0)):l._f.onChange&&l._f.onChange(i),E=S(s,g,b,!1),T=!RO(E)||x,!b&&d.watch.next({name:s,type:i.type}),!w){t.next=15;break}return t.abrupt("return",T&&d.state.next(Kt({name:s},x?{}:E)));case 15:if(!b&&x&&d.state.next({}),f[s]=(f[s],1),d.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,I([s]);case 21:C=t.sent,A=C.errors,N=CP(r.errors,a,s),O=CP(A,a,N.name||s),h=O.error,s=O.name,m=RO(A),t.next=37;break;case 30:return t.next=32,uP(l,gO(u,s),y,n.shouldUseNativeValidation);case 32:return t.t0=s,h=t.sent[t.t0],t.next=36,k(!0);case 36:m=t.sent;case 37:l._f.deps&&M(l._f.deps),_(s,m,h,E);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var e=kr(yr().mark((function e(t){var o,u,s,l,f,p=arguments;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.length>1&&void 0!==p[1]?p[1]:{},l=MO(t),d.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,E(yO(t)?t:l);case 6:f=e.sent,u=RO(f),s=t?!l.some((function(e){return gO(f,e)})):u,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(l.map(function(){var e=kr(yr().mark((function e(t){var n;return yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gO(a,t),e.next=3,T(n&&n._f?(0,i.Z)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||r.isValid)&&k(),e.next=21;break;case 18:return e.next=20,T(a);case 20:s=u=e.sent;case 21:return d.state.next(Kt(Kt(Kt({},!jO(t)||h.isValid&&u!==r.isValid?{}:{name:t}),n.resolver?{isValid:u}:{}),{},{errors:r.errors,isValidating:!1})),o.shouldFocus&&!s&&WO(a,(function(e){return gO(r.errors,e)}),t?l:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Kt(Kt({},o),s.mount?u:{});return yO(e)?t:jO(e)?gO(t,e):e.map((function(e){return gO(t,e)}))},j=function(e,t){return{invalid:!!gO((t||r).errors,e),isDirty:!!gO((t||r).dirtyFields,e),isTouched:!!gO((t||r).touchedFields,e),error:gO((t||r).errors,e)}},V=function(e){e?MO(e).forEach((function(e){return hP(r.errors,e)})):r.errors={},d.state.next({errors:r.errors})},U=function(e,t,n){var i=(gO(a,e,{_f:{}})._f||{}).ref;HO(r.errors,e,Kt(Kt({},t),{},{ref:i})),d.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&i&&i.focus&&i.focus()},z=function(e,t){return UO(e)?d.watch.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},Z=function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Rn(e?MO(e):c.mount);try{for(s.s();!(t=s.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),gO(a,l)&&(i.keepValue||(hP(a,l),hP(u,l)),!i.keepError&&hP(r.errors,l),!i.keepDirty&&hP(r.dirtyFields,l),!i.keepTouched&&hP(r.touchedFields,l),!n.shouldUnregister&&!i.keepDefaultValue&&hP(o,l))}}catch(f){s.e(f)}finally{s.f()}d.watch.next({}),d.state.next(Kt(Kt({},r),i.keepDirty?{isDirty:A()}:{})),!i.keepIsValid&&k()},B=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=gO(a,t),l=QO(r.disabled);return HO(a,t,{_f:Kt(Kt({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),c.mount.add(t),i?l&&HO(u,t,r.disabled?void 0:gO(u,t,_P(i._f))):x(t,!0,r.value),Kt(Kt(Kt({},l?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:EP(r.min),max:EP(r.max),minLength:EP(r.minLength),maxLength:EP(r.maxLength),pattern:EP(r.pattern)}:{}),{},{name:t,onChange:L,onBlur:L,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,r),i=gO(a,t);var l=yO(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,f=gP(l),h=i._f.refs||[];if(f?h.find((function(e){return e===l})):l===i._f.ref)return;HO(a,t,{_f:Kt(Kt({},i._f),f?{refs:[].concat((0,m.Z)(h.filter(kP)),[l],(0,m.Z)(Array.isArray(gO(o,t))?[{}]:[])),ref:{type:l.type,name:t}}:{ref:l})}),x(t,!1,void 0,l)}else(i=gO(a,t,{}))._f&&(i._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!vO(c.array,t)||!s.action)&&c.unMount.add(t)}))})},q=function(e,t){return function(){var i=kr(yr().mark((function i(o){var s,l,f,h,p;return yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),s=!0,l=cP(u),d.state.next({isSubmitting:!0}),i.prev=4,!n.resolver){i.next=15;break}return i.next=8,I();case 8:f=i.sent,h=f.errors,p=f.values,r.errors=h,l=p,i.next=17;break;case 15:return i.next=17,T(a);case 17:if(!RO(r.errors)){i.next=23;break}return d.state.next({errors:{},isSubmitting:!0}),i.next=21,e(l,o);case 21:i.next=27;break;case 23:if(!t){i.next=26;break}return i.next=26,t(Kt({},r.errors),o);case 26:n.shouldFocusError&&WO(a,(function(e){return gO(r.errors,e)}),c.mount);case 27:i.next=33;break;case 29:throw i.prev=29,i.t0=i.catch(4),s=!1,i.t0;case 33:return i.prev=33,r.isSubmitted=!0,d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:RO(r.errors)&&s,submitCount:r.submitCount+1,errors:r.errors}),i.finish(33);case 37:case"end":return i.stop()}}),i,null,[[4,29,33,37]])})));return function(e){return i.apply(this,arguments)}}()},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gO(a,e)&&(yO(t.defaultValue)?R(e,gO(o,e)):(R(e,t.defaultValue),HO(o,e,t.defaultValue)),t.keepTouched||hP(r.touchedFields,e),t.keepDirty||(hP(r.dirtyFields,e),r.isDirty=t.defaultValue?A(e,gO(o,e)):A()),t.keepError||(hP(r.errors,e),h.isValid&&k()),d.state.next(Kt({},r)))},W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e||o,l=cP(i),f=e&&!RO(e)?l:o;if(n.keepDefaultValues||(o=i),!n.keepValues){if(n.keepDirtyValues){var p,v=Rn(c.mount);try{for(v.s();!(p=v.n()).done;){var m=p.value;gO(r.dirtyFields,m)?HO(f,m,gO(u,m)):R(m,gO(f,m))}}catch(x){v.e(x)}finally{v.f()}}else{if(sP&&yO(e)){var y,g=Rn(c.mount);try{for(g.s();!(y=g.n()).done;){var k=y.value,b=gO(a,k);if(b&&b._f){var w=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;try{if(mP(w)){w.closest("form").reset();break}}catch(S){}}}}catch(x){g.e(x)}finally{g.f()}}a={}}u=t.shouldUnregister?n.keepDefaultValues?cP(o):{}:l,d.array.next({values:f}),d.watch.next({values:f})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!h.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,d.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||vP(e,o)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?xP(o,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=gO(a,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:B,unregister:Z,getFieldState:j,_executeSchema:I,_getWatch:N,_getDirty:A,_updateValid:k,_removeUnmounted:C,_updateFieldArray:b,_getFieldArray:O,_subjects:d,_proxyFormState:h,get _fields(){return a},get _formValues(){return u},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Kt(Kt({},n),e)}},trigger:M,register:B,handleSubmit:q,watch:z,setValue:R,getValues:F,reset:W,resetField:H,clearErrors:V,unregister:Z,setError:U,setFocus:K,getFieldState:j}}var DP=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=(0,h.Z)(r,2),a=i[0],o=i[1];n.current?n.current.control._options=e:n.current=Kt(Kt({},PP(e)),{},{formState:a});var u=n.current.control,s=t.useCallback((function(e){LO(e,u._proxyFormState,!0)&&(u._formState=Kt(Kt({},u._formState),e),o(Kt({},u._formState)))}),[u]);return FO({subject:u._subjects.state,callback:s}),t.useEffect((function(){u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),n.current.formState=DO(a,u._proxyFormState),n.current}(),n=e.register,r=e.handleSubmit,i=e.formState.errors,a=qe();return(0,N.jsxs)("div",{className:"sendMail",children:[(0,N.jsxs)("div",{className:"sendMail_header",children:[(0,N.jsx)("h3",{children:"New Message"}),(0,N.jsx)(iO.Z,{onClick:function(){return a(AA())},className:"sendMail_close"})]}),(0,N.jsxs)("form",{onSubmit:r((function(e){YC.collection("EmailData").add({to:e.to,subject:e.subject,message:e.message,timestamp:Bi.firestore.FieldValue.serverTimestamp()}),a(AA())}),(function(){console.log("something went wrong!!!")})),children:[(0,N.jsx)("input",Kt({name:"to",placeholder:"To",type:"email"},n("to",{required:!0}))),i.to&&(0,N.jsx)("p",{className:"sendMail_error",children:" To is Required!!"}),(0,N.jsx)("input",Kt({name:"subject",placeholder:"Subject",type:"text "},n("subject",{required:!0}))),i.subject&&(0,N.jsx)("p",{className:"sendMail_error",children:" Subject is Required!!"}),(0,N.jsx)("input",Kt({name:"message",placeholder:"Message",type:"text",className:"sendMail_message"},n("message",{required:!0}))),i.message&&(0,N.jsx)("p",{className:"sendMail_error",children:" Meessage is Required!!"}),(0,N.jsx)("div",{className:"sendMail_options",children:(0,N.jsx)(dA,{className:"sendMail_send",varient:"container",color:"primary",type:"submit",children:"Send"})})]})]})};var RP=function(){var e=qe();return(0,N.jsx)("div",{className:"login",children:(0,N.jsxs)("div",{className:"login_container",children:[(0,N.jsx)("img",{src:"https://static.dezeen.com/uploads/2020/10/gmail-google-logo-rebrand-workspace-design_dezeen_2364_col_0.jpg",alt:""}),(0,N.jsx)(dA,{variant:"contained",color:"primary",onClick:function(){XC.signInWithPopup(JC).then((function(t){var n=t.user;e(En({displayName:n.displayName,email:n.email,photoUrl:n.photoURL}))})).catch((function(e){return alert(e.message)}))},children:"Login"})]})})};var LP=function(){var e=Le(OA),n=Le(Cn),r=qe();return(0,t.useEffect)((function(){XC.onAuthStateChanged((function(e){e&&r(En({displayName:e.displayName,email:e.email,photoUrl:e.photoURL}))}))}),[]),(0,N.jsx)(rO,{children:n?(0,N.jsxs)("div",{className:"App",children:[(0,N.jsx)(eA,{}),(0,N.jsxs)("div",{className:"app_body",children:[(0,N.jsx)(RA,{}),(0,N.jsxs)(SN,{children:[(0,N.jsx)(wN,{path:"/Email",element:(0,N.jsx)(IN,{})}),(0,N.jsx)(wN,{path:"/",element:(0,N.jsx)(nO,{})})]}),e&&(0,N.jsx)(DP,{})]})]}):(0,N.jsx)(RP,{})})},MP=function(e){var t,n=kn(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,u=void 0===o?n():o,s=r.devTools,c=void 0===s||s,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!mn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=en(a)}var p=u;"function"===typeof p&&(p=p(n));var v=nn.apply(void 0,p),m=tn;c&&(m=vn(pn({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(d)?y=sn([v],d):"function"===typeof d&&(y=d(y)),Jt(t,f,m.apply(void 0,y))}({reducer:{mail:PA,user:An}});r.createRoot(document.getElementById("root")).render((0,N.jsx)(Ve,{store:MP,children:(0,N.jsx)(LP,{})}))}()}();
//# sourceMappingURL=main.b6f639ce.js.map